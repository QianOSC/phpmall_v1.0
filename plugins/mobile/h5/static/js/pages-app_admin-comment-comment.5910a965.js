(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-app_admin-comment-comment"],{"430c":function(t,e,i){"use strict";i.r(e);var o=i("d1a3"),a=i.n(o);for(var n in o)"default"!==n&&function(t){i.d(e,t,function(){return o[t]})}(n);e["default"]=a.a},"489c":function(t,e,i){var o=i("659c");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var a=i("4f06").default;a("7ff7e6f6",o,!0,{sourceMap:!1,shadowMode:!1})},"659c":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".text-center[data-v-e5208076]{text-align:center}.font-weight[data-v-e5208076]{font-weight:700}.page-width[data-v-e5208076]{width:100%}.goods-hover-class[data-v-e5208076]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-e5208076]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}uni-page-body[data-v-e5208076]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-e5208076]{width:100%}.u-hover-class[data-v-e5208076]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-e5208076]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.comment[data-v-e5208076]{background-color:#f7f7f7}.navigator[data-v-e5208076]{width:%?750?%;height:%?100?%;background-color:#fff;border-bottom:%?1?% solid #e2e2e2;position:fixed;top:var(--window-top);left:0;z-index:1000}.navigator>uni-view[data-v-e5208076]{width:%?250?%;height:%?100?%;text-align:center}.navigator>uni-view>uni-text[data-v-e5208076]{display:inline-block;height:%?100?%;line-height:%?98?%;font-size:%?28?%;border-bottom-style:solid;border-bottom-width:%?2?%;border-bottom-color:rgba(0,0,0,0)}.navigator>uni-view .active-nav[data-v-e5208076]{color:#446dfd;border-bottom-color:#446dfd}.replyStatus[data-v-e5208076]{margin-top:%?124?%;width:%?750?%;height:%?56?%;background-color:#f7f7f7}.replyStatus[data-v-e5208076] :first-child{border-top-left-radius:%?28?%;border-bottom-left-radius:%?28?%}.replyStatus[data-v-e5208076] :last-child{border-top-right-radius:%?28?%;border-bottom-right-radius:%?28?%}.replyStatus>uni-view[data-v-e5208076]{width:%?160?%;height:%?56?%;line-height:%?56?%;font-size:%?24?%;text-align:center;background-color:#fff;border:%?1?% solid #446dfd}.replyStatus .active-reply[data-v-e5208076]{background-color:#446dfd;color:#fff}.tip[data-v-e5208076]{position:fixed;top:calc(%?300?% + var(--window-top));left:0;right:0;margin:0 auto;color:#666;font-size:%?24?%;width:%?240?%;text-align:center}.tip>uni-image[data-v-e5208076]{height:%?240?%;width:%?240?%;margin-bottom:%?20?%}.content[data-v-e5208076]{width:%?750?%;padding:%?24?%;-webkit-box-sizing:border-box;box-sizing:border-box}.content .item[data-v-e5208076]{background-color:#fff;width:%?702?%;-webkit-box-sizing:border-box;box-sizing:border-box;padding:%?24?%;margin-bottom:%?24?%;border-radius:%?16?%}.content .item .top .image[data-v-e5208076]{width:%?144?%;height:%?144?%;border-top-left-radius:%?8?%;border-bottom-left-radius:%?8?%}.content .item .top .text[data-v-e5208076]{width:%?510?%;height:%?144?%;padding:%?20?% %?24?% %?20?% %?20?%;-webkit-box-sizing:border-box;box-sizing:border-box;border-top-right-radius:%?8?%;border-bottom-right-radius:%?8?%}.content .item .top .text .name[data-v-e5208076]{width:%?466?%;height:%?57?%;line-height:%?28?%;font-size:%?24?%;color:#353535;word-break:break-all;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden}.content .item .top .text .from[data-v-e5208076]{width:%?466?%;font-size:%?24?%;color:#999;margin-top:%?24?%}.content .item .bottom[data-v-e5208076]{padding-top:%?20?%;-webkit-box-sizing:border-box;box-sizing:border-box;height:%?80?%}.content .item .bottom .performed[data-v-e5208076]{margin-top:%?6?%;height:%?48?%}.content .item .bottom .performed .icon[data-v-e5208076]{width:%?48?%;height:%?48?%}.content .item .bottom .performed .evaluation[data-v-e5208076]{width:%?50?%;color:#353535;font-size:%?22?%;margin-left:%?16?%}.content .item .bottom .performed .show[data-v-e5208076]{width:%?88?%;height:%?36?%;line-height:%?36?%;border-radius:%?18?%;background-color:#ff9000;font-size:%?22?%;color:#fff;text-align:center;margin-left:%?16?%}.content .item .bottom .button[data-v-e5208076]{height:%?60?%}.content .item .bottom .button .show-button[data-v-e5208076],.content .item .bottom .button uni-view.reply[data-v-e5208076]{display:inline-block;height:%?60?%;line-height:%?60?%;padding:0 %?20?%;min-width:%?120?%;border-style:solid;border-width:%?1?%;border-radius:%?30?%;font-size:%?28?%;text-align:center;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}.content .item .bottom .button .show-button[data-v-e5208076]{border-color:#bbb;color:#353535}.content .item .bottom .button .reply[data-v-e5208076]{border-color:#446dfd;color:#446dfd;margin-left:%?16?%}.is-top-box-bg[data-v-e5208076]{background:#e5e5e5!important}.is-top-center-bg[data-v-e5208076]{background:#dedede!important}body.?%PAGE?%[data-v-e5208076]{background:#f7f7f7}",""])},"8b1e":function(t,e,i){"use strict";var o=i("489c"),a=i.n(o);a.a},b56c:function(t,e,i){"use strict";i.r(e);var o=i("b8d7"),a=i("430c");for(var n in a)"default"!==n&&function(t){i.d(e,t,function(){return a[t]})}(n);i("8b1e");var r=i("2877"),s=Object(r["a"])(a["default"],o["a"],o["b"],!1,null,"e5208076",null);e["default"]=s.exports},b8d7:function(t,e,i){"use strict";var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-layout",[i("v-uni-view",{staticClass:"comment"},[i("v-uni-view",{staticClass:"navigator dir-left-nowrap"},[i("v-uni-view",{on:{click:function(e){e=t.$handleEvent(e),t.setActiveNav(3)}}},[i("v-uni-text",{class:{"active-nav":3===t.score}},[t._v("好评")])],1),i("v-uni-view",{on:{click:function(e){e=t.$handleEvent(e),t.setActiveNav(2)}}},[i("v-uni-text",{class:{"active-nav":2===t.score}},[t._v("中评")])],1),i("v-uni-view",{on:{click:function(e){e=t.$handleEvent(e),t.setActiveNav(1)}}},[i("v-uni-text",{class:{"active-nav":1===t.score}},[t._v("差评")])],1)],1),i("v-uni-view",{staticClass:"replyStatus dir-left-nowrap main-center cross-center"},[i("v-uni-view",{class:{"active-reply":2===t.is_reply},on:{click:function(e){e=t.$handleEvent(e),t.setActiveReply(2)}}},[t._v("未回复")]),i("v-uni-view",{class:{"active-reply":1===t.is_reply},on:{click:function(e){e=t.$handleEvent(e),t.setActiveReply(1)}}},[t._v("已回复")])],1),0===t.list.length?i("v-uni-view",{staticClass:"tip"},[i("v-uni-image",{attrs:{src:"https://v4test.zjhejiang.com/web/statics/img/app/app_admin/no-comment.png"}}),i("v-uni-view",[t._v("没有任何评论哦~")])],1):t._e(),i("v-uni-view",{staticClass:"content"},t._l(t.list,function(e,o){return i("v-uni-view",{key:o,staticClass:"item dir-top-nowrap",class:{"is-top-box-bg":1===e.is_top}},[i("v-uni-view",{staticClass:"top dir-left-nowrap"},[i("v-uni-image",{staticClass:"image",attrs:{src:e.cover_pic,"lazy-load":""}}),i("v-uni-view",{staticClass:"text",class:{"is-top-center-bg":1===e.is_top}},[i("v-uni-view",{staticClass:"name"},[t._v(t._s(e.name))]),i("v-uni-view",{staticClass:"from"},[t._v("来自用户 "+t._s(e.nickname))])],1)],1),i("v-uni-view",{staticClass:"bottom dir-left-nowrap main-between"},[i("v-uni-view",{staticClass:"performed dir-left-nowrap cross-center"},[i("v-uni-image",{staticClass:"icon",attrs:{src:3===e.score?"../image/praise.png":2===e.score?"../image/average.png":"../image/bad-review.png"}}),i("v-uni-view",{staticClass:"evaluation"},[t._v(t._s(3===e.score?"好评":2===e.score?"中评":1===e.score?"差评":""))]),t._e()],1),i("v-uni-view",{staticClass:"button dir-left-nowrap"},[i("v-uni-view",{staticClass:"reply",on:{click:function(i){i=t.$handleEvent(i),t.isTop(e,o)}}},[t._v(t._s(1===e.is_top?"取消置顶":"置顶"))]),i("v-uni-view",{staticClass:"show-button",staticStyle:{"margin-left":"16rpx"},on:{click:function(i){i=t.$handleEvent(i),t.isShow(e)}}},[t._v(t._s(1===e.is_show?"隐藏评论":"取消隐藏"))]),i("app-jump-button",{attrs:{form:"",url:"/pages/app_admin/comment-detail/comment-detail?id="+e.id}},[i("v-uni-view",{staticClass:"reply"},[t._v(t._s(""===e.reply_content?"回复":"修改回复"))])],1)],1)],1)],1)}),1)],1)],1)},a=[];i.d(e,"a",function(){return o}),i.d(e,"b",function(){return a})},d1a3:function(t,e,i){"use strict";function o(t){return r(t)||n(t)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function n(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function r(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s={name:"comment",data:function(){return{list:[],over:!1,page:1,is_reply:2,score:3,first:!0}},onLoad:function(){var t=this;this.$showLoading({type:"global",text:"加载中..."}),this.$request({url:this.$api.app_admin.comments,data:{score:3,is_reply:2,page:1}}).then(function(e){t.$hideLoading(),0===e.code&&(t.first=!1,t.list=e.data.list)})},onReachBottom:function(){this.over||(this.page++,this.request())},onShow:function(){var t=this;if(this.first)return!1;this.$request({url:this.$api.app_admin.comments,data:{score:this.score,is_reply:this.is_reply,page:this.page}}).then(function(e){if(0===e.code)for(var i in e.data.list)for(var o in t.list)t.list=e.data.list})},methods:{setActiveNav:function(t){var e=this;this.page=1,this.score=t,this.is_reply=2,this.over=!1,uni.pageScrollTo({scrollTop:0}),uni.showLoading({title:"加载中..."}),this.$request({url:this.$api.app_admin.comments,data:{score:this.score,is_reply:this.is_reply,page:this.page}}).then(function(t){uni.hideLoading(),0===t.code&&(e.list=t.data.list)})},setActiveReply:function(t){var e=this;this.page=1,this.is_reply=t,this.over=!1,uni.showLoading({title:"加载中..."}),this.$request({url:this.$api.app_admin.comments,data:{score:this.score,is_reply:this.is_reply,page:this.page}}).then(function(t){uni.hideLoading(),0===t.code&&(e.list=t.data.list)})},request:function(){var t=this;this.$request({url:this.$api.app_admin.comments,data:{score:this.score,is_reply:this.is_reply,page:this.page}}).then(function(e){0===e.code&&(e.data.list.length>0?t.list=[].concat(o(t.list),o(e.data.list)):t.over=!0)})},isTop:function(t,e){var i=this,o=1==t.is_top?0:1;i.$request({url:i.$api.app_admin.comments_top,method:"POST",data:{status:o,id:t.id}}).then(function(a){0===a.code&&(t.is_top=o,i.list.splice(e,1,t),uni.showToast({title:a.msg,icon:"none"}))})},isShow:function(t){var e=this;0===t.is_show?this.$request({url:this.$api.app_admin.comments_show,method:"POST",data:{is_show:1,id:t.id}}).then(function(i){if(0===i.code)for(var o=0;o<e.list.length;o++)t.id===e.list[o].id&&(e.list[o].is_show=1)}):this.$request({url:this.$api.app_admin.comments_show,method:"POST",data:{is_show:0,id:t.id}}).then(function(i){if(0===i.code)for(var o=0;o<e.list.length;o++)t.id===e.list[o].id&&(e.list[o].is_show=0)})}}};e.default=s}}]);