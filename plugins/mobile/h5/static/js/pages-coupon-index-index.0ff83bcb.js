(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-coupon-index-index"],{"41e4":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".text-center[data-v-5c26b0e4]{text-align:center}.font-weight[data-v-5c26b0e4]{font-weight:700}.page-width[data-v-5c26b0e4]{width:100%}.goods-hover-class[data-v-5c26b0e4]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-5c26b0e4]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}uni-page-body[data-v-5c26b0e4]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-5c26b0e4]{width:100%}.u-hover-class[data-v-5c26b0e4]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-5c26b0e4]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.app-nav[data-v-5c26b0e4]{color:#353535;width:100%;position:fixed;left:0;background-color:#fff;z-index:11}.app-nav .nav-item[data-v-5c26b0e4]{text-align:center}.app-nav .nav-item uni-text[data-v-5c26b0e4]{display:inline-block}.app-nav .active-text[data-v-5c26b0e4]{border-bottom:%?4?% solid}.app-nav.shadow[data-v-5c26b0e4]{-webkit-box-shadow:0 %?2?% %?10?% rgba(0,0,0,.06);box-shadow:0 %?2?% %?10?% rgba(0,0,0,.06)}.default-m-text[data-v-5c26b0e4]{color:#ff4544}.blue-m-text[data-v-5c26b0e4]{color:#446dfd}body.?%PAGE?%[data-v-5c26b0e4]{background:#f7f7f7}",""])},"6f49":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-layout",[i("app-tab-nav",{attrs:{tabList:t.tabList,activeItem:t.activeTab,theme:t.getTheme},on:{click:function(e){e=t.$handleEvent(e),t.tabStatus(e)}}}),0==t.list.length?i("v-uni-view",{staticClass:"tip"},[t._v("暂无相关优惠券")]):i("v-uni-view",{staticClass:"list"},t._l(t.list,function(e){return i("v-uni-view",{key:e.id,on:{click:function(i){i=t.$handleEvent(i),t.toDetail(e.id)}}},[i("v-uni-view",{staticClass:"list-item"},[1==t.activeTab?i("v-uni-image",{attrs:{src:"./../image/img-coupon-bg-0.png"}}):i("v-uni-image",{attrs:{src:"./../image/img-coupon-bg-1.png"}}),2==t.activeTab?i("v-uni-image",{staticClass:"status",attrs:{src:"./../image/img-coupon-status-icon-1.png"}}):t._e(),3==t.activeTab?i("v-uni-image",{staticClass:"status",attrs:{src:"./../image/img-coupon-status-icon-2.png"}}):t._e(),i("v-uni-view",{staticClass:"item-left dir-top-nowrap main-center"},[2==e.coupon.type?i("v-uni-view",{staticClass:"coupon-price t-omit"},[t._v("￥"+t._s(t._f("reservedNum")(e.coupon.sub_price)))]):i("v-uni-view",{staticClass:"coupon-price t-omit"},[t._v(t._s(t._f("reservedNum")(e.coupon.discount))+"折")]),e.coupon_min_price>0?i("v-uni-view",{staticClass:"t-omit",staticStyle:{"font-size":"10px"}},[t._v("满"+t._s(t._f("reservedNum")(e.coupon_min_price))+"可用")]):i("v-uni-view",{staticStyle:{"font-size":"10px"}},[t._v("无门槛使用")]),e.discount_limit?i("v-uni-view",{staticStyle:{"font-size":"10px"}},[t._v("优惠上限:￥"+t._s(t._f("reservedNum")(e.discount_limit)))]):t._e()],1),i("v-uni-view",{staticClass:"item-right"},[i("v-uni-view",{staticClass:"item-name t-omit t-large t-large-color"},[t._v(t._s(e.coupon.name))]),i("v-uni-view",{staticClass:"t-small-color time-area"},[t._v(t._s(e.start_time)+" - "+t._s(e.end_time))]),3==e.coupon.appoint_type?i("v-uni-view",[t._v("全场通用")]):4==e.coupon.appoint_type?i("v-uni-view",[t._v("仅限当面付活动使用")]):5==e.coupon.appoint_type?i("v-uni-view",[t._v("仅限礼品卡使用")]):i("v-uni-view",[t._v("限品类")])],1)],1)],1)}),1),i("v-uni-view",{class:["footer-space",t.iphone_x?"iphone_x":""]}),i("v-uni-view",{class:["coupon-footer",t.iphone_x?"iphone_x":""],on:{click:function(e){e=t.$handleEvent(e),t.toList(e)}}},[t._v("去领券")])],1)},n=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n})},"70ec":function(t,e,i){var a=i("41e4");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("5142e21b",a,!0,{sourceMap:!1,shadowMode:!1})},7923:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".text-center[data-v-8ec8e3ce]{text-align:center}.font-weight[data-v-8ec8e3ce]{font-weight:700}.page-width[data-v-8ec8e3ce]{width:100%}.goods-hover-class[data-v-8ec8e3ce]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-8ec8e3ce]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}uni-page-body[data-v-8ec8e3ce]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-8ec8e3ce]{width:100%}.u-hover-class[data-v-8ec8e3ce]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-8ec8e3ce]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.footer-space[data-v-8ec8e3ce]{height:%?100?%}.footer-space.iphone_x[data-v-8ec8e3ce]{height:%?150?%}.time-area[data-v-8ec8e3ce]{padding:%?7?% 0}.list[data-v-8ec8e3ce]{padding:%?32?% %?35?%;background-color:#f7f7f7}.list-item[data-v-8ec8e3ce]{height:%?152?%;width:100%;position:relative;margin-bottom:%?25?%}.list-item uni-image[data-v-8ec8e3ce]{width:100%;height:100%}.item-left[data-v-8ec8e3ce]{position:absolute;left:0;top:0;height:100%;width:%?190?%;text-align:center;font-size:%?24?%;color:#fff;padding-top:%?8?%}.coupon-price[data-v-8ec8e3ce]{font-size:%?36?%;padding-bottom:%?16?%}.item-right[data-v-8ec8e3ce]{position:absolute;left:%?220?%;top:%?15?%;width:65%;color:#6f6e6d;font-size:%?20?%}.item-name[data-v-8ec8e3ce]{font-size:%?32?%;color:#353535}.item-right uni-view[data-v-8ec8e3ce]{margin-bottom:%?4?%}.coupon-footer[data-v-8ec8e3ce]{position:fixed;bottom:0;left:0;right:0;width:100%;height:%?100?%;line-height:%?100?%;text-align:center;background-color:#fff;z-index:2}.coupon-footer.iphone_x[data-v-8ec8e3ce]{height:%?150?%;padding-bottom:%?50?%}.list-item .status[data-v-8ec8e3ce]{position:absolute;top:0;right:0;height:%?98?%;width:%?140?%;z-index:2}.tip[data-v-8ec8e3ce]{margin-top:20%;text-align:center;color:#686868}.t-omit[data-v-8ec8e3ce]{display:inline-block;white-space:nowrap;width:100%;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis}.t-omit-two[data-v-8ec8e3ce]{word-break:break-all;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden}body.?%PAGE?%[data-v-8ec8e3ce]{background:#f7f7f7}",""])},"7fd0":function(t,e,i){"use strict";i.r(e);var a=i("92cd"),n=i("86a7");for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);i("e951");var c=i("2877"),r=Object(c["a"])(n["default"],a["a"],a["b"],!1,null,"5c26b0e4",null);e["default"]=r.exports},"86a7":function(t,e,i){"use strict";i.r(e);var a=i("93b4"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);e["default"]=n.a},"8e27":function(t,e,i){var a=i("7923");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("0e589e86",a,!0,{sourceMap:!1,shadowMode:!1})},"92cd":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{class:[t.shadow?"main-between app-nav shadow":"main-between app-nav"],style:[{"line-height":(t.setHeight?t.setHeight:90)+"rpx","font-size":(t.fontSize?t.fontSize:28)+"rpx",height:(t.setHeight?t.setHeight:90)+"rpx",top:t.setTop>0?"calc("+t.setTop+"rpx + var(--window-top))":"var(--window-top)",backgroundColor:""+(t.background?t.background:"#fff")}]},t._l(t.tabList,function(e){return i("v-uni-view",{key:e.id,staticClass:"box-grow-1 nav-item",style:[{borderBottom:(t.border?1:0)+"rpx solid #e2e2e2"}],attrs:{"data-id":e.id},on:{click:function(e){e=t.$handleEvent(e),t.handleClick(e)}}},[i("v-uni-text",{class:[e.id==t.activeItem?"active-text "+t.theme+"-m-text "+t.theme:""],style:[{height:(t.setHeight?t.setHeight:90)+"rpx",padding:"0 "+t.padding+"rpx"}]},[t._v(t._s(e.name))])],1)}),1),i("v-uni-view",{style:[{height:(t.placeHeight?t.placeHeight:90)+"rpx"}]})],1)},n=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n})},"93b4":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"app-tab-nav",props:{background:String,setTop:{type:[Number,String]},padding:{default:45,type:[Number,String]},setHeight:Number,placeHeight:Number,fontSize:Number,theme:{default:"default",type:String},border:{default:!0,type:Boolean},shadow:{default:!0,type:Boolean},activeItem:{type:[Number,String]},tabList:Array},methods:{handleClick:function(t){this.$emit("click",t)}}};e.default=a},a61e:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=o(i("7fd0")),n=i("2f62");function o(t){return t&&t.__esModule?t:{default:t}}function c(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,a)}return i}function r(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?c(i,!0).forEach(function(e){s(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):c(i).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function s(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var d={data:function(){return{list:[],iphone_x:!1,tabList:[{id:1,name:"未使用"},{id:2,name:"已使用"},{id:3,name:"已过期"}],activeTab:1,first:!1,page:2}},components:{"app-tab-nav":a.default},computed:r({},(0,n.mapGetters)("mallConfig",{getTheme:"getTheme"})),methods:{tabStatus:function(t){this.list=[],this.page=2,this.activeTab=t.currentTarget.dataset.id,uni.showLoading({title:"加载中..."}),this.getList()},getList:function(){var t=this;t.first=!0,t.$request({url:t.$api.coupon.user_coupon,data:{status:t.activeTab}}).then(function(e){uni.hideLoading(),t.$hideLoading(),0==e.code?(t.list=e.data.list,t.page=2):uni.showToast({title:e.msg,icon:"none",duration:1e3})}).catch(function(e){uni.hideLoading(),t.$hideLoading(),t.$event.on(t.$const.EVENT_USER_LOGIN).then(function(){t.getList()})})},getMore:function(){var t=this;uni.showLoading({title:"加载中..."}),t.$request({url:t.$api.coupon.user_coupon,data:{status:t.activeTab,page:t.page}}).then(function(e){uni.hideLoading(),0==e.code?e.data.list.length>0&&(t.list=t.list.concat(e.data.list),t.page++):uni.showToast({title:e.msg,icon:"none",duration:1e3})}).catch(function(t){uni.hideLoading()})},toDetail:function(t){uni.navigateTo({url:"/pages/coupon/details/details-no-share?person=1&id="+t})},toList:function(){uni.navigateTo({url:"/pages/coupon/list/list"})}},onLoad:function(){var t=this;uni.getSystemInfo({success:function(e){(e.model.indexOf("iPhone X")>-1||e.model.indexOf("iPhone 11")>-1||e.model.indexOf("iPhone11")>-1||e.model.indexOf("iPhone12")>-1||e.model.indexOf("Unknown Device")>-1)&&(t.iphone_x=!0)}}),t.$showLoading({text:"加载中..."}),t.getList()},onShow:function(){this.first&&this.getList()},onReachBottom:function(){this.getMore()},filters:{reservedNum:function(t){return Number(t)}}};e.default=d},b359:function(t,e,i){"use strict";i.r(e);var a=i("6f49"),n=i("ed8a");for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);i("f95d");var c=i("2877"),r=Object(c["a"])(n["default"],a["a"],a["b"],!1,null,"8ec8e3ce",null);e["default"]=r.exports},e951:function(t,e,i){"use strict";var a=i("70ec"),n=i.n(a);n.a},ed8a:function(t,e,i){"use strict";i.r(e);var a=i("a61e"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);e["default"]=n.a},f95d:function(t,e,i){"use strict";var a=i("8e27"),n=i.n(a);n.a}}]);