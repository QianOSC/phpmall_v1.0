(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-order-submit-store-pick"],{"12b7":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".text-center[data-v-97eed550]{text-align:center}.font-weight[data-v-97eed550]{font-weight:700}.page-width[data-v-97eed550]{width:100%}.goods-hover-class[data-v-97eed550]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-97eed550]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}uni-page-body[data-v-97eed550]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-97eed550]{width:100%}.u-hover-class[data-v-97eed550]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-97eed550]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}uni-page-body[data-v-97eed550]{background:#f7f7f7}body.?%PAGE?%[data-v-97eed550]{background:#f7f7f7;background:#f7f7f7}",""])},"150a":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"store-pick",data:function(){return{mchIndex:null,list:null,firstGoodsId:null,plugin:null,manualLocation:!1,longitude:"",latitude:"",locationAddress:null,keyword:""}},onLoad:function(t){this.mchIndex=t.mchIndex,this.firstGoodsId=t.firstGoodsId||null,this.plugin=t.plugin||null},onShow:function(){this.manualLocation||this.getLocation()},methods:{clear:function(){uni.hideKeyboard(),this.keyword="",this.loadData()},search:function(){this.loadData()},getLocation:function(){uni.showLoading({mask:!0,title:"正在获取位置信息"});var t=this;this.$jwx.getLocation({success:function(e){uni.hideLoading(),t.longitude=e.longitude,t.latitude=e.latitude,t.loadData()},fail:function(){uni.hideLoading(),uni.showToast({title:"需要授权获取您的位置信息",icon:"none"})}})},selectLocation:function(){var t=this;this.manualLocation=!0,uni.chooseLocation({success:function(e){t.longitude=e.longitude,t.latitude=e.latitude,t.locationAddress=(e.address||"")+" "+e.name||"",t.locationAddress=t.locationAddress.trim(),t.loadData()}})},loadData:function(){var t=this;uni.showLoading({mask:!0,title:"加载中"}),this.$request({url:"booking"===this.plugin?this.$api.book.store_list:this.$api.order.store_list,data:{keyword:this.keyword,longitude:this.longitude,latitude:this.latitude,goods_id:this.firstGoodsId}}).then(function(e){uni.hideLoading(),0===e.code&&(t.list=e.data.list)}).catch(function(){uni.hideLoading()})},setData:function(t){if("gift"===this.plugin){this.$store.state.gift.store_id;t,this.$store.commit("gift/storeId",t)}else{var e=this.$store.state.orderSubmit.formData;e.list[this.mchIndex].store_id=t,this.$store.commit("orderSubmit/mutSetFormData",e)}uni.navigateBack()}}};e.default=i},"1c4e":function(t,e,a){"use strict";var i=a("20af"),o=a.n(i);o.a},"20af":function(t,e,a){var i=a("dd4d");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("4f06").default;o("57b84c80",i,!0,{sourceMap:!1,shadowMode:!1})},"2dcc":function(t,e,a){"use strict";a.r(e);var i=a("150a"),o=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e["default"]=o.a},"539e":function(t,e,a){"use strict";var i=a("6fea"),o=a.n(i);o.a},"6fea":function(t,e,a){var i=a("12b7");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("4f06").default;o("5f9dc03f",i,!0,{sourceMap:!1,shadowMode:!1})},"881e":function(t,e,a){"use strict";a.r(e);var i=a("b7b8"),o=a("2dcc");for(var n in o)"default"!==n&&function(t){a.d(e,t,function(){return o[t]})}(n);a("539e"),a("1c4e");var d=a("2877"),s=Object(d["a"])(o["default"],i["a"],i["b"],!1,null,"97eed550",null);e["default"]=s.exports},b7b8:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("app-layout",[a("v-uni-view",{staticClass:"page"},[a("v-uni-view",{staticClass:"top"},[a("v-uni-view",{staticClass:"dir-left-nowrap box"},[a("v-uni-input",{staticClass:"box-grow-1 input",attrs:{type:"text","confirm-type":"搜索"},on:{confirm:function(e){e=t.$handleEvent(e),t.search(e)}},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}}),a("v-uni-view",{staticClass:"close-tip",on:{click:function(e){e=t.$handleEvent(e),t.clear(e)}}},[t.keyword?a("v-uni-image",{staticClass:"search-close",attrs:{src:"/static/image/icon/delete-yuan.png"}}):t._e()],1),a("v-uni-view",{staticClass:"box-grow-0 cross-center",on:{click:function(e){e=t.$handleEvent(e),t.search(e)}}},[t._v("搜索")])],1)],1),null!==t.list?[t.list.length?a("v-uni-view",{staticClass:"main-center dir-top-nowrap list",staticStyle:{"margin-top":"100rpx"}},[t.keyword?t._e():a("v-uni-view",{staticClass:"manual-location"},[a("app-button",{attrs:{type:"general"},on:{click:function(e){e=t.$handleEvent(e),t.selectLocation(e)}}},[t._v("手动定位")]),t.locationAddress?a("v-uni-view",{staticClass:"location-address"},[t._v(t._s(t.locationAddress))]):t._e()],1),t._l(t.list,function(e,i){return a("v-uni-view",{key:i,staticClass:"dir-left-nowrap item",on:{click:function(a){a=t.$handleEvent(a),t.setData(e.id,i)}}},[a("v-uni-view",{staticClass:"box-grow-0"},[a("v-uni-image",{staticClass:"avatar",attrs:{src:e.cover_url}})],1),a("v-uni-view",{staticClass:"box-grow-1"},[a("v-uni-view",{staticClass:"name mb-8"},[t._v(t._s(e.name))]),a("v-uni-view",{staticClass:"mobile mb-8"},[t._v("电话: "+t._s(e.mobile))]),a("v-uni-view",{staticClass:"distance"},[t._v("距离: "+t._s(e.distance))])],1)],1)})],2):[a("v-uni-view",{staticClass:"main-center no-result",staticStyle:{"margin-top":"100rpx"}},[a("v-uni-view",{staticClass:"dir-left-nowrap cross-center"},[a("v-uni-image",{staticClass:"box-grow-0 empty",attrs:{src:"../../static/image/icon/empty.png"}}),a("v-uni-view",{staticClass:"box-grow-1"},[a("v-uni-view",[t._v("抱歉，没有相关门店")])],1)],1)],1)]]:t._e()],2)],1)},o=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return o})},dd4d:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".text-center[data-v-97eed550]{text-align:center}.font-weight[data-v-97eed550]{font-weight:700}.page-width[data-v-97eed550]{width:100%}.goods-hover-class[data-v-97eed550]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-97eed550]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}uni-page-body[data-v-97eed550]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-97eed550]{width:100%}.u-hover-class[data-v-97eed550]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-97eed550]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.no-result[data-v-97eed550]{height:%?156?%;padding:%?28?% 0;font-size:%?28?%;background-color:#fff}.no-result .text[data-v-97eed550]{color:#999}.no-result .empty[data-v-97eed550]{width:%?100?%;height:%?100?%;display:block;margin-right:%?40?%}.top[data-v-97eed550]{position:fixed;width:100%;top:0;z-index:15;padding:%?20?% %?24?%;background-color:#efeff4;font-size:%?32?%;color:#666}.top .input[data-v-97eed550]{background-color:#fff;border-radius:%?50?% 0 0 %?50?%;padding:0 %?32?%;font-size:%?28?%;height:%?64?%}.top .box[data-v-97eed550]{position:relative}.top .box .close-tip[data-v-97eed550]{width:%?64?%;height:%?64?%;background-color:#fff;border-radius:0 %?50?% %?50?% 0;margin-right:%?20?%}.top .box .search-close[data-v-97eed550]{width:%?32?%;height:%?32?%;border-radius:50%;margin:%?16?%}.top .radio[data-v-97eed550]{margin-top:%?32?%}.top .radio .radio-item[data-v-97eed550]{padding-bottom:%?12?%}.top .radio .active[data-v-97eed550]{border-bottom:%?4?% solid}.mb-8[data-v-97eed550]{margin-bottom:%?8?%}.page[data-v-97eed550]{border-top:%?1?% solid #e2e2e2}.manual-location[data-v-97eed550]{padding:%?24?%}.manual-location .location-address[data-v-97eed550]{padding:%?12?% 0 0;font-size:%?26?%;color:#999}.list .item[data-v-97eed550]{padding:%?24?%;background:#fff;border-bottom:%?1?% solid #e2e2e2}.list .item .avatar[data-v-97eed550]{width:%?140?%;height:%?140?%;margin-right:%?24?%;border-radius:%?999?%;-webkit-box-shadow:0 0 %?1?% rgba(0,0,0,.25);box-shadow:0 0 %?1?% rgba(0,0,0,.25)}.list .item .name[data-v-97eed550]{white-space:nowrap;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis}.list .item .distance[data-v-97eed550],.list .item .mobile[data-v-97eed550]{font-size:%?28?%;color:#999}body.?%PAGE?%[data-v-97eed550]{background:#f7f7f7}",""])}}]);