(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-registered-authentication"],{"2be2":function(t,e,a){"use strict";var i=a("36d7"),n=a.n(i);n.a},"2f53":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"bd-authentication"},[a("v-uni-view",{staticClass:"bd-content dir-top-nowrap cross-center"},[a("v-uni-image",{staticClass:"bd-iphone",attrs:{src:"./image/phone-0.png"}}),a("v-uni-text",{staticClass:"bd-iphone-text"},[t._v("验证当前手机号："+t._s(t._f("setIphone")(t.userInfo&&t.userInfo.mobile)))]),a("v-uni-text",{staticClass:"bd-prompt"},[t._v("为了您的账户安全，请输入验证码")])],1),t.isPassword?[a("v-uni-view",{staticClass:"bd-item dir-left-nowrap cross-center"},[a("v-uni-image",{staticClass:"bd-label box-grow-0",attrs:{src:"./image/password.png"}}),a("v-uni-input",{staticClass:"bd-input box-grow-1",attrs:{placeholder:"请输入密码",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)]:[a("v-uni-view",{staticClass:"bd-item dir-left-nowrap cross-center"},[a("v-uni-image",{staticClass:"bd-label box-grow-0",attrs:{src:"./image/image.png"}}),a("v-uni-input",{staticClass:"bd-input box-grow-1",attrs:{placeholder:"请输入图形验证码",type:"text"},model:{value:t.pic_captcha,callback:function(e){t.pic_captcha=e},expression:"pic_captcha"}}),a("v-uni-image",{staticClass:"bd-image box-grow-0",attrs:{src:t.imageUrl},on:{click:function(e){e=t.$handleEvent(e),t.getImageUrl(e)}}})],1),a("v-uni-view",{staticClass:"bd-item dir-left-nowrap cross-center"},[a("v-uni-image",{staticClass:"bd-label box-grow-0",attrs:{src:"./image/message.png"}}),a("v-uni-input",{staticClass:"bd-input box-grow-1",attrs:{placeholder:"请输入短消息验证码",type:"text"},model:{value:t.sms_captcha,callback:function(e){t.sms_captcha=e},expression:"sms_captcha"}}),t.isSend?a("v-uni-view",{staticClass:"bd-btn box-grow-0 bd-send"},[t._v("重新发送"+t._s(t.timeNum)+"S")]):a("v-uni-view",{staticClass:"bd-btn box-grow-0",on:{click:function(e){e=t.$handleEvent(e),t.getVerCode(e)}}},[t._v("获取验证码")])],1)],a("v-uni-view",{staticClass:"bd-bottom",class:t.agree?"bd-yes-agree":"bd-no-agree",on:{click:function(e){e=t.$handleEvent(e),t.sign(e)}}},[t._v("确认")]),t.isPassword?t._e():a("v-uni-view",{staticClass:"bd-agree-group dir-right-nowrap cross-center"},[a("v-uni-text",{staticClass:"bd-color",on:{click:function(e){e=t.$handleEvent(e),t.isPassword=!0}}},[t._v("手机收不到验证码？")])],1)],2)},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},"36d7":function(t,e,a){var i=a("896a4");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("0463d46c",i,!0,{sourceMap:!1,shadowMode:!1})},"896a4":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".bd-authentication[data-v-02442f59]{min-height:calc(100vh - var(--window-top));background:#fff;padding:%?46?% %?42?%}.bd-iphone[data-v-02442f59]{width:%?110?%;height:%?110?%;margin-top:%?54?%}.bd-iphone-text[data-v-02442f59]{font-size:%?32?%;font-weight:700;color:#333;margin-top:%?60?%}.bd-prompt[data-v-02442f59]{font-size:%?26?%;color:#999;margin-top:%?35?%}.bd-content[data-v-02442f59]{border-bottom:%?2?% solid #f4f4f4;padding-bottom:%?65?%}.bd-item[data-v-02442f59]{height:%?100?%;border-bottom:%?2?% solid #f4f4f4}.bd-label[data-v-02442f59]{width:%?36?%;height:%?36?%;margin:0 %?25?% 0 %?2?%}.bd-btn[data-v-02442f59]{border-left:%?1?% solid #f4f4f4;width:%?226?%;height:%?53?%;line-height:%?53?%;font-size:%?32?%;color:#ff4544;text-align:center}.bd-image[data-v-02442f59]{width:%?160?%;height:%?67?%}.bd-input[data-v-02442f59]{height:%?36?%}.bd-bottom[data-v-02442f59]{height:%?88?%;line-height:%?88?%;color:#fff;font-size:%?36?%;border-radius:%?44?%;margin-top:%?68?%;text-align:center}.bd-yes-agree[data-v-02442f59]{background:#ff4544}.bd-no-agree[data-v-02442f59]{background:rgba(255,69,68,.5)}.bd-agree-group[data-v-02442f59]{margin-top:%?42?%}.bd-color[data-v-02442f59]{font-size:%?28?%;color:#ff4544}",""])},a5f4:function(t,e,a){"use strict";a.r(e);var i=a("2f53"),n=a("d85e6");for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);a("2be2");var r=a("2877"),o=Object(r["a"])(n["default"],i["a"],i["b"],!1,null,"02442f59",null);e["default"]=o.exports},aa9d4:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a("2f62");function n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,i)}return a}function s(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(a,!0).forEach(function(e){r(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var o={name:"authentication",data:function(){return{pic_captcha:"",sms_captcha:"",validate_code_id:"",type:"",password:"",imageUrl:"",isSend:!1,timeNum:60,timeIng:0,isPassword:!1}},mounted:function(){this.getImageUrl()},computed:s({agree:function(){return!!(this.pic_captcha&&this.sms_captcha||this.password)}},(0,i.mapState)({userInfo:function(t){return t.user.info}})),methods:{getVerCode:function(){var t=this;this.timeNum=60,this.$request({url:this.$api.registered.sms,method:"post",data:{mobile:this.userInfo.mobile,pic_captcha:this.pic_captcha}}).then(function(e){0===e.code?(t.isSend=!0,t.validate_code_id=e.data.validate_code_id,t.change()):(t.getImageUrl(),uni.showToast({icon:"none",title:e.msg}))})},getImageUrl:function(){var t=this;this.$request({url:this.$api.registered.captcha,data:{refresh:!0}}).then(function(e){t.imageUrl=e.url})},change:function(){var t=this;clearInterval(this.timeIng),this.timeIng=setInterval(function(){t.timeNum--,0===t.timeNum&&(clearInterval(t.timeIng),t.isSend=!1)},1e3)},sign:function(){var t=this;if(this.agree){var e={type:this.type,validate_code_id:this.validate_code_id,password:this.password,sms_captcha:this.sms_captcha};this.isPassword?(e.type="validate_by_password",delete e.validate_code_id,delete e.sms_captcha):(e.type="validate_by_mobile",delete e.password),this.$request({url:this.$api.registered.validate,method:"post",data:e}).then(function(e){0===e.code?uni.redirectTo({url:"/pages/registered/verify-phone?key=".concat(e.data.key)}):(t.getImageUrl(),uni.showToast({icon:"none",title:e.msg}))})}}},beforeDestroy:function(){clearInterval(this.timeIng)},filters:{setIphone:function(t){return t&&t.replace(/^(\d{3})\d{4}(\d{4})$/,"$1****$2")}}};e.default=o},d85e6:function(t,e,a){"use strict";a.r(e);var i=a("aa9d4"),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,function(){return i[t]})}(s);e["default"]=n.a}}]);