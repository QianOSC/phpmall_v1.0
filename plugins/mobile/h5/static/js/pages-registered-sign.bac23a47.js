(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-registered-sign"],{"1a5a":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"bd-sign"},[a("v-uni-view",{staticClass:"bd-item dir-left-nowrap cross-center"},[a("v-uni-image",{staticClass:"bd-label box-grow-0",attrs:{src:"./image/phone.png"}}),a("v-uni-input",{staticClass:"bd-input box-grow-1",attrs:{placeholder:"请输入手机号",type:"text"},model:{value:t.mobile,callback:function(e){t.mobile=e},expression:"mobile"}})],1),t.isPassword?[a("v-uni-view",{staticClass:"bd-item dir-left-nowrap cross-center"},[a("v-uni-image",{staticClass:"bd-label box-grow-0",attrs:{src:"./image/password.png"}}),a("v-uni-input",{staticClass:"bd-input box-grow-1",attrs:{placeholder:"请输入密码",type:"text"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)]:[a("v-uni-view",{staticClass:"bd-item dir-left-nowrap cross-center"},[a("v-uni-image",{staticClass:"bd-label box-grow-0",attrs:{src:"./image/image.png"}}),a("v-uni-input",{staticClass:"bd-input box-grow-1",attrs:{placeholder:"请输入图形验证码",type:"text"},model:{value:t.pic_captcha,callback:function(e){t.pic_captcha=e},expression:"pic_captcha"}}),a("v-uni-image",{staticClass:"bd-image box-grow-0",attrs:{src:t.imageUrl},on:{click:function(e){e=t.$handleEvent(e),t.getImageUrl(e)}}})],1),a("v-uni-view",{staticClass:"bd-item dir-left-nowrap cross-center"},[a("v-uni-image",{staticClass:"bd-label box-grow-0",attrs:{src:"./image/message.png"}}),a("v-uni-input",{staticClass:"bd-input box-grow-1",attrs:{placeholder:"请输入短消息验证码",type:"text"},model:{value:t.captcha,callback:function(e){t.captcha=e},expression:"captcha"}}),t.isSend?a("v-uni-view",{staticClass:"bd-btn box-grow-0 bd-send"},[t._v("重新发送"+t._s(t.timeNum)+"S")]):a("v-uni-view",{staticClass:"bd-btn box-grow-0",on:{click:function(e){e=t.$handleEvent(e),t.getVerCode(e)}}},[t._v("获取验证码")])],1)],a("v-uni-view",{staticClass:"bd-bottom",class:t.agree?"bd-yes-agree":"bd-no-agree",on:{click:function(e){e=t.$handleEvent(e),t.sign(e)}}},[t._v("登入")]),a("v-uni-view",{staticClass:"bd-agree-group dir-left-nowrap cross-center main-between"},[t.isPassword?a("v-uni-text",{staticClass:"bd-color",on:{click:function(e){e=t.$handleEvent(e),t.isPassword=!1}}},[t._v("验证码登入")]):a("v-uni-text",{staticClass:"bd-color",on:{click:function(e){e=t.$handleEvent(e),t.isPassword=!0}}},[t._v("密码登入")]),a("v-uni-text",{staticClass:"bd-color",on:{click:function(e){e=t.$handleEvent(e),t.router("/pages/registered/index")}}},[t._v("手机号快速注册")])],1),t.isPassword?a("v-uni-view",{staticClass:"bd-forget bd-color",on:{click:function(e){e=t.$handleEvent(e),t.routerGo("/pages/registered/forget")}}},[t._v("忘记密码？")]):t._e()],2)},s=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return s})},"6d93":function(t,e,a){"use strict";a.r(e);var i=a("1a5a"),s=a("ff7a");for(var n in s)"default"!==n&&function(t){a.d(e,t,function(){return s[t]})}(n);a("7556");var o=a("2877"),r=Object(o["a"])(s["default"],i["a"],i["b"],!1,null,"47547ab8",null);e["default"]=r.exports},7556:function(t,e,a){"use strict";var i=a("7a6c"),s=a.n(i);s.a},"7a6c":function(t,e,a){var i=a("e077");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("4f06").default;s("34ff6dec",i,!0,{sourceMap:!1,shadowMode:!1})},e077:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".bd-sign[data-v-47547ab8]{min-height:calc(100vh - var(--window-top));background-color:#fff;padding:%?46?% %?42?%}.bd-item[data-v-47547ab8]{height:%?100?%;border-bottom:%?2?% solid #f4f4f4}.bd-label[data-v-47547ab8]{width:%?36?%;height:%?36?%;margin:0 %?25?% 0 %?2?%}.bd-btn[data-v-47547ab8]{border-left:%?1?% solid #f4f4f4;width:%?226?%;height:%?53?%;line-height:%?53?%;font-size:%?32?%;color:#ff4544;text-align:center}.bd-image[data-v-47547ab8]{width:%?160?%;height:%?67?%}.bd-input[data-v-47547ab8]{height:%?36?%}.bd-bottom[data-v-47547ab8]{height:%?88?%;line-height:%?88?%;color:#fff;font-size:%?36?%;border-radius:%?44?%;margin-top:%?68?%;text-align:center}.bd-yes-agree[data-v-47547ab8]{background:#ff4544}.bd-no-agree[data-v-47547ab8]{background:rgba(255,69,68,.5)}.bd-agree-group[data-v-47547ab8]{margin-top:%?42?%}.bd-color[data-v-47547ab8]{font-size:%?28?%;color:#ff4544}[data-v-47547ab8] .uni-radio-input{width:%?35?%;height:%?35?%}.bd-send[data-v-47547ab8]{color:rgba(255,69,68,.5)}.bd-forget[data-v-47547ab8]{position:fixed;bottom:%?50?%;left:50%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%)}",""])},f377:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"sign",data:function(){return{pic_captcha:"",mobile:"",captcha:"",validate_code_id:"",type:"",password:"",imageUrl:"",isSend:!1,timeNum:60,timeIng:0,isPassword:!1}},onLoad:function(){this.getImageUrl(),uni.setStorageSync("platform","mobile")},computed:{agree:function(){return!!(this.mobile&&this.pic_captcha||this.mobile&&this.password)}},methods:{getVerCode:function(){var t=this;this.timeNum=60,this.$request({url:this.$api.registered.sms,method:"post",data:{mobile:this.mobile,pic_captcha:this.pic_captcha}}).then(function(e){0===e.code?(t.isSend=!0,t.validate_code_id=e.data.validate_code_id,t.change()):(t.getImageUrl(),uni.showToast({icon:"none",title:e.msg}))})},getImageUrl:function(){var t=this;this.$request({url:this.$api.registered.captcha,data:{refresh:!0}}).then(function(e){t.imageUrl=e.url})},change:function(){var t=this;clearInterval(this.timeIng),this.timeIng=setInterval(function(){t.timeNum--,0===t.timeNum&&(clearInterval(t.timeIng),t.isSend=!1)},1e3)},sign:function(){var t=this;if(this.agree){var e={type:this.type,mobile:this.mobile,validate_code_id:this.validate_code_id,captcha:this.captcha,password:this.password};this.isPassword?(delete e.validate_code_id,delete e.captcha,e.type="username"):(e.type="mobile",delete e.password),this.$request({url:this.$api.registered.login,method:"post",data:e}).then(function(e){0===e.code?(uni.setStorageSync("_USER_ACCESS_TOKEN",e.data.access_token),uni.redirectTo({url:"/pages/user-center/user-center"})):(t.getImageUrl(),uni.showToast({icon:"none",title:e.msg}))})}},router:function(t){uni.redirectTo({url:t})},routerGo:function(t){uni.navigateTo({url:t})}},beforeDestroy:function(){clearInterval(this.timeIng)}};e.default=i},ff7a:function(t,e,a){"use strict";a.r(e);var i=a("f377"),s=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e["default"]=s.a}}]);