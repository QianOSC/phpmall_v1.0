(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-share-add-add"],{"69dc":function(a,t,e){t=a.exports=e("2350")(!1),t.push([a.i,".text-center[data-v-976aa996]{text-align:center}.font-weight[data-v-976aa996]{font-weight:700}.page-width[data-v-976aa996]{width:100%}.goods-hover-class[data-v-976aa996]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-976aa996]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}uni-page-body[data-v-976aa996]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-976aa996]{width:100%}.u-hover-class[data-v-976aa996]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-976aa996]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.add-bg[data-v-976aa996]{height:%?300?%;width:100%;display:block;margin-bottom:%?20?%;background-color:#f7f7f7}.add-form[data-v-976aa996]{padding:0 %?24?%;font-size:%?30?%;color:#353535}.add-form .add-default[data-v-976aa996]{background-color:#fff;border-radius:%?16?%;padding:0 %?10?% %?35?%;margin-bottom:%?20?%}.add-form .add-default.add-diy-form[data-v-976aa996]{padding-bottom:0;padding:%?10?% %?24?%}.add-form .add-default.add-diy-form .add-info[data-v-976aa996]{border-bottom:0;padding:%?24?% 0}.add-form .add-default .add-info[data-v-976aa996]{width:100%;padding:%?10?% %?24?%;border-bottom:%?1?% solid #e2e2e2}.add-form .add-default .add-info .red-background[data-v-976aa996]{background-color:#ff4544}.add-form .add-default .add-info .add-label[data-v-976aa996]{height:%?45?%;line-height:%?45?%;font-size:%?28?%}.add-form .add-default .add-info .add-input[data-v-976aa996]{height:%?75?%}.add-form .add-default .add-info .add-input uni-input[data-v-976aa996]{height:%?65?%;padding-top:%?5?%}.add-form .add-default .add-info.share-name[data-v-976aa996]{height:%?90?%;line-height:%?90?%;padding:0 %?10?%}.add-form .add-default .add-info.share-name .mall-name[data-v-976aa996]{max-width:%?300?%;color:#ff4544}.add-form .add-default .add-info .share-user[data-v-976aa996]{color:#666;height:%?75?%;line-height:%?75?%}.add-form .add-default .add-info .share-user>uni-text[data-v-976aa996]{color:#ff4544}.add-form .add-default .add-info .read[data-v-976aa996]{width:%?32?%;height:%?32?%;float:left;margin-right:%?10?%}.add-form .add-default .add-info .read uni-image[data-v-976aa996]{height:100%;width:100%;display:block}.submit[data-v-976aa996]{background-color:#f7f7f7;margin:0 %?-24?%;padding:%?24?%}.submit uni-button[data-v-976aa996]{color:#fff;font-size:%?30?%;font-weight:700;height:%?80?%;border-radius:%?40?%;line-height:%?80?%}.other[data-v-976aa996]{background-color:#fff;padding:0 %?24?%;color:#353535;font-size:%?30?%}.other .end-img[data-v-976aa996]{width:100%}.modal[data-v-976aa996]{position:fixed;top:var(--window-top);left:0;right:0;height:100%;width:100%;z-index:99;background-color:rgba(0,0,0,.3)}.modal .protocol[data-v-976aa996]{position:relative;z-index:99;background-color:#fff;width:80%;border-radius:%?20?%;margin:%?100?% auto}.modal .protocol .protocol-name[data-v-976aa996]{height:%?100?%;text-align:center;line-height:%?100?%;color:#666}.modal .protocol .protocol-content[data-v-976aa996]{padding:%?10?% %?20?%;height:%?720?%;overflow:auto;color:#353535}.modal .protocol .read-over[data-v-976aa996]{text-align:center;height:%?100?%;line-height:%?100?%;background-color:#ff4544;color:#fff;font-size:%?30?%;border-bottom-right-radius:%?20?%;border-bottom-left-radius:%?20?%}body.?%PAGE?%[data-v-976aa996]{background:#f7f7f7}",""])},"854e":function(a,t,e){"use strict";e.r(t);var i=e("c0c8"),o=e("b711");for(var n in o)"default"!==n&&function(a){e.d(t,a,function(){return o[a]})}(n);e("faa6");var d=e("2877"),r=Object(d["a"])(o["default"],i["a"],i["b"],!1,null,"976aa996",null);t["default"]=r.exports},"8a14":function(a,t,e){var i=e("69dc");"string"===typeof i&&(i=[[a.i,i,""]]),i.locals&&(a.exports=i.locals);var o=e("4f06").default;o("67701902",i,!0,{sourceMap:!1,shadowMode:!1})},b711:function(a,t,e){"use strict";e.r(t);var i=e("e6fb"),o=e.n(i);for(var n in i)"default"!==n&&function(a){e.d(t,a,function(){return i[a]})}(n);t["default"]=o.a},c0c8:function(a,t,e){"use strict";var i=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("app-layout",[e("v-uni-view",[e("v-uni-image",{staticClass:"add-bg",attrs:{src:a.custom_setting.apply.apply_head_pic}}),e("v-uni-view",{staticClass:"add-form"},[e("v-uni-view",{staticClass:"add-default"},[e("v-uni-view",{staticClass:"add-info share-name dir-left-nowrap"},[e("v-uni-view",[a._v("欢迎加入")]),e("v-uni-view",{staticClass:"mall-name t-omit"},[a._v(a._s(a.mall.name))]),e("v-uni-view",[a._v("，请填写申请信息")])],1),e("v-uni-view",{staticClass:"add-info"},[e("v-uni-view",{staticClass:"add-label"},[a._v("邀请人")]),e("v-uni-view",{staticClass:"share-user"},[e("v-uni-text",[a._v(a._s(a.parent_name))]),a._v("(请核对)")],1)],1),e("v-uni-view",{staticClass:"add-info"},[e("v-uni-view",{staticClass:"add-label"},[e("v-uni-text",{staticStyle:{color:"#ff4544"}},[a._v("*")]),a._v("姓名")],1),e("v-uni-view",{staticClass:"add-input"},[e("v-uni-input",{attrs:{placeholder:"请填写真实姓名","placeholder-style":"color: #cdcdcd"},model:{value:a.name,callback:function(t){a.name=t},expression:"name"}})],1)],1),e("v-uni-view",{staticClass:"add-info"},[e("v-uni-view",{staticClass:"add-label"},[e("v-uni-text",{staticStyle:{color:"#ff4544"}},[a._v("*")]),a._v("手机号码")],1),e("v-uni-view",{staticClass:"add-input"},[e("v-uni-input",{attrs:{type:"number",placeholder:"请填写手机号码","placeholder-style":"color: #cdcdcd"},model:{value:a.phone,callback:function(t){a.phone=t},expression:"phone"}})],1)],1)],1),1==a.share_setting.form_status?e("v-uni-view",{staticClass:"add-default add-diy-form"},[e("app-diy-form",{attrs:{datePadding:0,itemHeight:66,showRequiredIcon:!0,labelPosition:"top",list:a.share_setting.form,labelFs28:!0},on:{input:function(t){t=a.$handleEvent(t),a.handleFormInput(t)}}})],1):a._e(),e("v-uni-view",{staticClass:"add-default add-diy-form"},[e("v-uni-view",{staticClass:"add-info",staticStyle:{"font-size":"13px"}},[e("v-uni-view",{staticClass:"read",on:{click:function(t){t=a.$handleEvent(t),a.toRead(t)}}},[0==a.read?e("v-uni-image",{attrs:{src:"/static/image/icon/icon-uncheck.png"}}):e("v-uni-image",{class:["red-background"],attrs:{src:"/static/image/icon/icon-checkbox-checked.png"}})],1),a._v("我已经阅读并了解"),e("v-uni-text",{staticStyle:{color:"#014c8c"},on:{click:function(t){t=a.$handleEvent(t),a.protocol=!0}}},[a._v("【"+a._s(a.custom_setting.apply.share_apply_pact.name?a.custom_setting.apply.share_apply_pact.name:a.custom_setting.apply.share_apply_pact.default)+"】")])],1)],1),e("v-uni-view",{staticClass:"submit"},[e("v-uni-view",{on:{click:function(t){t=a.$handleEvent(t),a.subscribe(t)}}},[e("v-uni-button",{style:{"background-color":""+a.custom_setting.apply.apply_btn_background,"border-radius":""+a.custom_setting.apply.apply_btn_round,color:""+a.custom_setting.apply.apply_btn_color}},[a._v(a._s(a.custom_setting.apply.apply_btn_title?a.custom_setting.apply.apply_btn_title:"申请成为分销商"))])],1)],1)],1),e("v-uni-view",{staticClass:"other"},[e("v-uni-image",{staticClass:"end-img",style:{height:a.height+"rpx"},attrs:{src:a.custom_setting.apply.apply_end_pic},on:{load:function(t){t=a.$handleEvent(t),a.imageLoad(t)}}})],1),a.protocol?e("v-uni-view",{staticClass:"modal"},[e("v-uni-view",{staticClass:"protocol"},[e("v-uni-view",{staticClass:"protocol-name"},[a._v(a._s(a.custom_setting.apply.share_apply_pact.name?a.custom_setting.apply.share_apply_pact.name:a.custom_setting.apply.share_apply_pact.default))]),e("v-uni-view",{staticClass:"protocol-content"},[e("v-uni-text",[a._v(a._s(a.share_setting.agree))])],1),e("v-uni-view",{on:{click:function(t){t=a.$handleEvent(t),a.protocol=!1,a.read=!0}}},[e("v-uni-view",{staticClass:"read-over"},[a._v("我已阅读")])],1)],1)],1):a._e()],1)],1)},o=[];e.d(t,"a",function(){return i}),e.d(t,"b",function(){return o})},e6fb:function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=e("2f62"),o=n(e("7d93"));function n(a){return a&&a.__esModule?a:{default:a}}function d(a,t){var e=Object.keys(a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(a);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable})),e.push.apply(e,i)}return e}function r(a){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?d(e,!0).forEach(function(t){s(a,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(e)):d(e).forEach(function(t){Object.defineProperty(a,t,Object.getOwnPropertyDescriptor(e,t))})}return a}function s(a,t,e){return t in a?Object.defineProperty(a,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[t]=e,a}var l={data:function(){return{status:null,mallName:"",name:"",phone:"",parent_name:"",height:0,form:{},template_message:[],read:!1,protocol:!1}},computed:r({},(0,i.mapState)({mall:function(a){return a.mallConfig.mall},custom_setting:function(a){return a.mallConfig.share_setting_custom},share_setting:function(a){return a.mallConfig.share_setting}})),components:{AppDiyForm:o.default},methods:{handleFormInput:function(a){var t=a.data,e=[];for(var i in t)e[i]={key:t[i].key,label:t[i].name,value:t[i].value,required:t[i].is_required};this.form=e},toRead:function(){this.read=!this.read},imageLoad:function(a){var t=a.detail.width,e=a.detail.height;this.height=e*(702/t)},subscribe:function(){var a=this,t=this,e=0;if(this.form.length>0){var i=!0,o=!1,n=void 0;try{for(var d,r=this.form[Symbol.iterator]();!(i=(d=r.next()).done);i=!0){var s=d.value;if(1==s.required){if(!s.value)return uni.showToast({title:"请填写"+s.label,icon:"none",duration:1e3}),!1;if("img_upload"==s.key&&Array.isArray(s.value)){var l=!0,u=!1,c=void 0;try{for(var f,p=s.value[Symbol.iterator]();!(l=(f=p.next()).done);l=!0){var h=f.value;if(!h)return uni.showToast({title:"请填写"+s.label,icon:"none",duration:1e3}),!1}}catch(v){u=!0,c=v}finally{try{l||null==p.return||p.return()}finally{if(u)throw c}}}}}}catch(v){o=!0,n=v}finally{try{i||null==r.return||r.return()}finally{if(o)throw n}}}1==this.read?(e=1,t.name?t.phone?/0?(1)[0-9]{10}/.test(t.phone)?this.$subscribe(this.template_message).then(function(t){a.submit(e)}).catch(function(t){a.submit(e)}):uni.showToast({title:"请输入正确的手机号码",icon:"none",duration:1e3}):uni.showToast({title:"请输入手机号码",icon:"none",duration:1e3}):uni.showToast({title:"请输入真实姓名",icon:"none",duration:1e3})):uni.showToast({title:"请先查看分销协议并同意",icon:"none",duration:1e3})},submit:function(a){var t=this;uni.showLoading({title:"提交中..."});var e={name:t.name,mobile:t.phone,agree:a};1==t.share_setting.form_status&&(e.form=JSON.stringify(t.form)),t.$request({url:t.$api.share.apply,data:e,method:"post"}).then(function(a){t.$store.dispatch("mallConfig/actionResetConfig"),t.$hideLoading(),0==a.code?(uni.showToast({title:a.msg,duration:1e3}),setTimeout(function(){uni.navigateBack({delta:1})},500)):0==t.share_setting.form_status&&"请填写表单"==a.msg?uni.showToast({title:"申请条件有所变化，请重新填写",icon:"none",duration:1e3}):uni.showToast({title:a.msg,icon:"none",duration:1e3})}).catch(function(a){t.$hideLoading(),uni.showToast({title:response,icon:"none",duration:1e3})})}},onLoad:function(a){var t=this,e=this;this.$showLoading({type:"global",text:"加载中..."}),null!=a.template_message&&(e.template_message=JSON.parse(a.template_message)),uni.setNavigationBarTitle({title:this.custom_setting.apply.share_apply.name?this.custom_setting.apply.share_apply.name:this.custom_setting.apply.share_apply.default}),this.$request({url:this.$api.user.user_info}).then(function(a){t.$hideLoading(),0===a.code&&(t.parent_name=a.data.identity.parent_name)})},onShow:function(){this.$store.dispatch("mallConfig/actionResetConfig")}};t.default=l},faa6:function(a,t,e){"use strict";var i=e("8a14"),o=e.n(i);o.a}}]);