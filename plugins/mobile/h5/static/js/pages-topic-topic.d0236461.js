(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-topic-topic"],{"03ba":function(t,e,a){"use strict";a.r(e);var o=a("3a1a"),i=a.n(o);for(var n in o)"default"!==n&&function(t){a.d(e,t,function(){return o[t]})}(n);e["default"]=i.a},"0c06":function(t,e,a){"use strict";a.r(e);var o=a("7fe2"),i=a("f5f7");for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);a("bd49");var r=a("2877"),c=Object(r["a"])(i["default"],o["a"],o["b"],!1,null,"47d15c39",null);e["default"]=c.exports},3788:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a("2f62");function i(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,o)}return a}function n(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?i(a,!0).forEach(function(e){r(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):i(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var c={props:{backgroundColor:{type:String,default:function(){return"white"}}},computed:n({},(0,o.mapGetters)("iPhoneX",{getBoolEmpty:"getBoolEmpty"}))};e.default=c},"3a1a":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a("2f62"),i=f(a("cb0e")),n=f(a("409e")),r=f(a("7598")),c=f(a("0c06")),s=f(a("d824")),u=f(a("605d")),d=f(a("9c0a"));function f(t){return t&&t.__esModule?t:{default:t}}function p(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,o)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?p(a,!0).forEach(function(e){v(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):p(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}function v(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var b={name:"topic",components:{"app-rich-text":i.default,"app-share-qr-code-poster":n.default,appIphoneX:r.default,appEmptyBottom:c.default,"app-video":s.default,"app-image-ad":u.default,"app-hotspot":d.default},computed:l({},(0,o.mapState)({gConfig:function(t){return t.gConfig}}),{},(0,o.mapGetters)("mallConfig",{getTheme:"getTheme"})),data:function(){return{topic:{},is_loading:!1,shareShow:!1,poster:null,id:null}},onLoad:function(t){this.id=t.id,this.loadData(t.id),this.poster=this.$api.poster.topic+"&id="+t.id},methods:{hShareAppMessage:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.$shareAppMessage({title:this.topic.app_share_title?this.topic.app_share_title:this.topic.title,imageUrl:this.topic.qrcode_pic?this.topic.qrcode_pic:"",path:"/pages/topic/topic",params:{id:this.topic.id}},t)},loadData:function(t){var e=this;this.$showLoading(),this.$request({url:this.$api.topic.detail,data:{id:t}}).then(function(t){e.$hideLoading(),0===t.code&&(e.topic=t.data.list,uni.setNavigationBarTitle({title:e.topic.app_share_title?e.topic.app_share_title:e.topic.title}))}).catch(function(t){e.$hideLoading()})},favorite:function(){var t=this;if(!this.is_loading){uni.showLoading({mark:!0,title:"正在请求"}),this.is_loading=!0;var e="no_love"===this.topic.is_favorite?"love":"no_love";this.$request({url:this.$api.topic.favorite,data:{id:this.topic.id,is_favorite:e},method:"post"}).then(function(a){uni.hideLoading(),t.is_loading=!1,0===a.code?(t.topic.is_favorite=e,uni.showToast({title:a.msg,mask:!1})):uni.showModal({title:"提示",content:a.msg,showCancel:!1})}).catch(function(e){uni.hideLoading(),t.is_loading=!1})}},shareClick:function(){this.shareShow=!0},rubikHotspot:function(t){return t&&t.link&&(t.link.url=t.link.new_link_url,t.link.openType=t.link.open_type),t}}};e.default=b},"3d84":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".text-center[data-v-0baca36c]{text-align:center}.font-weight[data-v-0baca36c]{font-weight:700}.page-width[data-v-0baca36c]{width:100%}.goods-hover-class[data-v-0baca36c]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-0baca36c]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}uni-page-body[data-v-0baca36c]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-0baca36c]{width:100%}.u-hover-class[data-v-0baca36c]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-0baca36c]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.topic[data-v-0baca36c]{background-color:#fff}.topic .title[data-v-0baca36c]{padding:%?28?% %?24?% %?44?% %?24?%;font-size:%?42?%}.topic .time[data-v-0baca36c]{margin-bottom:%?32?%;font-size:%?26?%;color:#999}.plr-24[data-v-0baca36c]{padding:0 %?24?%}.bar[data-v-0baca36c]{background-color:#fff;height:%?96?%;width:100%;border-top:%?1?% solid #e2e2e2;font-size:%?24?%;color:#999}.bar uni-image[data-v-0baca36c]{width:%?40?%;height:%?40?%}.bar>uni-view.box-grow-1[data-v-0baca36c]{width:50%}.u-topic[data-v-0baca36c]{min-height:100vh;background-color:#fff}body.?%PAGE?%[data-v-0baca36c]{background:#f7f7f7}",""])},"421d":function(t,e,a){"use strict";a.r(e);var o=a("3788"),i=a.n(o);for(var n in o)"default"!==n&&function(t){a.d(e,t,function(){return o[t]})}(n);e["default"]=i.a},"59e2":function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("app-layout",[a("v-uni-view",{staticClass:"u-topic"},[t.topic?a("v-uni-view",{staticClass:"topic"},[a("v-uni-view",{staticClass:"title"},[t._v(t._s(t.topic.title))]),a("v-uni-view",{staticClass:"time plr-24"},[t._v(t._s(t.topic.read_count))]),t._l(t.topic.detail,function(e,o){return["image-text"===e.id?[a("v-uni-view",{staticClass:"plr-24"},[a("app-rich-text",{attrs:{content:e.data.content}})],1)]:"rubik"===e.id?[a("v-uni-view",{staticStyle:{position:"relative"}},[a("app-image-ad",{attrs:{"image-style":e.data.style,list:e.data.list,height:e.data.height}}),t._l(e.data.hotspot,function(e,o){return[a("v-uni-view",[a("app-hotspot",{attrs:{hotspot:t.rubikHotspot(e)}})],1)]})],2)]:"video"===e.id?[a("v-uni-view",[a("app-video",{attrs:{"pic-url":e.data.pic_url,url:e.data.url}})],1)]:t._e()]})],2):t._e(),a("v-uni-view",[a("app-empty-bottom",{attrs:{height:Number(96)}})],1),a("v-uni-view",[a("app-iphone-x",[a("v-uni-view",{staticClass:"bar dir-left-nowrap cross-center",attrs:{slot:"empty-area"},slot:"empty-area"},["love"===t.topic.is_favorite?a("v-uni-view",{staticClass:"box-grow-1 dir-top-wrap cross-center",on:{click:function(e){e=t.$handleEvent(e),t.favorite(e)}}},[a("v-uni-image",{attrs:{src:"../../static/image/icon/icon-favorite-active.png"}}),a("v-uni-view",[t._v("已收藏")])],1):a("v-uni-view",{staticClass:"box-grow-1 dir-top-wrap cross-center",on:{click:function(e){e=t.$handleEvent(e),t.favorite(e)}}},[a("v-uni-image",{attrs:{src:"../../static/image/icon/icon-favorite.png"}}),a("v-uni-view",[t._v("收藏")])],1),a("v-uni-view",{staticClass:"box-grow-1 dir-top-wrap cross-center",on:{click:function(e){e=t.$handleEvent(e),t.shareClick(e)}}},[a("v-uni-image",{attrs:{src:"../../static/image/icon/icon-share.png"}}),a("v-uni-view",[t._v("分享")])],1)],1)],1),a("app-share-qr-code-poster",{attrs:{theme:t.getTheme,url:t.poster,title:"生成海报"},on:{share:function(e){e=t.$handleEvent(e),t.hShareAppMessage(e)}},model:{value:t.shareShow,callback:function(e){t.shareShow=e},expression:"shareShow"}})],1)],1)],1)},i=[];a.d(e,"a",function(){return o}),a.d(e,"b",function(){return i})},"6a37":function(t,e,a){"use strict";var o=a("c1efc"),i=a.n(o);i.a},7598:function(t,e,a){"use strict";a.r(e);var o=a("a17e"),i=a("421d");for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);a("6a37");var r=a("2877"),c=Object(r["a"])(i["default"],o["a"],o["b"],!1,null,"0176e80f",null);e["default"]=c.exports},"7fe2":function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"empty-bottom",style:{backgroundColor:t.backgroundColor,height:(t.botBool?t.BotHeight+t.height:t.height+t.emptyHeight)+"rpx"}})},i=[];a.d(e,"a",function(){return o}),a.d(e,"b",function(){return i})},"8b11":function(t,e,a){"use strict";a.r(e);var o=a("59e2"),i=a("03ba");for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);a("9746");var r=a("2877"),c=Object(r["a"])(i["default"],o["a"],o["b"],!1,null,"0baca36c",null);e["default"]=c.exports},9746:function(t,e,a){"use strict";var o=a("f25f"),i=a.n(o);i.a},a17e:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"iphone-x"},[t._t("empty-area"),t.getBoolEmpty.XBoolean?a("v-uni-view",{staticClass:"x-line",style:{height:t.getBoolEmpty.emptyHeight+"rpx",backgroundColor:t.backgroundColor}}):t._e()],2)},i=[];a.d(e,"a",function(){return o}),a.d(e,"b",function(){return i})},ac4c:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a("2f62");function i(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,o)}return a}function n(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?i(a,!0).forEach(function(e){r(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):i(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var c={name:"app-empty-bottom",props:{backgroundColor:{type:String,default:function(){return"white"}},height:{type:Number,default:function(){return 0}},botBool:{type:Boolean,default:function(){return!1}}},computed:n({},(0,o.mapGetters)("iPhoneX",{BotHeight:"getBotHeight",emptyHeight:"getEmpty"}))};e.default=c},bd49:function(t,e,a){"use strict";var o=a("c5c8"),i=a.n(o);i.a},c1efc:function(t,e,a){var o=a("fb96");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var i=a("4f06").default;i("25d00d7c",o,!0,{sourceMap:!1,shadowMode:!1})},c5c8:function(t,e,a){var o=a("e7e0");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var i=a("4f06").default;i("d8cfdcbc",o,!0,{sourceMap:!1,shadowMode:!1})},e7e0:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".text-center[data-v-47d15c39]{text-align:center}.font-weight[data-v-47d15c39]{font-weight:700}.page-width[data-v-47d15c39]{width:100%}.goods-hover-class[data-v-47d15c39]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-47d15c39]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}uni-page-body[data-v-47d15c39]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-47d15c39]{width:100%}.u-hover-class[data-v-47d15c39]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-47d15c39]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.empty-bottom[data-v-47d15c39]{width:100%}body.?%PAGE?%[data-v-47d15c39]{background:#f7f7f7}",""])},f25f:function(t,e,a){var o=a("3d84");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var i=a("4f06").default;i("52bacfb0",o,!0,{sourceMap:!1,shadowMode:!1})},f5f7:function(t,e,a){"use strict";a.r(e);var o=a("ac4c"),i=a.n(o);for(var n in o)"default"!==n&&function(t){a.d(e,t,function(){return o[t]})}(n);e["default"]=i.a},fb96:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".text-center[data-v-0176e80f]{text-align:center}.font-weight[data-v-0176e80f]{font-weight:700}.page-width[data-v-0176e80f]{width:100%}.goods-hover-class[data-v-0176e80f]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-0176e80f]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}uni-page-body[data-v-0176e80f]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-0176e80f]{width:100%}.u-hover-class[data-v-0176e80f]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-0176e80f]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.iphone-x[data-v-0176e80f]{position:fixed;bottom:0;left:0;width:100%;z-index:1500}.x-line[data-v-0176e80f]{width:100%;background-color:pink}body.?%PAGE?%[data-v-0176e80f]{background:#f7f7f7}",""])}}]);