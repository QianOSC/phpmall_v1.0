(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["plugins-bargain-order-list-order-list"],{"0947":function(t,a,i){"use strict";var n=i("d202"),e=i.n(n);e.a},4045:function(t,a,i){"use strict";var n=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("app-layout",[t.list.length?t._e():i("v-uni-view",{staticClass:"no-content"},[i("v-uni-view",[t._v("你还没有进行中的砍价")]),i("v-uni-view",[t._v("去会场逛逛！")])],1),i("v-uni-view",{staticClass:"order-list"},[t._l(t.list,function(a,n){return[i("v-uni-view",{key:n+"_0",staticClass:"bargain-list dir-left-nowrap",on:{click:function(i){i=t.$handleEvent(i),t.navGoods(a)}}},[i("v-uni-view",{staticClass:"box-grow-0"},[i("v-uni-image",{attrs:{src:a.cover_pic}})],1),i("v-uni-view",{staticClass:"box-grow-1 dir-top-nowrap bargain-right"},[i("v-uni-view",{staticClass:"box-grow-0 bargain-name t-omit-two"},[t._v(t._s(a.goods_name))]),i("v-uni-view",{staticClass:"attr t-omit"},[t._v(t._s(a.select_attr_group_text))]),a.reset_time?[i("v-uni-view",{staticClass:"box-grow-1 bargain-time dir-left-nowrap cross-center"},[a.times.day>0?[i("v-uni-view",{staticClass:"info"},[t._v(t._s(a.times.day))]),i("v-uni-view",{staticClass:"mark"},[t._v("天")])]:t._e(),i("v-uni-view",{staticClass:"info"},[t._v(t._s(a.times.hour))]),i("v-uni-view",{staticClass:"mark"},[t._v(":")]),i("v-uni-view",{staticClass:"info"},[t._v(t._s(a.times.minute))]),i("v-uni-view",{staticClass:"mark"},[t._v(":")]),i("v-uni-view",{staticClass:"info"},[t._v(t._s(a.times.second))]),i("v-uni-view",{staticClass:"mark"},[t._v("后结束")])],2),i("v-uni-view",{staticClass:"box-grow-0 dir-left-nowrap cross-center"},[i("v-uni-view",{staticClass:"box-grow-1 dir-top-nowrap"},[i("v-uni-view",{staticClass:"min-price"},[a.now_price==a.min_price?[t._v("已砍至最低")]:[t._v("离最低￥"+t._s(a.min_price))]],2),i("v-uni-view",{staticClass:"price"},[a.now_price==a.min_price?[t._v("￥"+t._s(a.min_price))]:[t._v("还差￥"+t._s(a.reset_price))]],2)],1),i("v-uni-view",{staticClass:"box-grow-0"},[a.now_price==a.min_price?i("app-button",{attrs:{height:"64",width:"176",color:"#FFFFFF",background:"#ff6700","font-size":"28",round:""},nativeOn:{click:function(i){return i.stopPropagation(),t.submit(a)}}},[t._v("立即购买")]):i("app-button",{attrs:{height:"64",width:"176",color:"#FFFFFF",theme:t.getTheme,"font-size":"28",round:""},nativeOn:{click:function(i){return i.stopPropagation(),t.goto(a)}}},[t._v("继续砍价")])],1)],1)]:[i("v-uni-view",{staticClass:"box-grow-1"}),i("v-uni-view",{staticClass:"box-grow-0"},[i("v-uni-view",{staticClass:"box-grow-1 bargain-content"},[t._v(t._s(a.content))]),i("v-uni-view",{staticClass:"box-grow-0 price"},[t._v(t._s(a.status_content))])],1)]],2)],1)]})],2),i("common-buttom",{attrs:{theme:t.getTheme,status:"prize"}})],1)},e=[];i.d(a,"a",function(){return n}),i.d(a,"b",function(){return e})},"720c":function(t,a,i){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=r(i("2faf")),e=i("2f62");function r(t){return t&&t.__esModule?t:{default:t}}function o(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);a&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),i.push.apply(i,n)}return i}function s(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?o(i,!0).forEach(function(a){c(t,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):o(i).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))})}return t}function c(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}var u={name:"order-list",components:{commonButtom:n.default},data:function(){var t;return{integral:t,list:[],args:!1,page:1,load:!1}},computed:s({},(0,e.mapGetters)("mallConfig",{getTheme:"getTheme"})),onReachBottom:function(){var t=this;if(!t.args&&!t.load){t.load=!0;var a=t.page+1;t.$request({url:t.$api.bargain.list,data:{page:a}}).then(function(i){if(0===i.code){var n=[a,0===i.data.list.length];t.page=n[0],t.args=n[1],t.getIntegral(t.list.concat(i.data.list))}t.load=!1})}},onShow:function(){var t=this;t.$showLoading(),t.$request({url:t.$api.bargain.list}).then(function(a){t.$hideLoading(),0===a.code&&t.getIntegral(a.data.list),t.args=!1,t.page=1}).catch(function(a){t.$hideLoading()})},onUnload:function(){clearInterval(this.integral)},methods:{navGoods:function(t){uni.navigateTo({url:"/plugins/bargain/goods/goods?goods_id="+t.goods_id})},goto:function(t){uni.navigateTo({url:"/plugins/bargain/activity/activity?id="+t.bargain_order_id})},getIntegral:function(t){var a=this;clearInterval(a.integral);var i=function(){t.forEach(function(t,a,i){if(!t.status){var n=t.finish_at.replace(/-/g,"/"),e=parseInt((new Date(n).getTime()-(new Date).getTime())/1e3),r=0,o=0,s=0,c=0;e>0?(r=Math.floor(e/86400),o=Math.floor(e/3600)-24*r,s=Math.floor(e/60)-24*r*60-60*o,c=Math.floor(e)-24*r*60*60-60*o*60-60*s,t.times={day:r,hour:o,minute:s,second:c}):t.times=c}}),a.list=t};i(t),a.integral=setInterval(function(){i(t)},1e3)},submit:function(t){var a=[{mch_id:0,bargain_order_id:t.bargain_order_id,goods_list:[{id:t.goods_id,attr:[],num:1,cart_id:0,goods_attr_id:t.goods_attr_id}]}];uni.navigateTo({url:"/pages/order-submit/order-submit?mch_list="+JSON.stringify(a)+"&preview_url="+encodeURIComponent(this.$api.bargain.order_preview)+"&submit_url="+encodeURIComponent(this.$api.bargain.order_submit)})}}};a.default=u},ab8d:function(t,a,i){a=t.exports=i("2350")(!1),a.push([t.i,".text-center[data-v-6a356a2f]{text-align:center}.font-weight[data-v-6a356a2f]{font-weight:700}.page-width[data-v-6a356a2f]{width:100%}.goods-hover-class[data-v-6a356a2f]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-6a356a2f]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}uni-page-body[data-v-6a356a2f]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-6a356a2f]{width:100%}.u-hover-class[data-v-6a356a2f]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-6a356a2f]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.no-content[data-v-6a356a2f]{padding:%?150?% 0;text-align:center;color:#888}.bargain-list[data-v-6a356a2f]{padding:%?24?%;margin-bottom:%?8?%;background:#fff}.bargain-list uni-image[data-v-6a356a2f]{height:%?216?%;width:%?215?%;display:block}.bargain-list .bargain-right[data-v-6a356a2f]{margin-left:%?20?%;min-height:%?216?%}.bargain-list .bargain-time[data-v-6a356a2f]{margin:%?8?% 0;font-size:%?26?%}.bargain-list .bargain-time .info[data-v-6a356a2f]{width:%?45?%;height:%?38?%;background:#666;color:#fff;text-align:center;border-radius:%?4?%;line-height:%?38?%}.bargain-list .bargain-time .mark[data-v-6a356a2f]{color:#666;margin:0 %?10?%}.bargain-list .min-price[data-v-6a356a2f]{color:#999;font-size:%?24?%}.bargain-list .price[data-v-6a356a2f]{margin-top:%?8?%;color:#ff4544;font-size:%?28?%}.bargain-list .bargain-content[data-v-6a356a2f]{margin-bottom:%?64?%;color:#666;font-size:%?24?%}.bargain-list .bargain-name[data-v-6a356a2f]{font-size:%?28?%;color:#353535}.bargain-list .attr[data-v-6a356a2f]{color:#999;margin:%?12?% 0 %?16?% 0;font-size:%?24?%}body.?%PAGE?%[data-v-6a356a2f]{background:#f7f7f7}",""])},d202:function(t,a,i){var n=i("ab8d");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var e=i("4f06").default;e("18024d10",n,!0,{sourceMap:!1,shadowMode:!1})},f61e:function(t,a,i){"use strict";i.r(a);var n=i("4045"),e=i("fdb5");for(var r in e)"default"!==r&&function(t){i.d(a,t,function(){return e[t]})}(r);i("0947");var o=i("2877"),s=Object(o["a"])(e["default"],n["a"],n["b"],!1,null,"6a356a2f",null);a["default"]=s.exports},fdb5:function(t,a,i){"use strict";i.r(a);var n=i("720c"),e=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(a,t,function(){return n[t]})}(r);a["default"]=e.a}}]);