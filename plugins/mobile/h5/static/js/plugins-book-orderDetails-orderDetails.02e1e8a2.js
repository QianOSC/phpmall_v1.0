(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["plugins-book-orderDetails-orderDetails"],{"0228":function(t,e,a){var i=a("b041");e=t.exports=a("2350")(!1),e.push([t.i,".text-center[data-v-3e3e7c8d]{text-align:center}.font-weight[data-v-3e3e7c8d]{font-weight:700}.page-width[data-v-3e3e7c8d]{width:100%}.goods-hover-class[data-v-3e3e7c8d]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-3e3e7c8d]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}uni-page-body[data-v-3e3e7c8d]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-3e3e7c8d]{width:100%}.u-hover-class[data-v-3e3e7c8d]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-3e3e7c8d]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.app-store[data-v-3e3e7c8d]{width:100%;background-color:#fff;padding-left:%?24?%;margin-bottom:%?20?%}.app-store .app-text[data-v-3e3e7c8d]{height:%?72?%;width:calc(100% - %?24?%);font-size:%?26?%;color:#999;line-height:%?72?%;border-bottom:%?1?% solid #e2e2e2}.app-store .app-text-border[data-v-3e3e7c8d]{border-bottom:%?1?% solid #e2e2e2}.app-store .app-more[data-v-3e3e7c8d]{height:%?80?%;line-height:%?80?%;font-size:%?28?%;color:#00a0e9;position:relative}.app-store .app-icon[data-v-3e3e7c8d]{position:absolute;top:%?30?%;right:%?24?%;width:%?10?%;height:%?22?%;background-size:100% 100%;background-repeat:no-repeat;background-image:url("+i(a("db8d"))+")}.app-store .app-list-border[data-v-3e3e7c8d]{border-bottom:%?1?% solid #e2e2e2}.app-store .app-list[data-v-3e3e7c8d]{padding-bottom:%?32?%}.app-store .app-list .app-store-name[data-v-3e3e7c8d]{font-size:%?28?%;margin-top:%?32?%;margin-bottom:%?20?%;color:#353535}.app-store .app-list .app-address[data-v-3e3e7c8d]{font-size:%?28?%;color:#999}.app-store .app-list .app-time[data-v-3e3e7c8d]{font-size:%?28?%;color:#999}body.?%PAGE?%[data-v-3e3e7c8d]{background:#f7f7f7}",""])},"09ae":function(t,e,a){var i=a("b041");e=t.exports=a("2350")(!1),e.push([t.i,".text-center[data-v-427feb00]{text-align:center}.font-weight[data-v-427feb00]{font-weight:700}.page-width[data-v-427feb00]{width:100%}.goods-hover-class[data-v-427feb00]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-427feb00]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}uni-page-body[data-v-427feb00]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-427feb00]{width:100%}.u-hover-class[data-v-427feb00]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-427feb00]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.app-write-off-code[data-v-427feb00]{background-color:rgba(0,0,0,.6);width:100%;height:100%;top:0;left:0;position:fixed;border-radius:0;z-index:1500}.app-write-off-code .app-content[data-v-427feb00]{background-color:#fff;width:%?600?%;height:%?600?%;border-radius:%?8?%;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.app-write-off-code .app-content .app-icon[data-v-427feb00]{width:%?30?%;height:%?30?%;position:absolute;top:%?32?%;right:%?32?%;background-repeat:no-repeat;background-size:100% 100%;background-image:url("+i(a("e6f7"))+")}.app-write-off-code .app-content .app-text[data-v-427feb00]{font-size:%?33?%;color:#353535;margin-top:%?56?%;text-align:center}.app-write-off-code .app-content .app-image[data-v-427feb00]{width:%?360?%;height:%?360?%;margin-top:%?64?%;position:absolute;left:50%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%)}body.?%PAGE?%[data-v-427feb00]{background:#f7f7f7}",""])},"102a":function(t,e,a){"use strict";var i=a("d4a2"),o=a.n(i);o.a},"110f":function(t,e,a){"use strict";a.r(e);var i=a("c4d4"),o=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e["default"]=o.a},"11db":function(t,e,a){"use strict";a.r(e);var i=a("157e"),o=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e["default"]=o.a},"157e":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"app-store",props:{borderStyle:{type:Boolean,default:function(){return!0}},icon:{type:Boolean,default:function(){return!0}},storeNum:{type:Number,default:function(){return 0}},business_hours:{type:String,default:function(){return""}},address:{type:String,default:function(){return""}},name:{type:String,default:function(){return""}},store_id:{type:String,default:function(){return""}},title:{type:Boolean,default:function(){return!0}},goods_id:{type:String,default:function(){return""}}}};e.default=i},"185d":function(t,e,a){"use strict";var i=a("1b9b"),o=a.n(i);o.a},"1b9b":function(t,e,a){var i=a("09ae");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("4f06").default;o("7ed5dd0c",i,!0,{sourceMap:!1,shadowMode:!1})},"3b0e":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"app-store"},[t.title?a("v-uni-view",{staticClass:"app-text",style:{"app-text-border":t.borderStyle}},[t._v("门店信息")]):t._e(),a("v-uni-view",{staticClass:"app-list",class:{"app-list-border":t.storeNum>1}},[a("app-jump-button",{attrs:{form:"",arrangement:"a",open_type:"navigate",url:"/pages/store/detail?id="+t.store_id}},[a("v-uni-text",{staticClass:"app-store-name"},[t._v(t._s(t.name))]),a("v-uni-text",{staticClass:"app-address"},[t._v("地址: "+t._s(t.address))]),a("v-uni-text",{staticClass:"app-time"},[t._v("营业时间: "+t._s(t.business_hours))])],1)],1),t.storeNum>1?a("v-uni-view",{staticClass:"app-more"},[a("app-jump-button",{attrs:{open_type:"navigate",url:"/pages/store/store?book_id="+t.goods_id,arrangement:"left",form:""}},[t._v("查看全部"+t._s(t.storeNum)+"家分店"),t.icon?a("v-uni-icon",{staticClass:"app-icon",attrs:{type:""}}):t._e()],1)],1):t._e()],1)},o=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return o})},5223:function(t,e,a){"use strict";var i=a("9017"),o=a.n(i);o.a},"557c":function(t,e,a){"use strict";a.r(e);var i=a("7f7a"),o=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e["default"]=o.a},"7f7a":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(a("f09e")),o=r(a("387a")),n=r(a("e604"));function r(t){return t&&t.__esModule?t:{default:t}}var p={name:"orderDetails",components:{"app-store":i.default,"app-prompt-box":o.default,"app-write-off-code":n.default},data:function(){return{item:null,file_path:"",hidden:!1,refundBoolean:!1,payBoolean:!1,cancelBoolean:!1}},onLoad:function(t){this.request(t)},methods:{request:function(t){var e=this;this.$request({url:this.$api.book.order_detail,data:{id:t.id}}).then(function(t){e.item=t.data.detail})},useImmediately:function(){this.hidden=!0},close:function(t){var e=this;t?this.$request({url:this.$api.order.cancel,data:{id:this.item.id}}).then(function(t){0===t.code&&(e.refundBoolean=!1,e.request({id:e.item.id}))}):this.refundBoolean=!1},goPay:function(t){var e=this;this.payBoolean=!1,t?this.$request({url:this.$api.order.list_pay_data,data:{id:this.item.id}}).then(function(t){0===t.code&&e.$payment.pay(t.data.id).then(function(t){e.item.is_pay=1}).catch(function(t){})}):this.payBoolean=!1},evaluation:function(){uni.navigateTo({url:"/pages/order/appraise/appraise?id=".concat(this.item.id)})}}};e.default=p},9017:function(t,e,a){var i=a("0228");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("4f06").default;o("49d297b8",i,!0,{sourceMap:!1,shadowMode:!1})},a48e:function(t,e,a){"use strict";a.r(e);var i=a("c141"),o=a("557c");for(var n in o)"default"!==n&&function(t){a.d(e,t,function(){return o[t]})}(n);a("102a");var r=a("2877"),p=Object(r["a"])(o["default"],i["a"],i["b"],!1,null,"1c5085ee",null);e["default"]=p.exports},c0af:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,'.text-center[data-v-1c5085ee]{text-align:center}.font-weight[data-v-1c5085ee]{font-weight:700}.page-width[data-v-1c5085ee]{width:100%}.goods-hover-class[data-v-1c5085ee]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-1c5085ee]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}uni-page-body[data-v-1c5085ee]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-1c5085ee]{width:100%}.u-hover-class[data-v-1c5085ee]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-1c5085ee]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.app-order-details[data-v-1c5085ee]{background-color:#f7f7f7;width:%?750?%;padding:%?20?% %?24?%}.app-order-details .app-title[data-v-1c5085ee]{display:inline-block;margin-top:%?32?%;margin-bottom:%?24?%;color:#999;font-size:%?26?%}.app-order-details>uni-view[data-v-1c5085ee]{width:%?702?%;border-radius:%?16?%;background-color:#fff}.app-order-details .app-image-title[data-v-1c5085ee]{padding:%?24?%}.app-order-details .app-image-title .app-image[data-v-1c5085ee]{width:%?208?%;height:%?160?%}.app-order-details .app-image-title .app-content[data-v-1c5085ee]{width:%?422?%;margin-left:%?24?%;height:%?160?%}.app-order-details .app-image-title .app-content .app-content-title[data-v-1c5085ee]{display:inline-block;margin-top:%?10?%;font-size:%?28?%;color:#353535;word-break:break-all;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden;height:%?64?%;width:100%}.app-order-details .app-image-title .app-content .app-prices[data-v-1c5085ee]{padding-top:%?50?%}.app-order-details .app-image-title .app-content .app-prices>uni-text[data-v-1c5085ee]:before{content:"\\FFE5"}.app-order-details .app-image-title .app-content .app-prices .app-old-price[data-v-1c5085ee]{color:#a4a4a4;font-size:%?24?%;text-decoration:line-through}.app-order-details .app-image-title .app-content .app-prices .app-new-price[data-v-1c5085ee]{margin-left:%?24?%;font-size:%?32?%;color:#ff4544}.app-order-details .app-order-information[data-v-1c5085ee]{padding:%?28?% %?24?% %?12?% %?24?%}.app-order-details .app-order-information>uni-text[data-v-1c5085ee]{font-size:%?28?%;color:#353535;margin-bottom:%?16?%}.app-order-details .app-other[data-v-1c5085ee]{padding:0 %?24?%}.app-order-details .app-other .app-in[data-v-1c5085ee]{padding:%?28?% 0;font-size:%?28?%}.app-order-details .app-other .app-in .app-top[data-v-1c5085ee]{margin-bottom:%?24?%;color:#999}.app-order-details .app-other .app-in .app-bottom[data-v-1c5085ee]{color:#353535}.app-order-details .app-other .app-border[data-v-1c5085ee]{border-bottom:%?1?% solid #e2e2e2}.app-order-details .app-other .app-image[data-v-1c5085ee]{width:%?150?%;height:%?150?%;margin:%?5?%;border-radius:%?8?%}.app-order-details .app-buttons[data-v-1c5085ee]{height:%?102?%;width:%?750?%;background-color:#fff;border-top:%?1?% solid #e2e2e2;position:fixed;left:0;bottom:0}.app-order-details .app-buttons>uni-view[data-v-1c5085ee]{margin-right:%?15?%}.app-order-details .app-buttons .app-button[data-v-1c5085ee]{height:%?60?%;line-height:%?60?%;font-size:%?28?%;border-radius:%?25?%;display:inline-block}.app-order-details .app-buttons .app-red[data-v-1c5085ee]{border:%?1?% solid #ff4544;background-color:#fff5f5;color:#ff4544;padding:0 %?30?%}.app-order-details .app-buttons .app-white[data-v-1c5085ee]{background-color:#fff;border:%?1?% solid #d4d4d4;color:#565656;padding:0 %?30?%}.empty[data-v-1c5085ee]{height:%?102?%;width:%?750?%;background-color:#f7f7f7!important}body.?%PAGE?%[data-v-1c5085ee]{background:#f7f7f7}',""])},c141:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("app-layout",[a("v-uni-view",{staticClass:"app-order-details"},[a("app-write-off-code",{attrs:{hidden:t.hidden,itemId:t.item.id},on:{hiden:function(e){e=t.$handleEvent(e),t.hidden=!1}}}),t.refundBoolean?a("v-uni-view",[a("app-prompt-box",{attrs:{text:"是否确认申请退款该订单"},on:{click:function(e){e=t.$handleEvent(e),t.close(e)}}})],1):t._e(),t.payBoolean?a("v-uni-view",[a("app-prompt-box",{attrs:{text:"是否确认支付该订单"},on:{click:function(e){e=t.$handleEvent(e),t.goPay(e)}}})],1):t._e(),t.cancelBoolean?a("v-uni-view"):t._e(),a("v-uni-view",{staticClass:"app-image-title dir-left-nowrap"},[a("v-uni-image",{staticClass:"app-image",attrs:{src:t.item.store.cover_url}}),a("v-uni-view",{staticClass:"app-content dir-top-nowrap"},[a("v-uni-text",{staticClass:"app-content-title"},[t._v(t._s(t.item.store.name))]),a("v-uni-view",{staticClass:"app-prices dir-left-nowrap main-right cross-center"},[a("v-uni-text",{staticClass:"app-old-price"},[t._v(t._s(t.item.total_goods_original_price))]),a("v-uni-text",{staticClass:"app-new-price"},[t._v(t._s(t.item.total_pay_price))])],1)],1)],1),a("v-uni-text",{staticClass:"app-title"},[t._v("门店信息")]),a("v-uni-view",{staticClass:"app-store"},[a("app-store",{attrs:{address:t.item.store.address,business_hours:t.item.store.business_hours,storeNum:t.item.store_list.length,goods_id:t.item.id,store_id:t.item.store.id,name:t.item.store.name,sotreNum:t.item.store.length,title:t.title,borderStyle:t.borderStyle,icon:t.icon}})],1),a("v-uni-text",{staticClass:"app-title"},[t._v("订单信息")]),a("v-uni-view",{staticClass:"app-order-information dir-top-nowrap main-left"},[a("v-uni-text",[t._v("姓名: "+t._s(t.item.name))]),a("v-uni-text",[t._v("手机号: "+t._s(t.item.mobile))]),a("v-uni-text",[t._v("订单号: "+t._s(t.item.order_no))]),a("v-uni-text",[t._v("下单时间: "+t._s(t.item.created_at))])],1),t.item.order_form.length>0?a("v-uni-text",{staticClass:"app-title"},[t._v("其他信息")]):t._e(),t.item.order_form.length>0?a("v-uni-view",{staticClass:"app-other"},[t._l(t.item.order_form,function(e,i){return e.value&&-1===[",",""].indexOf(e.value.toString())?["img_upload"===e.key?[a("v-uni-view",{staticClass:"app-in dir-top-nowrap"},[a("v-uni-text",{staticClass:"app-top"},[t._v(t._s(e.label))]),Array.isArray(e.value)?a("v-uni-view",[t._l(e.value,function(t,e){return[a("v-uni-image",{key:e+"_0",staticClass:"app-image",attrs:{src:t}})]})],2):a("v-uni-image",{staticClass:"app-image",attrs:{src:e.value}})],1)]:[a("v-uni-view",{staticClass:"app-in dir-top-nowrap",class:{"app-border":t.item.order_form.length-1!==i}},[a("v-uni-text",{staticClass:"app-top"},[t._v(t._s(e.label))]),a("v-uni-text",{staticClass:"app-bottom"},[t._v(t._s(e.value))])],1)]]:t._e()})],2):t._e(),0==t.item.cancel_status&&0==t.item.is_sale?a("v-uni-view",{staticClass:"empty"}):t._e(),0==t.item.cancel_status&&0==t.item.is_sale?a("v-uni-view",{staticClass:"app-buttons dir-left-nowrap main-right cross-center"},[0==t.item.is_pay?a("v-uni-view",{staticClass:"app-button"},[a("app-form-id",[a("v-uni-button",{staticClass:"app-button app-red",on:{click:function(e){e=t.$handleEvent(e),t.payBoolean=!0}}},[t._v("去支付")])],1)],1):t._e(),0==t.item.is_pay?a("v-uni-view",{staticClass:"app-button"},[a("app-form-id",[a("v-uni-button",{staticClass:"app-button app-white"},[t._v("申请取消")])],1)],1):t._e(),1==t.item.is_confirm?a("v-uni-view",{staticClass:"app-button",on:{click:function(e){e=t.$handleEvent(e),t.evaluation(e)}}},[a("app-form-id",[a("v-uni-button",{staticClass:"app-button  app-red"},[t._v("去评价")])],1)],1):t._e(),2!=t.item.cancel_status&&1==t.item.is_pay&&0==t.item.is_confirm?a("v-uni-view",{staticClass:"app-button"},[a("app-form-id",[a("v-uni-view",{staticClass:"app-button app-red",on:{click:function(e){e=t.$handleEvent(e),t.useImmediately(e)}}},[t._v("立即使用")])],1)],1):t._e(),2!=t.item.cancel_status&&1==t.item.is_pay&&0==t.item.is_confirm?a("v-uni-view",{staticClass:"app-button"},[a("app-form-id",[a("v-uni-view",{staticClass:"app-button app-white",on:{click:function(e){e=t.$handleEvent(e),t.refundBoolean=!0}}},[t._v("申请退款")])],1)],1):t._e()],1):t._e()],1)],1)},o=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return o})},c4d4:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"app-write-off-code",props:{hidden:{type:Boolean,default:function(){return!1}},itemId:{type:String,default:function(){return"-1"}}},data:function(){return{file_path:""}},watch:{hidden:{handler:function(t){var e=this;!0===t&&this.$request({url:this.$api.book.clerk_code,data:{id:this.itemId}}).then(function(t){0===t.code&&(e.file_path=t.data.file_path)})}}},methods:{hiddenHandler:function(){this.$emit("hiden",!1),this.file_path=""}}};e.default=i},d4a2:function(t,e,a){var i=a("c0af");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("4f06").default;o("1e755d0c",i,!0,{sourceMap:!1,shadowMode:!1})},e604:function(t,e,a){"use strict";a.r(e);var i=a("f098"),o=a("110f");for(var n in o)"default"!==n&&function(t){a.d(e,t,function(){return o[t]})}(n);a("185d");var r=a("2877"),p=Object(r["a"])(o["default"],i["a"],i["b"],!1,null,"427feb00",null);e["default"]=p.exports},e6f7:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAMAAADW3miqAAAAV1BMVEUAAAD////f39/n5+fU1NTx8fHX19ft7e3////Y2Nje3t7w8PD////Nzc3////////s7Oz////x8fH////u7u7MzMzx8fH////MzMzR0dHa2tr9/f3j4+Pgp5ThAAAAGHRSTlMAXp2eoJWijEakfZA6909BfL+aVt7Ney9JKnM1AAAA1ElEQVQ4y62USw6DMAxESYFCoXz7c6D3P2erUNmVHt7hlUWeZqTMkOzICc0y3vyze1oaEcnDPlOISNpEPCpc5DuqpBR05LHtp0Sdwi4jz8yopEUvqYbMoUynrPULqXBWxqGUqfT+QMGLlOm0Vz0FpV49GKPWn9dAxKhIL1Lq5VH5hsTZdDjrBi0TTpAXcmTupKgTF4+yvLpyQtrwal/sBDuGtOHV1kibPUx3iN7Dy+9qoV6kHC86Wp+dro5/f/Dce81Ju3WelELvGLuxd16eGGN24HwAWGcfgGkUetEAAAAASUVORK5CYII="},f098:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.hidden?a("v-uni-view",{staticClass:"app-write-off-code"},[a("v-uni-view",{staticClass:"app-content"},[a("v-uni-view",{staticClass:"app-icon",on:{click:function(e){e=t.$handleEvent(e),t.hiddenHandler(e)}}}),a("v-uni-view",{staticClass:"app-text"},[t._v("核销码")]),a("v-uni-image",{staticClass:"app-image",attrs:{src:t.file_path}})],1)],1):t._e()},o=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return o})},f09e:function(t,e,a){"use strict";a.r(e);var i=a("3b0e"),o=a("11db");for(var n in o)"default"!==n&&function(t){a.d(e,t,function(){return o[t]})}(n);a("5223");var r=a("2877"),p=Object(r["a"])(o["default"],i["a"],i["b"],!1,null,"3e3e7c8d",null);e["default"]=p.exports}}]);