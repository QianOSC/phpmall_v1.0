(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["plugins-community-clerk-clerk"],{"0855":function(t,e,i){"use strict";i.r(e);var a=i("b20c"),n=i("74ce");for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);i("a16a");var s=i("2877"),r=Object(s["a"])(n["default"],a["a"],a["b"],!1,null,"2f466e04",null);e["default"]=r.exports},"59be":function(t,e,i){"use strict";var a=i("f59b"),n=i.n(a);n.a},"6ae9":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{staticClass:"item",on:{click:function(e){e=t.$handleEvent(e),t.toDetail(t.item.id)}}},[i("v-uni-view",{staticClass:"title main-between cross-center"},[i("v-uni-view",{staticClass:"activity-title dir-left-nowrap"},[i("v-uni-image",{attrs:{src:"./../image/activity-name.png"}}),i("v-uni-view",[t._v(t._s(t.item.title))])],1),i("v-uni-view",{staticClass:"number dir-right-nowrap"},[i("v-uni-view",{class:t.theme+"-m-text "+t.theme},[t._v(t._s(t.item.no))]),t.is_user&&1==t.item.cancel_status?i("v-uni-view",{staticClass:"status"},[t._v("已关闭")]):t.is_user&&1==t.item.is_sale?i("v-uni-view",{staticClass:"status"},[t._v("已完成")]):t.is_user&&1==t.item.is_confirm?i("v-uni-view",{staticClass:"status"},[t._v("已提货")]):t.is_user&&1==t.item.is_send?i("v-uni-view",{staticClass:"status"},[t._v("待提货")]):t.is_user&&1==t.item.is_pay?i("v-uni-view",{staticClass:"status"},[t._v("待发货")]):t.is_user&&0==t.item.is_pay?i("v-uni-view",{staticClass:"status"},[t._v("未付款")]):t._e()],1)],1),t.is_user?t._e():i("v-uni-view",{staticClass:"info main-between cross-center"},[i("v-uni-view",{staticClass:"user-info dir-left-nowrap cross-center"},[i("v-uni-view",{staticClass:"avatar"},[i("v-uni-image",{attrs:{src:t.item.user_avatar}})],1),i("v-uni-view",{staticClass:"user"},[t._v(t._s(t.item.name)),i("v-uni-text",[t._v(t._s(t.item.mobile))])],1)],1),1==t.item.cancel_status?i("v-uni-view",{staticClass:"status",class:t.theme+"-m-text "+t.theme},[t._v("已关闭")]):1==t.item.is_sale?i("v-uni-view",{staticClass:"status",class:t.theme+"-m-text "+t.theme},[t._v("已完成")]):1==t.item.is_confirm?i("v-uni-view",{staticClass:"status",class:t.theme+"-m-text "+t.theme},[t._v("已提货")]):1==t.item.is_send?i("v-uni-view",{staticClass:"status",class:t.theme+"-m-text "+t.theme},[t._v("待提货")]):1==t.item.is_pay?i("v-uni-view",{staticClass:"status",class:t.theme+"-m-text "+t.theme},[t._v("待发货")]):0==t.item.is_pay?i("v-uni-view",{staticClass:"status",class:t.theme+"-m-text "+t.theme},[t._v("未付款")]):t._e()],1),t.item.remark?i("v-uni-view",{staticClass:"remark"},[t._v("买家备注："+t._s(t.item.remark))]):t._e(),t._l(t.item.detail,function(e){return i("v-uni-view",{key:e.id,staticClass:"goods"},[i("v-uni-image",{staticClass:"goods-img",attrs:{mode:"aspectFill",src:e.goods_info.pic_url}}),i("v-uni-view",{staticClass:"t-omit-two goods-name"},[t._v(t._s(e.goods_info.name))]),i("v-uni-view",{staticClass:"goods-attr t-omit"},t._l(e.goods_info.attr_list,function(e){return i("v-uni-text",{key:t.item.attr_id},[t._v(t._s(e.attr_group_name)+":"+t._s(e.attr_name))])}),1),i("v-uni-view",{staticClass:"goods-num"},[t._v("x"+t._s(e.goods_info.num))]),i("v-uni-view",{staticClass:"goods-price"},[t._v("￥"+t._s(e.goods_info.total_original_price))])],1)}),i("v-uni-view",{staticClass:"order-total"},[t._v("共"),i("v-uni-text",[t._v(t._s(t.item.num))]),t._v("件商品 合计"),i("v-uni-text",[t._v("￥"+t._s(t.item.total_price))])],1),i("v-uni-view",{staticClass:"dir-right-nowrap"},[t.is_user&&0==t.item.is_pay&&0==t.item.cancel_status?i("v-uni-view",{staticClass:"pick-btn",class:t.theme+"-m-text "+t.theme+" "+t.theme+"-m-border "+t.theme,on:{click:function(e){e.stopPropagation(),e=t.$handleEvent(e),t.orderPay(t.item)}}},[t._v("立即支付")]):t._e(),1==t.item.is_send&&0==t.item.is_confirm?i("v-uni-view",{staticClass:"pick-btn",class:t.theme+"-m-text "+t.theme+" "+t.theme+"-m-border "+t.theme,on:{click:function(e){e.stopPropagation(),e=t.$handleEvent(e),t.toRemind(t.item)}}},[t._v("确认提货")]):t._e()],1)],2),t.show?i("v-uni-view",{staticClass:"bg"},[i("v-uni-view",{staticClass:"dialog"},[i("v-uni-view",{staticClass:"dialog-content"},[t._v("是否确认提货")]),i("v-uni-view",{staticClass:"main-center btn-area"},[i("v-uni-view",{staticClass:"submit-btn box-grow-1",staticStyle:{color:"#666"},on:{click:function(e){e=t.$handleEvent(e),t.toRemind(e)}}},[t._v("取消")]),i("v-uni-view",{staticClass:"line"}),i("v-uni-view",{staticClass:"submit-btn box-grow-1",class:t.theme+"-m-text "+t.theme,on:{click:function(e){e=t.$handleEvent(e),t.beConfirm(e)}}},[t._v("确认")])],1)],1)],1):t._e()],1)},n=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n})},"74ce":function(t,e,i){"use strict";i.r(e);var a=i("e654"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);e["default"]=n.a},"868c":function(t,e,i){"use strict";i.r(e);var a=i("b6dc"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);e["default"]=n.a},"8a77":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".text-center[data-v-2f466e04]{text-align:center}.font-weight[data-v-2f466e04]{font-weight:700}.page-width[data-v-2f466e04]{width:100%}.goods-hover-class[data-v-2f466e04]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-2f466e04]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}uni-page-body[data-v-2f466e04]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-2f466e04]{width:100%}.u-hover-class[data-v-2f466e04]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-2f466e04]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.search .input[data-v-2f466e04]{height:%?100?%;background-color:#fff;padding:0 %?24?%;margin-bottom:%?40?%;width:100%}.search .input uni-input[data-v-2f466e04]{height:%?100?%;line-height:%?100?%}body.?%PAGE?%[data-v-2f466e04]{background:#f7f7f7}",""])},"984f":function(t,e,i){"use strict";i.r(e);var a=i("6ae9"),n=i("868c");for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);i("59be");var s=i("2877"),r=Object(s["a"])(n["default"],a["a"],a["b"],!1,null,"8b00f742",null);e["default"]=r.exports},a06f:function(t,e,i){var a=i("8a77");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("5fc80a64",a,!0,{sourceMap:!1,shadowMode:!1})},a16a:function(t,e,i){"use strict";var a=i("a06f"),n=i.n(a);n.a},ad0a:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".text-center[data-v-8b00f742]{text-align:center}.font-weight[data-v-8b00f742]{font-weight:700}.page-width[data-v-8b00f742]{width:100%}.goods-hover-class[data-v-8b00f742]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-8b00f742]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}uni-page-body[data-v-8b00f742]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-8b00f742]{width:100%}.u-hover-class[data-v-8b00f742]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-8b00f742]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.item[data-v-8b00f742]{border-radius:%?16?%;background-color:#fff;width:%?702?%;margin:%?24?%;margin-top:0;padding:%?24?%}.item[data-v-8b00f742]:first-of-type{margin-top:%?24?%}.item .status[data-v-8b00f742]{font-size:%?24?%}.item .title[data-v-8b00f742]{height:%?32?%;line-height:%?32?%;margin-bottom:%?24?%}.item .title .number[data-v-8b00f742]{font-size:%?38?%}.item .title .number .status[data-v-8b00f742]{margin-right:%?30?%}.item .title .activity-title[data-v-8b00f742]{color:#353535;font-size:%?24?%;height:%?30?%;line-height:%?30?%}.item .title .activity-title uni-image[data-v-8b00f742]{width:%?30?%;height:%?30?%;margin-right:%?20?%;display:block}.item .info[data-v-8b00f742]{height:%?56?%;font-size:%?24?%}.item .info .user-info[data-v-8b00f742]{height:%?56?%}.item .info .user-info .avatar[data-v-8b00f742]{margin-right:%?20?%;width:%?56?%;height:%?56?%;border-radius:50%}.item .info .user-info .avatar uni-image[data-v-8b00f742]{width:%?56?%;height:%?56?%;border-radius:50%}.item .info .user-info .user[data-v-8b00f742]{color:#353535}.item .info .user-info .user uni-text[data-v-8b00f742]{margin-left:%?30?%}.item .remark[data-v-8b00f742]{margin-top:%?25?%;word-break:break-all;font-size:%?24?%;color:#3b3939;padding:%?20?% %?24?%;background-color:#f7f7f7}.item .goods[data-v-8b00f742]{height:%?160?%;margin-top:%?24?%;position:relative;font-size:%?24?%;color:#353535;margin-bottom:%?24?%}.item .goods .goods-img[data-v-8b00f742]{height:%?160?%;width:%?160?%;float:left;margin-right:%?20?%;border-radius:%?4?%}.item .goods .goods-attr[data-v-8b00f742]{font-size:%?24?%;color:#999;width:70%;position:absolute;width:70%;top:%?78?%;left:%?180?%}.item .goods .goods-attr uni-text[data-v-8b00f742]{margin-right:%?20?%}.item .goods .goods-num[data-v-8b00f742]{font-size:%?24?%;color:#999;position:absolute;top:%?126?%;left:%?180?%}.item .goods .goods-price[data-v-8b00f742]{font-size:%?24?%;color:#353535;position:absolute;bottom:0;right:0}.item .order-total[data-v-8b00f742]{text-align:right;color:#999;font-size:%?24?%;margin-bottom:%?24?%}.item .order-total uni-text[data-v-8b00f742]{font-size:%?28?%;color:#353535}.item .pick-btn[data-v-8b00f742]{height:%?48?%;line-height:%?46?%;border-radius:%?24?%;border:%?2?% solid;font-size:%?24?%;display:inline-block;padding:0 %?20?%;margin-left:%?20?%}.bg[data-v-8b00f742]{position:fixed;background-color:rgba(0,0,0,.3);top:0;left:0;height:100%;width:100%;z-index:99}.bg .dialog[data-v-8b00f742]{width:%?480?%;height:%?200?%;position:fixed;top:30%;left:50%;margin-left:%?-240?%;background-color:#fff;border-radius:%?16?%;z-index:233;font-size:%?28?%;color:#353535}.bg .dialog .dialog-content[data-v-8b00f742]{height:%?110?%;line-height:%?110?%;text-align:center}.bg .dialog .btn-area[data-v-8b00f742]{height:%?88?%;position:relative;border-top:%?2?% solid #e2e2e2}.bg .dialog .btn-area .line[data-v-8b00f742]{height:%?32?%;width:%?1?%;background-color:#e2e2e2;position:absolute;top:%?28?%;left:0;right:0;margin:0 auto}.bg .dialog .btn-area .submit-btn[data-v-8b00f742]{height:%?88?%;line-height:%?88?%;font-size:%?28?%;text-align:center}body.?%PAGE?%[data-v-8b00f742]{background:#f7f7f7}",""])},b20c:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-layout",[0==t.list.length?i("v-uni-view",{staticClass:"search dir-top-nowrap cross-center"},[i("v-uni-view",{staticClass:"input"},[i("v-uni-input",{attrs:{placeholder:"请输入买家手机号",type:"number"},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1),i("app-button",{attrs:{theme:t.getTheme,color:"#fff",arrangement:"row",type:"important",round:"",width:"702"},on:{click:function(e){e=t.$handleEvent(e),t.getList(e)}}},[i("v-uni-text",{staticClass:"app-text"},[t._v("确认")])],1)],1):i("v-uni-view",t._l(t.list,function(e,a){return 0==e.is_confirm?i("app-order",{key:e.id,attrs:{is_user:t.is_user,theme:t.getTheme,item:e},on:{update:function(e){e=t.$handleEvent(e),t.update(e)}}}):t._e()}),1)],1)},n=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n})},b6dc:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;i("2f62");var a={name:"app-order",props:{item:{type:Object},is_user:{type:Boolean},is_confirm:{type:Boolean},theme:String},data:function(){return{show:!1,orderList:[],id:0}},methods:{toRemind:function(t){t.id>0?(this.show=!0,this.id=t.id):(this.show=!1,this.id=0)},orderPay:function(t){var e=this;e.$showLoading(),e.$request({url:e.$api.order.list_pay_data,data:{id:t.id}}).then(function(t){e.$hideLoading(),0===t.code&&e.$payment.pay(t.data.id).then(function(){uni.redirectTo({url:"/plugins/community/order/order?is_user=1"})}).catch(function(t){uni.showModal({title:"",content:t.errMsg,showCancel:!1})})}).catch(function(){e.$hideLoading()})},toDetail:function(t){var e=0;this.is_user&&(e=1),uni.navigateTo({url:"/plugins/community/order-detail/order-detail?id="+t+"&is_user="+e})},beConfirm:function(){var t=this;t.show=!1,uni.showLoading({mask:!0,title:"确认提货中..."}),t.$request({url:t.is_user?t.$api.order.confirm:t.$api.community.confirm,data:{id:t.id}}).then(function(e){uni.hideLoading(),0==e.code?(t.item.is_confirm=1,t.id=0,t.$emit("update",t.item)):uni.showToast({title:e.msg,icon:"none",duration:1e3})})}}};e.default=a},e654:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i("2f62"),n=o(i("984f"));function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,a)}return i}function r(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(i,!0).forEach(function(e){d(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):s(i).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function d(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var u={data:function(){return{middleman:{},setting:{},more_list:!1,page:1,list:[],keyword:"",apply_at:""}},components:{"app-order":n.default},computed:r({},(0,a.mapGetters)("mallConfig",{getTheme:"getTheme"}),{},(0,a.mapState)({stock:function(t){return t.mallConfig.__wxapp_img.stock},bonusImg:function(t){return t.mallConfig.__wxapp_img.bonus},userInfo:function(t){return t.user.info}})),onLoad:function(t){this.getStatus()},methods:{update:function(t){for(var e in this.list)this.list[e].id==t.id&&this.list.splice(e,1);this.$forceUpdate()},getStatus:function(){var t=this,e=this;e.$request({url:e.$api.community.index}).then(function(e){0==e.code?(t.setting=e.data.setting,e.data.middleman.id>0?(t.middleman=e.data.middleman,t.apply_at=t.middleman.apply_at.substring(0,10)):(uni.showToast({title:"您还不是团长，现在前往申请页面",icon:"none",duration:1e3}),setTimeout(function(){uni.redirectTo({url:"/plugins/community/apply/apply"})},1e3))):uni.showToast({title:e.msg,icon:"none",duration:1e3})}).catch(function(t){e.$hideLoading()})},getList:function(){var t=this;return t.keyword?!t.loading&&(t.loading=!0,void t.$request({url:t.$api.community.middle_list,data:{status:3,keyword:t.keyword,page:t.page}}).then(function(e){if(t.$hideLoading(),uni.hideLoading(),t.loading=!1,0==e.code){0==e.data.list.length&&uni.showToast({title:"未找到待提货订单",icon:"none",duration:1e3});var i=e.data.list;t.more_list=!1,i.length==e.data.pagination.pageSize&&(t.more_list=!0,t.page++),1==t.page?t.list=i:t.list=t.list.concat(i),t.$forceUpdate()}else uni.showToast({title:e.msg,icon:"none",duration:1e3})}).catch(function(e){t.loading=!1,t.$hideLoading(),uni.hideLoading()})):(uni.showToast({title:"请输入买家手机号",icon:"none",duration:1e3}),!1)}}};e.default=u},f59b:function(t,e,i){var a=i("ad0a");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("45f1626d",a,!0,{sourceMap:!1,shadowMode:!1})}}]);