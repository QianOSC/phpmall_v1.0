(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["plugins-mch-mch-goods-cat-goods-cat"],{"081f":function(i,t,a){"use strict";var e=a("e2c1"),n=a.n(e);n.a},"0bc8":function(i,t,a){"use strict";a.r(t);var e=a("70df"),n=a.n(e);for(var o in e)"default"!==o&&function(i){a.d(t,i,function(){return e[i]})}(o);t["default"]=n.a},"2bdf":function(i,t,a){"use strict";a.r(t);var e=a("7642"),n=a("0bc8");for(var o in n)"default"!==o&&function(i){a.d(t,i,function(){return n[i]})}(o);a("081f");var d=a("2877"),c=Object(d["a"])(n["default"],e["a"],e["b"],!1,null,"2faa75a2",null);t["default"]=c.exports},"70df":function(i,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={data:function(){return{type:"",iphone_x:!1,cat:[],sec_list:[],third_list:[],list:[],dialog:!1,mch_id:0,index_1:0,index_2:0,index_3:0}},methods:{cancel:function(){this.dialog=!1,this.sec_list=[],this.third_list=[],this.index_1=0,this.index_2=0,this.index_3=0},toAdd:function(){var i,t=this,a=this.cat[this.index_1],e=this.sec_list[this.index_2],n=this.third_list[this.index_3];if(i="未选择"==e.label?a:"未选择"==n.label?e:n,t.list.length>0){var o=!0,d=!1,c=void 0;try{for(var l,s=t.list[Symbol.iterator]();!(o=(l=s.next()).done);o=!0){var r=l.value;if(r.value==i.value)return uni.showToast({title:"请勿重复添加",icon:"none",duration:1e3}),!1}}catch(f){d=!0,c=f}finally{try{o||null==s.return||s.return()}finally{if(d)throw c}}}setTimeout(function(){t.list.push(i),t.dialog=!1,t.index_1=0,t.index_2=0,t.index_3=0})},getCat:function(){var i=this;i.$request({url:"mall"==i.type?i.$api.mch.cat:i.$api.mch.mch_cat,data:{mch_id:i.mch_id}}).then(function(t){i.$hideLoading(),0==t.code?i.cat=t.data.list:uni.showToast({title:t.msg,icon:"none",duration:1e3})}).catch(function(t){i.$hideLoading()})},delCat:function(i){this.list.splice(i,1)},bindChange:function(i){var t=this;i.detail.value[0]<0&&(i.detail.value[0]=0),t.index_1==i.detail.value[0]?t.index_2==i.detail.value[1]?t.index_3=i.detail.value[2]:(t.index_2=i.detail.value[1],t.index_3=0,t.third_list=[{label:"未选择",value:""}],t.sec_list[t.index_2].children&&(t.third_list=t.third_list.concat(t.sec_list[t.index_2].children))):(t.index_1=i.detail.value[0],t.index_2=0,t.index_3=0,t.sec_list=[{label:"未选择",value:""}],t.third_list=[{label:"未选择",value:""}],t.cat[t.index_1].children&&(t.sec_list=t.sec_list.concat(t.cat[t.index_1].children),t.sec_list[0].children&&(t.third_list=t.third_list.concat(t.sec_list[0].children))))},save:function(){"mall"==this.type?uni.setStorage({key:"mch_goods_cat",data:this.list}):uni.setStorage({key:"mch_goods_mch_cat",data:this.list}),setTimeout(function(){uni.navigateBack()},500)},add:function(){this.dialog=!0,this.sec_list=[{label:"未选择",value:""}],this.third_list=[{label:"未选择",value:""}],this.cat[0].children&&(this.sec_list=this.sec_list.concat(this.cat[0].children),this.sec_list[0].children&&(this.third_list=this.third_list.concat(this.sec_list[0].children)))}},onLoad:function(i){var t=this;t.$showLoading({type:"global",text:"加载中..."}),this.type=i.type,this.mch_id=i.mch_id,"mall"==this.type?uni.getStorage({key:"mch_goods_cat",success:function(i){t.list=i.data}}):uni.getStorage({key:"mch_goods_mch_cat",success:function(i){t.list=i.data}}),uni.getSystemInfo({success:function(i){(i.model.indexOf("iPhone X")>-1||i.model.indexOf("iPhone 11")>-1||i.model.indexOf("iPhone11")>-1||i.model.indexOf("iPhone12")>-1||i.model.indexOf("Unknown Device")>-1)&&(t.iphone_x=!0)}}),t.getCat()}};t.default=e},7642:function(i,t,a){"use strict";var e=function(){var i=this,t=i.$createElement,a=i._self._c||t;return a("v-uni-view",{staticStyle:{position:"absolute",width:"100%",height:"100%",top:"0",left:"0","background-color":"#fff"}},[a("app-layout",[0==i.list.length?a("v-uni-view",{staticClass:"title"},[i._v("暂无分类，请添加")]):i._e(),a("v-uni-view",{staticClass:"dir-left-wrap cat-list"},i._l(i.list,function(t,e){return a("v-uni-view",{key:t.value,staticClass:"cross-center dir-left-nowrap cat-item"},[a("v-uni-view",[i._v(i._s(t.label))]),a("v-uni-view",{staticClass:"close cross-center main-center",on:{click:function(t){t=i.$handleEvent(t),i.delCat(e)}}},[a("v-uni-image",{attrs:{src:"./../../image/cat-close.png"}})],1)],1)}),1),a("v-uni-view",{class:["add main-between",i.iphone_x?"iphone_x":""]},[a("v-uni-view",{staticClass:"add-btn",on:{click:function(t){t=i.$handleEvent(t),i.add(t)}}},[i._v("添加分类")]),a("v-uni-view",{staticClass:"save-btn",on:{click:function(t){t=i.$handleEvent(t),i.save(t)}}},[i._v("保存")])],1),i.dialog?a("v-uni-view",{staticClass:"dialog"},[a("v-uni-view",{staticClass:"picker-list"},[a("v-uni-view",{staticClass:"main-between picker-header"},[a("v-uni-view",{on:{click:function(t){t=i.$handleEvent(t),i.cancel(t)}}},[i._v("取消")]),a("v-uni-view",{on:{click:function(t){t=i.$handleEvent(t),i.toAdd(t)}}},[i._v("新增")])],1),a("v-uni-picker-view",{attrs:{"indicator-style":"height: 36px;"},on:{change:function(t){t=i.$handleEvent(t),i.bindChange(t)}}},[a("v-uni-picker-view-column",i._l(i.cat,function(t,e){return a("v-uni-view",{key:t.value,class:["picker-view",{"sure-color":i.index_1===e,"cardinal-color":i.index_1===e+1||i.index_1===e-1,"even-color":i.index_1===e+2||i.index_1===e-2}]},[i._v(i._s(t.label))])}),1),a("v-uni-picker-view-column",i._l(i.sec_list,function(t,e){return a("v-uni-view",{key:t.value,class:["picker-view",{"sure-color":i.index_2===e,"cardinal-color":i.index_2===e+1||i.index_2===e-1,"even-color":i.index_2===e+2||i.index_2===e-2}]},[i._v(i._s(t.label))])}),1),a("v-uni-picker-view-column",i._l(i.third_list,function(t,e){return a("v-uni-view",{key:t.value,class:["picker-view",{"sure-color":i.index_3===e,"cardinal-color":i.index_3===e+1||i.index_3===e-1,"even-color":i.index_3===e+2||i.index_3===e-2}]},[i._v(i._s(t.label))])}),1)],1)],1)],1):i._e()],1)],1)},n=[];a.d(t,"a",function(){return e}),a.d(t,"b",function(){return n})},bcea:function(i,t,a){t=i.exports=a("2350")(!1),t.push([i.i,".text-center[data-v-2faa75a2]{text-align:center}.font-weight[data-v-2faa75a2]{font-weight:700}.page-width[data-v-2faa75a2]{width:100%}.goods-hover-class[data-v-2faa75a2]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-2faa75a2]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}uni-page-body[data-v-2faa75a2]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-2faa75a2]{width:100%}.u-hover-class[data-v-2faa75a2]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-2faa75a2]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.cat-list[data-v-2faa75a2]{background-color:#fff;padding:%?30?%;padding-left:0}.cat-item[data-v-2faa75a2]{width:auto;border-radius:%?33?%;background-color:#ffecec;padding-left:%?30?%;height:%?66?%;line-height:%?66?%;color:#ff4544;margin-left:%?30?%;margin-bottom:%?30?%}.cat-item .close[data-v-2faa75a2]{width:%?60?%;height:%?66?%}.cat-item .close uni-image[data-v-2faa75a2]{width:%?16?%;height:%?16?%;display:block}.title[data-v-2faa75a2]{font-size:%?32?%;color:#999;padding-top:%?36?%;background-color:#fff;text-align:center}.add.iphone_x[data-v-2faa75a2]{height:%?170?%;padding-bottom:%?50?%}.add[data-v-2faa75a2]{height:%?120?%;padding:0 %?24?%;margin:0 auto;position:fixed;bottom:0;left:0;right:0;border-top:%?2?% solid #e2e2e2;background-color:#fff}.add .add-btn[data-v-2faa75a2]{background-color:#fff;color:#ff4544;border:%?2?% solid #ff4544}.add>uni-view[data-v-2faa75a2]{height:%?80?%;width:%?300?%;margin-top:%?20?%;border-radius:%?40?%;background-color:#ff4544;color:#fff;font-size:%?28?%;text-align:center;line-height:%?80?%}.dialog[data-v-2faa75a2]{position:fixed;height:100%;width:100%;bottom:0;left:0;z-index:9999;background-color:rgba(0,0,0,.3)}.dialog.iphone_x .picker-list[data-v-2faa75a2]{padding-bottom:%?50?%}.picker[data-v-2faa75a2]{width:100%;height:%?440?%;color:#999}.dialog.iphone_x .picker[data-v-2faa75a2]{height:%?490?%}.picker-list[data-v-2faa75a2]{background-color:#fff;padding-top:%?20?%;position:fixed;bottom:0;left:0;width:100%;z-index:9999;height:%?520?%;border-top-left-radius:%?10?%;border-top-right-radius:%?10?%}.picker-header[data-v-2faa75a2]{padding:0 %?24?%;color:#ff4544;font-size:%?32?%}.dialog[data-v-2faa75a2]{position:fixed;height:100%;width:100%;bottom:0;left:0;z-index:9999;background-color:rgba(0,0,0,.3)}.picker-view[data-v-2faa75a2]{line-height:%?72?%;text-align:center;font-size:%?32?%}.picker-view.sure-color[data-v-2faa75a2]{color:#ff4544}.picker-view.cardinal-color[data-v-2faa75a2]{color:#999}.picker-view.even-color[data-v-2faa75a2]{color:#cdcdcd}uni-picker-view[data-v-2faa75a2]{width:100%;height:%?440?%}body.?%PAGE?%[data-v-2faa75a2]{background:#f7f7f7}",""])},e2c1:function(i,t,a){var e=a("bcea");"string"===typeof e&&(e=[[i.i,e,""]]),e.locals&&(i.exports=e.locals);var n=a("4f06").default;n("2b228ff2",e,!0,{sourceMap:!1,shadowMode:!1})}}]);