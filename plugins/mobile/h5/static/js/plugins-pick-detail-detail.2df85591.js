(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["plugins-pick-detail-detail"],{"2e8a":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".text-center[data-v-513e18e4]{text-align:center}.font-weight[data-v-513e18e4]{font-weight:700}.page-width[data-v-513e18e4]{width:100%}.goods-hover-class[data-v-513e18e4]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-513e18e4]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}uni-page-body[data-v-513e18e4]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-513e18e4]{width:100%}.u-hover-class[data-v-513e18e4]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-513e18e4]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.goods-name[data-v-513e18e4]{padding:%?24?% %?24?% 0 %?24?%;background-color:#fff;color:#353535;font-size:%?28?%;line-height:%?38?%}.goods-subtitle[data-v-513e18e4]{padding:%?24?%;font-size:%?24?%;background-color:#fff;color:#999}.price[data-v-513e18e4]{padding-top:%?24?%;background-color:#fff}.button[data-v-513e18e4]{width:50%;height:100%}.bd-bottom[data-v-513e18e4]{width:%?750?%;height:%?110?%;padding:%?20?% %?24?%}.bd-back[data-v-513e18e4]{width:%?66?%;height:100%;margin-right:%?20?%}.bd-icon[data-v-513e18e4]{width:%?30?%;height:%?30?%}.bd-text[data-v-513e18e4]{font-size:%?20?%;color:#888}.bd-btn[data-v-513e18e4]{text-align:center;line-height:%?70?%;font-size:%?28?%;border-radius:%?35?%}.bd-btn-color[data-v-513e18e4]{color:#fff}.bd-oversell-btn[data-v-513e18e4]{background-color:#cdcdcd}.bd-btn-half[data-v-513e18e4]{width:50%}.bd-btn-left[data-v-513e18e4]{border-top-right-radius:0;border-bottom-right-radius:0}.bd-btn-right[data-v-513e18e4]{border-top-left-radius:0;border-bottom-left-radius:0}.bd-btn-over[data-v-513e18e4]{background-color:#999}.app-bottom[data-v-513e18e4]{width:100%;height:%?110?%;font-size:%?28?%;background-color:#fff}.little[data-v-513e18e4]{width:%?110?%;height:100%;background-color:#fff;font-size:%?20?%;color:#999}.little[data-v-513e18e4]:first-child{border-right:%?1?% solid #e2e2e2}.little uni-image[data-v-513e18e4]{width:%?40?%;height:%?40?%;display:block;margin-bottom:%?10?%}.rule[data-v-513e18e4]{width:%?702?%;height:%?66?%;margin:0 %?24?%;background-color:#fff}.rule .content[data-v-513e18e4]{width:%?702?%;background-color:#fff0f0;height:%?66?%;padding:0 %?24?%}.rule .tag[data-v-513e18e4]{border-radius:%?13?%;font-size:%?19?%;line-height:%?29?%;background-color:#ff4544;color:#fff;padding:%?1?% %?10?%}.rule .activity-price[data-v-513e18e4]{font-size:%?23?%;margin-left:%?17?%}.rule .go>uni-view[data-v-513e18e4]{font-size:%?23?%;color:#999}.rule .go>uni-image[data-v-513e18e4]{width:%?12?%;height:%?22?%;margin-left:%?14?%}.text[data-v-513e18e4]{color:#fff}.u-bottom-fixed[data-v-513e18e4]{position:fixed;bottom:0;left:0;width:100%;z-index:1602;background-color:#fff}.u-bottom-height[data-v-513e18e4]{height:%?110?%}body.?%PAGE?%[data-v-513e18e4]{background:#f7f7f7}",""])},4950:function(t,e,i){var o=i("2e8a");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var a=i("4f06").default;a("687c6da7",o,!0,{sourceMap:!1,shadowMode:!1})},"4ab7":function(t,e,i){"use strict";i.r(e);var o=i("4b61"),a=i("b4d6");for(var n in a)"default"!==n&&function(t){i.d(e,t,function(){return a[t]})}(n);i("7ac4");var s=i("2877"),r=Object(s["a"])(a["default"],o["a"],o["b"],!1,null,"513e18e4",null);e["default"]=r.exports},"4b61":function(t,e,i){"use strict";var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-layout",[t.goods?t._e():i("v-uni-view",{staticClass:"u-goods-detail"}),t.goods?[i("app-goods-banner",{attrs:{"pic-list":t.goods.pic_url,share:t.goods.share,"video-url":t.goods.video_url,goods_id:t.goods.id,isCart:!1,sign:"pick"}}),i("bd-info",{attrs:{theme:t.themeObject,name:t.goods.name,"is-negotiable":t.goods.is_negotiable,subtitle:t.goods.subtitle,"level-show":t.goods.level_show,"flash-sale":t.flash_sale,price:t.goods.price,"original-price":t.goods.original_price,"price-max":t.goods.price_max,"price-min":t.goods.price_min,"price-member-max":t.goods.price_member_max,"price-member-min":t.goods.price_member_min,discount:t.discount,"is-vip-card-user":t.is_vip_card_user,sales:t.goods.sales,unit:t.goods.unit,"is-sales":t.goods.is_sales,"is-vip":t.isVip,"goods-id":t.goods.id,"extra-quick-share":t.goods.extra_quick_share,"app-share-pic":t.goods.app_share_pic,"app-share-title":t.goods.app_share_title,"poster-config":t.poster_config+"&goods_id="+t.goods.id,"poster-generate":t.poster_generate+"&goods_id="+t.goods.id,"has-poster-nav":!0,"is-show-member":!1,goods:t.goods},on:{quickShare:function(e){e=t.$handleEvent(e),t.quickShare(e)},share:function(e){e=t.$handleEvent(e),t.hShareAppMessage(e)}}}),i("bd-coupon",{attrs:{theme:t.themeObject,coupons:t.goods.goods_coupon_center},on:{change:function(e){e=t.$handleEvent(e),t.setCoupon(e)}}}),i("bd-xbc",{attrs:{coAttr:t.is_open,"attr-list":t.selectAttr.attr_list,type:t.goods.type,"guarantee-title":t.goods.guarantee_title,"guarantee-pic":t.goods.guarantee_pic,param_content:t.goods.param_content,param_name:t.goods.param_name,services:t.goods.services,"attr-groups":t.goods.attr_groups},on:{openAttr:function(e){e=t.$handleEvent(e),t.clickAttr(1)}}}),i("v-uni-view",{staticClass:"rule"},[i("v-uni-view",{staticClass:"content dir-left-nowrap main-between",on:{click:function(e){e=t.$handleEvent(e),t.goBack(e)}}},[i("v-uni-view",{staticClass:"dir-left-nowrap cross-center"},[i("v-uni-view",{staticClass:"tag"},[t._v("N元任选")]),i("v-uni-view",{staticClass:"activity-price"},[t._v(t._s(t.activity.rule_price)+"元选"+t._s(t.activity.rule_num)+"件")])],1),i("v-uni-view",{staticClass:"dir-left-nowrap go cross-center"},[i("v-uni-view",[t._v("去凑单")]),i("v-uni-image",{attrs:{src:"/static/image/icon/arrow-right.png"}})],1)],1)],1),i("bd-hc",{attrs:{integral:t.goods.goods_marketing_award.integral,coupon:t.goods.goods_marketing_award.coupon,card:t.goods.goods_marketing_award.card,balance:t.goods.goods_marketing_award.balance,theme:t.themeObject}}),i("bd-kb",{attrs:{limit:t.goods.goods_marketing.limit,express:t.goods.express,shipping:t.goods.goods_marketing.shipping,pickup:t.goods.goods_marketing.pickup}}),i("bd-comments",{attrs:{"goods-id":t.goods.id}}),i("bd-detail",{attrs:{detail:t.goods.detail}}),i("v-uni-view",{staticClass:"recommend"},[i("app-goods-recommend",{attrs:{detail:t.activity,theme:t.getTheme,sign:"pick",is_show_member:!1,sureCart:!1,"goods-list":t.recommend_list,activity:t.activity}})],1),i("v-uni-view",{staticClass:"safe-area-inset-bottom"},[i("v-uni-view",{staticClass:"u-bottom-height"})],1),1==t.is_open?i("v-uni-view",{staticClass:"safe-area-inset-bottom u-bottom-fixed"},[i("v-uni-view",{staticClass:"bd-bottom dir-left-nowrap cross-center"},[i("v-uni-view",{staticClass:"bd-back dir-top-nowrap main-center cross-center box-grow-0",on:{click:function(e){e=t.$handleEvent(e),t.back(e)}}},[i("v-uni-image",{staticClass:"bd-icon",attrs:{src:"/static/image/icon/index.png"}}),i("v-uni-text",{staticClass:"bd-text"},[t._v("首页")])],1),i("bd-service"),i("v-uni-view",{staticClass:"bd-back dir-top-nowrap main-center cross-center box-grow-0",on:{click:function(e){e=t.$handleEvent(e),t.favorite(e)}}},[i("v-uni-image",{staticClass:"bd-icon",attrs:{src:t.goods.favorite?"/static/image/icon/icon-favorite-active.png":"/static/image/icon/icon-favorite.png"}}),i("v-uni-text",{staticClass:"bd-text"},[t._v("收藏")])],1),0===t.goods.goods_num?i("v-uni-view",{staticClass:"box-grow-1 bd-btn bd-oversell-btn bd-btn-color"},[t._v("已售罄")]):[1===t.activity_status?i("v-uni-view",{staticClass:"box-grow-1 dir-left-nowrap"},[i("v-uni-view",{staticClass:"bd-btn-half bd-btn bd-btn-left",class:"b"===t.getTheme||"a"===t.getTheme||"f"===t.getTheme?t.themeObject.sBtn+" text ":t.themeObject.sBtn+" "+t.themeObject.color,on:{click:function(e){e=t.$handleEvent(e),t.clickAttr(1)}}},[t._v("加入凑单池")]),i("v-uni-view",{staticClass:"bd-btn-half bd-btn bd-btn-color bd-btn-right",class:t.themeObject.mBtn,on:{click:function(e){e=t.$handleEvent(e),t.clickAttr(e)}}},[t._v("返回凑单池")])],1):i("v-uni-view",{staticClass:"box-grow-1 bd-btn  bd-btn-color bd-btn-over"},[t._v("活动已结束")])]],2)],1):t._e(),i("u-attr",{attrs:{goods:t.goods,themeObject:t.themeObject,checked:t.selectAttr,is_show_left:!1,rightFunc:!0,rightText:"加入凑单池"},on:{check:function(e){e=t.$handleEvent(e),t.onAttr(e)},rightFunc:function(e){e=t.$handleEvent(e),t.add(e)}},model:{value:t.attrShow,callback:function(e){t.attrShow=e},expression:"attrShow"}}),i("app-quick-navigation")]:t._e(),t.showClose?i("app-close",{attrs:{modal:!1},on:{update:function(e){e=t.$handleEvent(e),t.getMall(e)}}}):t._e()],2)},a=[];i.d(e,"a",function(){return o}),i.d(e,"b",function(){return a})},5856:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=m(i("a34a")),a=i("2f62"),n=m(i("4d92")),s=m(i("12b6")),r=m(i("8e97")),d=m(i("b4bc")),c=m(i("0e01")),u=m(i("11b2")),l=m(i("8639")),g=m(i("4c29")),p=m(i("de37")),h=m(i("3e70")),f=m(i("94701")),v=m(i("f0dd")),b=m(i("861b"));function m(t){return t&&t.__esModule?t:{default:t}}function _(t,e,i,o,a,n,s){try{var r=t[n](s),d=r.value}catch(c){return void i(c)}r.done?e(d):Promise.resolve(d).then(o,a)}function w(t){return function(){var e=this,i=arguments;return new Promise(function(o,a){var n=t.apply(e,i);function s(t){_(n,o,a,s,r,"next",t)}function r(t){_(n,o,a,s,r,"throw",t)}s(void 0)})}}function k(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,o)}return i}function y(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?k(i,!0).forEach(function(e){x(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):k(i).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function x(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var C={name:"detail",data:function(){return{showClose:!1,is_open:0,goods:null,attrShow:0,selectAttr:{},isVip:!1,discount:null,is_vip_card_user:0,shareData:{},recommend_list:[],activity:{},shareUrl:"",activity_status:1,poster_config:this.$api.pick.poster_config,poster_generate:this.$api.pick.poster_generate,flash_sale:null}},computed:y({},(0,a.mapGetters)("mallConfig",{getTheme:"getTheme"}),{},(0,a.mapState)({themeObject:function(t){var e=t.mallConfig.mall.setting.theme_color;return{back:e+"-m-back "+e,backP:e+"-m-back-p "+e,backO:e+"-m-back-o "+e,theme:e,color:e+"-m-text "+e,sBack:e+"-s-back "+e,border:e+"-m-border "+e,mBtn:e+"-m-gradient-btn "+e,sBtn:e+"-s-gradient-btn "+e}}})),onShareAppMessage:function(){return this.$shareAppMessage({title:this.goods.app_share_title?this.goods.app_share_title:this.goods.name,imageUrl:this.goods.app_share_pic?this.goods.app_share_pic:"",path:"/plugins/pick/detail",params:{id:this.goods.id}})},components:{"app-quick-navigation":n.default,appGoodsBanner:s.default,"app-goods-recommend":r.default,uAttr:d.default,bdInfo:c.default,bdCoupon:u.default,bdXbc:l.default,bdKb:g.default,bdHc:p.default,bdDetail:h.default,bdComments:f.default,appClose:v.default,bdService:b.default},methods:{hShareAppMessage:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.$shareAppMessage({title:"",imageUrl:"",path:"/plugins/pick/detail/detail",params:{goods_id:this.goods.id}},t)},getMall:function(t){this.is_open=t.is_open},getDetail:function(){var t=w(o.default.mark(function t(e){var i,a,n,s;return o.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$request({url:this.$api.pick.goods,method:"get",data:{id:e}});case 2:i=t.sent,0===i.code?(a=i.data.detail,n=a.vip_card_appoint,s=a.plugin_extra,this.goods=i.data.detail,this.flash_sale=s.flash_sale,this.activity=i.data.activity,this.recommend_list=i.data.list,this.shareUrl="".concat(this.$api.pick.poster,"&goods_id=").concat(this.goods.id),this.activity_status=i.data.activity_status,(n.discount||"0.00"===n.discount)&&(this.isVip=!0,this.discount=n.discount),this.is_vip_card_user=n.is_vip_card_user,this.hShareAppMessage()):uni.showToast({title:i.msg,icon:"none"});case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),setCoupon:function(t){this.$set(this.goods.goods_coupon_center[t],"is_receive",1)},onAttr:function(t){var e=t.item;this.selectAttr=e},quickShare:function(t){this.shareData=t},clickAttr:function(t){1===this.activity_status&&(1===t?this.attrShow=!0:uni.navigateTo({url:"/plugins/pick/pond/pond?rule_num=".concat(this.activity.rule_num,"&pick_activity_id=").concat(this.activity.id)}))},add:function(){var t=w(o.default.mark(function t(e){var i,a;return o.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return i=e.goods_list[0],t.next=3,this.$request({url:this.$api.pick.add,data:{goods_id:i.id,attr:i.goods_attr_id,num:i.num,pick_activity_id:this.activity.id}});case 3:a=t.sent,0===a.code&&uni.navigateBack();case 5:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),back:function(){uni.navigateTo({url:"/pages/index/index"})},goBack:function(){uni.navigateTo({url:"/plugins/pick/index/index"})},favorite:function(){var t=this.$api.user.favorite_add,e=!0;this.goods.favorite&&(t=this.$api.user.favorite_remove,e=!1),this.goods.favorite=e,this.$request({url:t,data:{goods_id:this.goods.id}}).then(function(t){0===t.code||uni.showModal({title:"提示",content:t.msg,showCancel:!1})}).catch(function(){})}},onShow:function(){var t=this;this.showClose=!1,setTimeout(function(){t.showClose=!0})},onLoad:function(t){this.getDetail(t.goods_id)}};e.default=C},"7ac4":function(t,e,i){"use strict";var o=i("4950"),a=i.n(o);a.a},b4d6:function(t,e,i){"use strict";i.r(e);var o=i("5856"),a=i.n(o);for(var n in o)"default"!==n&&function(t){i.d(e,t,function(){return o[t]})}(n);e["default"]=a.a}}]);