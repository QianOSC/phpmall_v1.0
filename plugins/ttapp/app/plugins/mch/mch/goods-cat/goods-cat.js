(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["plugins/mch/mch/goods-cat/goods-cat"],{"0bc8":function(t,i,e){"use strict";e.r(i);var n=e("6252"),a=e.n(n);for(var l in n)"default"!==l&&function(t){e.d(i,t,function(){return n[t]})}(l);i["default"]=a.a},"2bdf":function(t,i,e){"use strict";e.r(i);var n=e("a76a"),a=e("0bc8");for(var l in a)"default"!==l&&function(t){e.d(i,t,function(){return a[t]})}(l);e("4a1b");var s=e("2877"),c=Object(s["a"])(a["default"],n["a"],n["b"],!1,null,"d01a634e",null);i["default"]=c.exports},"4a1b":function(t,i,e){"use strict";var n=e("c8c2"),a=e.n(n);a.a},6252:function(t,i,e){"use strict";(function(t){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e={data:function(){return{type:"",iphone_x:!1,cat:[],sec_list:[],third_list:[],list:[],dialog:!1,mch_id:0,index_1:0,index_2:0,index_3:0}},methods:{cancel:function(){this.dialog=!1,this.sec_list=[],this.third_list=[],this.index_1=0,this.index_2=0,this.index_3=0},toAdd:function(){var i,e=this,n=this.cat[this.index_1],a=this.sec_list[this.index_2],l=this.third_list[this.index_3];if(i="未选择"==a.label?n:"未选择"==l.label?a:l,e.list.length>0){var s=!0,c=!1,d=void 0;try{for(var o,h=e.list[Symbol.iterator]();!(s=(o=h.next()).done);s=!0){var u=o.value;if(u.value==i.value)return t.showToast({title:"请勿重复添加",icon:"none",duration:1e3}),!1}}catch(r){c=!0,d=r}finally{try{s||null==h.return||h.return()}finally{if(c)throw d}}}setTimeout(function(){e.list.push(i),e.dialog=!1,e.index_1=0,e.index_2=0,e.index_3=0})},getCat:function(){var i=this;i.$request({url:"mall"==i.type?i.$api.mch.cat:i.$api.mch.mch_cat,data:{mch_id:i.mch_id}}).then(function(e){i.$hideLoading(),0==e.code?i.cat=e.data.list:t.showToast({title:e.msg,icon:"none",duration:1e3})}).catch(function(t){i.$hideLoading()})},delCat:function(t){this.list.splice(t,1)},bindChange:function(t){var i=this;t.detail.value[0]<0&&(t.detail.value[0]=0),i.index_1==t.detail.value[0]?i.index_2==t.detail.value[1]?i.index_3=t.detail.value[2]:(i.index_2=t.detail.value[1],i.index_3=0,i.third_list=[{label:"未选择",value:""}],i.sec_list[i.index_2].children&&(i.third_list=i.third_list.concat(i.sec_list[i.index_2].children))):(i.index_1=t.detail.value[0],i.index_2=0,i.index_3=0,i.sec_list=[{label:"未选择",value:""}],i.third_list=[{label:"未选择",value:""}],i.cat[i.index_1].children&&(i.sec_list=i.sec_list.concat(i.cat[i.index_1].children),i.sec_list[0].children&&(i.third_list=i.third_list.concat(i.sec_list[0].children))))},save:function(){"mall"==this.type?t.setStorage({key:"mch_goods_cat",data:this.list}):t.setStorage({key:"mch_goods_mch_cat",data:this.list}),setTimeout(function(){t.navigateBack()},500)},add:function(){this.dialog=!0,this.sec_list=[{label:"未选择",value:""}],this.third_list=[{label:"未选择",value:""}],this.cat[0].children&&(this.sec_list=this.sec_list.concat(this.cat[0].children),this.sec_list[0].children&&(this.third_list=this.third_list.concat(this.sec_list[0].children)))}},onLoad:function(i){var e=this;e.$showLoading({type:"global",text:"加载中..."}),this.type=i.type,this.mch_id=i.mch_id,"mall"==this.type?t.getStorage({key:"mch_goods_cat",success:function(t){e.list=t.data}}):t.getStorage({key:"mch_goods_mch_cat",success:function(t){e.list=t.data}}),t.getSystemInfo({success:function(t){(t.model.indexOf("iPhone X")>-1||t.model.indexOf("iPhone 11")>-1||t.model.indexOf("iPhone11")>-1||t.model.indexOf("iPhone12")>-1||t.model.indexOf("Unknown Device")>-1)&&(e.iphone_x=!0)}}),e.getCat()}};i.default=e}).call(this,e("f266")["default"])},a76a:function(t,i,e){"use strict";var n=function(){var t=this,i=t.$createElement;t._self._c},a=[];e.d(i,"a",function(){return n}),e.d(i,"b",function(){return a})},c8c2:function(t,i,e){}},[["3366","common/runtime","common/vendor"]]]);