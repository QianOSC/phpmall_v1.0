(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["plugins/step/goods/goods"],{"0803":function(e,n,t){"use strict";var o=t("9c4b"),r=t.n(o);r.a},"45bd":function(e,n,t){"use strict";var o=function(){var e=this,n=e.$createElement;e._self._c},r=[];t.d(n,"a",function(){return o}),t.d(n,"b",function(){return r})},"9ae9":function(e,n,t){"use strict";t.r(n);var o=t("a484"),r=t.n(o);for(var i in o)"default"!==i&&function(e){t.d(n,e,function(){return o[e]})}(i);n["default"]=r.a},"9c4b":function(e,n,t){},a484:function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=t("2f62");function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,o)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(t,!0).forEach(function(n){s(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function s(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var c=function(){return t.e("components/page-component/goods/app-goods-banner").then(t.bind(null,"12b6"))},a=function(){return t.e("components/page-component/app-share-qr-code-poster/app-share-qr-code-poster").then(t.bind(null,"409e"))},u=function(){return t.e("components/page-component/goods/u-attr").then(t.bind(null,"b4bc"))},p=function(){return Promise.all([t.e("common/vendor"),t.e("components/page-component/goods/bd-coupon")]).then(t.bind(null,"11b2"))},d=function(){return t.e("components/page-component/goods/bd-xbc").then(t.bind(null,"8639"))},l=function(){return t.e("components/page-component/goods/bd-detail").then(t.bind(null,"3e70"))},f=function(){return t.e("components/page-component/goods/bd-kb").then(t.bind(null,"4c29"))},b=function(){return t.e("components/page-component/goods/bd-hc").then(t.bind(null,"de37"))},h=function(){return t.e("components/basic-component/app-close/app-close").then(t.bind(null,"f0dd"))},g=function(){return t.e("components/page-component/goods/bd-service").then(t.bind(null,"861b"))},m={name:"goods",components:{appGoodsBanner:c,appShareQrCode:a,uAttr:u,bdCoupon:p,bdXbc:d,bdDetail:l,bdHc:b,bdKb:f,appClose:h,bdService:g},data:function(){return{showClose:!1,is_open:0,goods:null,selectAttr:null,shareShow:!1,shareUrl:null,attrShow:!1,poster_config:this.$api.step.poster_config,poster_generate:this.$api.step.poster_generate}},computed:i({},(0,o.mapState)({mall:function(e){return e.mallConfig.mall},themeObject:function(e){var n=e.mallConfig.mall.setting.theme_color;return{back:n+"-m-back "+n,backP:n+"-m-back-p "+n,backO:n+"-m-back-o "+n,theme:n,color:n+"-m-text "+n,sBack:n+"-s-back "+n,border:n+"-m-border "+n,mBtn:n+"-m-gradient-btn "+n,sBtn:n+"-s-gradient-btn "+n}}}),{},(0,o.mapGetters)("mallConfig",{getTheme:"getTheme"})),onShow:function(){var e=this;this.showClose=!1,setTimeout(function(){e.showClose=!0})},onLoad:function(e){this.loadData(e.goods_id)},onShareAppMessage:function(){var e=this.goods,n=e.app_share_title,t=e.name,o=e.app_share_pic,r=e.cover_pic,i=e.id;return this.$shareAppMessage({title:n||t,imageUrl:o||r,path:"/plugins/step/goods/goods",params:{goods_id:i}})},methods:{getMall:function(e){this.is_open=e.is_open},loadData:function(n){var t=this;this.$showLoading(),this.$request({url:this.$api.step.goods_detail,data:{id:n}}).then(function(o){t.$hideLoading(),0===o.code?(t.goods=o.data.detail,t.shareUrl=t.$api.step.goods_poster+"&goods_id="+n,t.goods.id=n):e.showToast({title:o.msg,icon:"none"})}).catch(function(){t.$hideLoading()})},onAttr:function(e){this.selectAttr=e},shareClick:function(){this.shareShow=!0},back:function(){e.redirectTo({url:"/pages/index/index"})},clickAttr:function(){this.attrShow=!0},setCoupon:function(e){this.$set(this.goods.goods_coupon_center[e],"is_receive",1)},rightFunc:function(n){e.navigateTo({url:"/pages/order-submit/order-submit?mch_list=".concat(JSON.stringify([n]),"&preview_url=").concat(encodeURIComponent(this.$api.step.order_preview),"&submit_url=").concat(encodeURIComponent(this.$api.step.order_submit))})}}};n.default=m}).call(this,t("f266")["default"])},ae51:function(e,n,t){"use strict";t.r(n);var o=t("45bd"),r=t("9ae9");for(var i in r)"default"!==i&&function(e){t.d(n,e,function(){return r[e]})}(i);t("0803");var s=t("2877"),c=Object(s["a"])(r["default"],o["a"],o["b"],!1,null,"54c4215c",null);n["default"]=c.exports},ae58:function(e,n){e.exports=require("../siteinfo.js")}},[["971f","common/runtime","common/vendor"]]]);