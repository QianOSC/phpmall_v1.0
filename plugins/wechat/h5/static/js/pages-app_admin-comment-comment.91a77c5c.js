(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-app_admin-comment-comment"],{"102a":function(t,i,e){var a=e("8ebb");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=e("4f06").default;o("799b8ad8",a,!0,{sourceMap:!1,shadowMode:!1})},"430c":function(t,i,e){"use strict";e.r(i);var a=e("d1a3"),o=e.n(a);for(var n in a)"default"!==n&&function(t){e.d(i,t,function(){return a[t]})}(n);i["default"]=o.a},6385:function(t,i,e){"use strict";var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("app-layout",[e("v-uni-view",{staticClass:"comment"},[e("v-uni-view",{staticClass:"navigator dir-left-nowrap"},[e("v-uni-view",{on:{click:function(i){i=t.$handleEvent(i),t.setActiveNav(3)}}},[e("v-uni-text",{class:{"active-nav":3===t.score}},[t._v("好评")])],1),e("v-uni-view",{on:{click:function(i){i=t.$handleEvent(i),t.setActiveNav(2)}}},[e("v-uni-text",{class:{"active-nav":2===t.score}},[t._v("中评")])],1),e("v-uni-view",{on:{click:function(i){i=t.$handleEvent(i),t.setActiveNav(1)}}},[e("v-uni-text",{class:{"active-nav":1===t.score}},[t._v("差评")])],1)],1),e("v-uni-view",{staticClass:"replyStatus dir-left-nowrap main-center cross-center"},[e("v-uni-view",{class:{"active-reply":2===t.is_reply},on:{click:function(i){i=t.$handleEvent(i),t.setActiveReply(2)}}},[t._v("未回复")]),e("v-uni-view",{class:{"active-reply":1===t.is_reply},on:{click:function(i){i=t.$handleEvent(i),t.setActiveReply(1)}}},[t._v("已回复")])],1),0===t.list.length?e("v-uni-view",{staticClass:"tip"},[e("v-uni-image",{attrs:{src:"https://v4test.zjhejiang.com/web/statics/img/app/app_admin/no-comment.png"}}),e("v-uni-view",[t._v("没有任何评论哦~")])],1):t._e(),e("v-uni-view",{staticClass:"content"},t._l(t.list,function(i,a){return e("v-uni-view",{key:a,staticClass:"item dir-top-nowrap",class:{"is-top-box-bg":1===i.is_top}},[e("v-uni-view",{staticClass:"top dir-left-nowrap"},[e("v-uni-image",{staticClass:"image",attrs:{src:i.cover_pic,"lazy-load":""}}),e("v-uni-view",{staticClass:"text",class:{"is-top-center-bg":1===i.is_top}},[e("v-uni-view",{staticClass:"name"},[t._v(t._s(i.name))]),e("v-uni-view",{staticClass:"from"},[t._v("来自用户 "+t._s(i.nickname))])],1)],1),e("v-uni-view",{staticClass:"bottom dir-left-nowrap main-between"},[e("v-uni-view",{staticClass:"performed dir-left-nowrap cross-center"},[e("v-uni-image",{staticClass:"icon",attrs:{src:3===i.score?"../image/praise.png":2===i.score?"../image/average.png":"../image/bad-review.png"}}),e("v-uni-view",{staticClass:"evaluation"},[t._v(t._s(3===i.score?"好评":2===i.score?"中评":1===i.score?"差评":""))]),t._e()],1),e("v-uni-view",{staticClass:"button dir-left-nowrap"},[e("v-uni-view",{staticClass:"reply",on:{click:function(e){e=t.$handleEvent(e),t.isTop(i,a)}}},[t._v(t._s(1===i.is_top?"取消置顶":"置顶"))]),e("v-uni-view",{staticClass:"show-button",staticStyle:{"margin-left":"16rpx"},on:{click:function(e){e=t.$handleEvent(e),t.isShow(i)}}},[t._v(t._s(1===i.is_show?"隐藏评论":"取消隐藏"))]),e("app-jump-button",{attrs:{form:"",url:"/pages/app_admin/comment-detail/comment-detail?id="+i.id}},[e("v-uni-view",{staticClass:"reply"},[t._v(t._s(""===i.reply_content?"回复":"修改回复"))])],1)],1)],1)],1)}),1)],1)],1)},o=[];e.d(i,"a",function(){return a}),e.d(i,"b",function(){return o})},"8ebb":function(t,i,e){i=t.exports=e("2350")(!1),i.push([t.i,".text-center[data-v-315602ac]{text-align:center}.font-weight[data-v-315602ac]{font-weight:700}.page-width[data-v-315602ac]{width:100%}.goods-hover-class[data-v-315602ac]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-315602ac]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}uni-page-body[data-v-315602ac]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-315602ac]{width:100%}.u-hover-class[data-v-315602ac]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-315602ac]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.comment[data-v-315602ac]{background-color:#f7f7f7}.navigator[data-v-315602ac]{width:%?750?%;height:%?100?%;background-color:#fff;border-bottom:%?1?% solid #e2e2e2;position:fixed;top:var(--window-top);left:0;z-index:1000}.navigator>uni-view[data-v-315602ac]{width:%?250?%;height:%?100?%;text-align:center}.navigator>uni-view>uni-text[data-v-315602ac]{display:inline-block;height:%?100?%;line-height:%?98?%;font-size:%?28?%;border-bottom-style:solid;border-bottom-width:%?2?%;border-bottom-color:rgba(0,0,0,0)}.navigator>uni-view .active-nav[data-v-315602ac]{color:#446dfd;border-bottom-color:#446dfd}.replyStatus[data-v-315602ac]{margin-top:%?124?%;width:%?750?%;height:%?56?%;background-color:#f7f7f7}.replyStatus[data-v-315602ac] :first-child{border-top-left-radius:%?28?%;border-bottom-left-radius:%?28?%}.replyStatus[data-v-315602ac] :last-child{border-top-right-radius:%?28?%;border-bottom-right-radius:%?28?%}.replyStatus>uni-view[data-v-315602ac]{width:%?160?%;height:%?56?%;line-height:%?56?%;font-size:%?24?%;text-align:center;background-color:#fff;border:%?1?% solid #446dfd}.replyStatus .active-reply[data-v-315602ac]{background-color:#446dfd;color:#fff}.tip[data-v-315602ac]{position:fixed;top:calc(%?300?% + var(--window-top));left:0;right:0;margin:0 auto;color:#666;font-size:%?24?%;width:%?240?%;text-align:center}.tip>uni-image[data-v-315602ac]{height:%?240?%;width:%?240?%;margin-bottom:%?20?%}.content[data-v-315602ac]{width:%?750?%;padding:%?24?%;-webkit-box-sizing:border-box;box-sizing:border-box}.content .item[data-v-315602ac]{background-color:#fff;width:%?702?%;-webkit-box-sizing:border-box;box-sizing:border-box;padding:%?24?%;margin-bottom:%?24?%;border-radius:%?16?%}.content .item .top .image[data-v-315602ac]{width:%?144?%;height:%?144?%;border-top-left-radius:%?8?%;border-bottom-left-radius:%?8?%}.content .item .top .text[data-v-315602ac]{width:%?510?%;height:%?144?%;padding:%?20?% %?24?% %?20?% %?20?%;-webkit-box-sizing:border-box;box-sizing:border-box;border-top-right-radius:%?8?%;border-bottom-right-radius:%?8?%}.content .item .top .text .name[data-v-315602ac]{width:%?466?%;height:%?57?%;line-height:%?28?%;font-size:%?24?%;color:#353535;word-break:break-all;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden}.content .item .top .text .from[data-v-315602ac]{width:%?466?%;font-size:%?24?%;color:#999;margin-top:%?24?%}.content .item .bottom[data-v-315602ac]{padding-top:%?20?%;-webkit-box-sizing:border-box;box-sizing:border-box;height:%?80?%}.content .item .bottom .performed[data-v-315602ac]{margin-top:%?6?%;height:%?48?%}.content .item .bottom .performed .icon[data-v-315602ac]{width:%?48?%;height:%?48?%}.content .item .bottom .performed .evaluation[data-v-315602ac]{width:%?50?%;color:#353535;font-size:%?22?%;margin-left:%?16?%}.content .item .bottom .performed .show[data-v-315602ac]{width:%?88?%;height:%?36?%;line-height:%?36?%;border-radius:%?18?%;background-color:#ff9000;font-size:%?22?%;color:#fff;text-align:center;margin-left:%?16?%}.content .item .bottom .button[data-v-315602ac]{height:%?60?%}.content .item .bottom .button .show-button[data-v-315602ac],.content .item .bottom .button uni-view.reply[data-v-315602ac]{display:inline-block;height:%?60?%;line-height:%?60?%;padding:0 %?20?%;min-width:%?120?%;border-style:solid;border-width:%?1?%;border-radius:%?30?%;font-size:%?28?%;text-align:center;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}.content .item .bottom .button .show-button[data-v-315602ac]{border-color:#bbb;color:#353535}.content .item .bottom .button .reply[data-v-315602ac]{border-color:#446dfd;color:#446dfd;margin-left:%?16?%}.is-top-box-bg[data-v-315602ac]{background:#e5e5e5!important}.is-top-center-bg[data-v-315602ac]{background:#dedede!important}body.?%PAGE?%[data-v-315602ac]{background:#f7f7f7}",""])},b56c:function(t,i,e){"use strict";e.r(i);var a=e("6385"),o=e("430c");for(var n in o)"default"!==n&&function(t){e.d(i,t,function(){return o[t]})}(n);e("eca9");var r=e("2877"),s=Object(r["a"])(o["default"],a["a"],a["b"],!1,null,"315602ac",null);i["default"]=s.exports},d1a3:function(t,i,e){"use strict";function a(t){return r(t)||n(t)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function n(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function r(t){if(Array.isArray(t)){for(var i=0,e=new Array(t.length);i<t.length;i++)e[i]=t[i];return e}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s={name:"comment",data:function(){return{list:[],over:!1,page:1,is_reply:2,score:3,first:!0}},onLoad:function(){var t=this;this.$showLoading({type:"global",text:"加载中..."}),this.$request({url:this.$api.app_admin.comments,data:{score:3,is_reply:2,page:1}}).then(function(i){t.$hideLoading(),0===i.code&&(t.first=!1,t.list=i.data.list)})},onReachBottom:function(){this.over||(this.page++,this.request())},onShow:function(){var t=this;if(this.first)return!1;this.$request({url:this.$api.app_admin.comments,data:{score:this.score,is_reply:this.is_reply,page:this.page}}).then(function(i){if(0===i.code)for(var e in i.data.list)for(var a in t.list)t.list=i.data.list})},methods:{setActiveNav:function(t){var i=this;this.page=1,this.score=t,this.is_reply=2,this.over=!1,uni.pageScrollTo({scrollTop:0}),uni.showLoading({title:"加载中..."}),this.$request({url:this.$api.app_admin.comments,data:{score:this.score,is_reply:this.is_reply,page:this.page}}).then(function(t){uni.hideLoading(),0===t.code&&(i.list=t.data.list)})},setActiveReply:function(t){var i=this;this.page=1,this.is_reply=t,this.over=!1,uni.showLoading({title:"加载中..."}),this.$request({url:this.$api.app_admin.comments,data:{score:this.score,is_reply:this.is_reply,page:this.page}}).then(function(t){uni.hideLoading(),0===t.code&&(i.list=t.data.list)})},request:function(){var t=this;this.$request({url:this.$api.app_admin.comments,data:{score:this.score,is_reply:this.is_reply,page:this.page}}).then(function(i){0===i.code&&(i.data.list.length>0?t.list=[].concat(a(t.list),a(i.data.list)):t.over=!0)})},isTop:function(t,i){var e=this,a=1==t.is_top?0:1;e.$request({url:e.$api.app_admin.comments_top,method:"POST",data:{status:a,id:t.id}}).then(function(o){0===o.code&&(t.is_top=a,e.list.splice(i,1,t),uni.showToast({title:o.msg,icon:"none"}))})},isShow:function(t){var i=this;0===t.is_show?this.$request({url:this.$api.app_admin.comments_show,method:"POST",data:{is_show:1,id:t.id}}).then(function(e){if(0===e.code)for(var a=0;a<i.list.length;a++)t.id===i.list[a].id&&(i.list[a].is_show=1)}):this.$request({url:this.$api.app_admin.comments_show,method:"POST",data:{is_show:0,id:t.id}}).then(function(e){if(0===e.code)for(var a=0;a<i.list.length;a++)t.id===i.list[a].id&&(i.list[a].is_show=0)})}}};i.default=s},eca9:function(t,i,e){"use strict";var a=e("102a"),o=e.n(a);o.a}}]);