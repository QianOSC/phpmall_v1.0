(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-cats-cats~pages-full_reduce-search-search~pages-goods-list~plugins-exchange-list-list~plugins-~8d3f27ab"],{1267:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAABlBMVEX09PTV1dUeYHV3AAAAFElEQVQoz2MY2aD+//8H+BgjGgAAMQANdT7AwNcAAAAASUVORK5CYII="},"207b":function(t,e,i){var a=i("a80f");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=i("4f06").default;o("d5b25f82",a,!0,{sourceMap:!1,shadowMode:!1})},"26e3":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"u-attr"},[i("v-uni-view",{on:{click:function(e){e=t.$handleEvent(e),t.turnOn(e)}}},[t._t("btn")],2),i("u-popup",{attrs:{mode:"bottom","border-radius":"14",safeAreaInsetBottom:!0},on:{close:function(e){e=t.$handleEvent(e),t.close(e)}},model:{value:t.newValue,callback:function(e){t.newValue=e},expression:"newValue"}},[i("v-uni-view",{staticClass:"u-model",on:{touchmove:function(e){e.stopPropagation(),e.preventDefault(),e=t.$handleEvent(e)}}},[i("v-uni-view",{staticClass:"u-top dir-left-nowrap u-border-box"},[i("v-uni-view",{staticClass:"u-pic u-border-box",on:{click:function(e){e=t.$handleEvent(e),t.clickImg(t.imgUrl)}}},[i("v-uni-image",{staticClass:"u-img",attrs:{src:t.imgUrl}})],1),i("v-uni-view",{staticClass:"u-info"},[i("v-uni-view",{class:["cross-center","dir-left-nowrap",t.themeObject.color]},[i("v-uni-view",{staticClass:"dir-left-nowrap"},[t._t("priceBefore"),i("v-uni-view",{staticClass:"u-price"},[t.is_show_price?i("app-price",{attrs:{theme:t.themeObject.theme,userTheme:t.themeObject.userTheme,sign:t.sign,price:t.sellPrice,"default-price":t.goods.price}}):t._e()],1)],2),1===t.goods.level_show?i("app-member-mark",{attrs:{theme:t.themeObject}}):t._e()],1),i("v-uni-view",{staticClass:"u-stock"},[t._v("库存："+t._s(t.stock))])],1),i("v-uni-view",{staticClass:"u-close-image",on:{click:function(e){e=t.$handleEvent(e),t.close(e)}}},[i("v-uni-image",{staticClass:"bd-close-image u-border-box",attrs:{src:"/static/image/icon/icon-close.png"}})],1)],1),i("v-uni-view",{staticClass:"u-center"},[i("v-uni-scroll-view",{staticClass:"u-scroll-view",attrs:{"scroll-y":"true"}},[t._t("extra"),t._l(t.newGroup,function(e,a){return"goods"===t.goods.type?i("v-uni-view",{key:a,staticClass:"u-attr-group u-border-box"},[i("v-uni-view",{staticClass:"u-group-name u-text"},[t._v(t._s(e.attr_group_name))]),i("v-uni-view",{staticClass:"dir-left-wrap"},t._l(e.attr_list,function(a,o){return i("v-uni-view",{key:o,class:["u-group-item",a.select?"u-checked "+t.themeObject.back:"u-unchecked",a.num_0?"u-attr_num_0":""],on:{click:function(i){i=t.$handleEvent(i),t.storeAttr(a.attr_id,e.attr_group_id,a.num_0)}}},[t._v(t._s(a.attr_name))])}),1)],1):t._e()}),t.is_choose_number?i("v-uni-view",{staticClass:"u-number dir-left-nowrap main-between cross-center"},[i("v-uni-view",{staticClass:"u-text"},[t._v("数量")]),i("v-uni-view",{staticClass:"dir-left-nowrap u-input-box"},[i("v-uni-view",{class:[t.number<=1?"u-reduced-1":"u-reduced-0","u-number-btn"],on:{click:function(e){e.stopPropagation(),e=t.$handleEvent(e),t.numberSub(e)}}}),i("v-uni-input",{staticClass:"u-input",attrs:{type:"number"},on:{blur:function(e){e=t.$handleEvent(e),t.numberBlur(e)}},model:{value:t.number,callback:function(e){t.number=e},expression:"number"}}),i("v-uni-view",{staticClass:"u-number-btn u-added-1",on:{click:function(e){e.stopPropagation(),e=t.$handleEvent(e),t.numberAdd(e)}}})],1)],1):t._e()],2)],1),i("v-uni-view",{staticClass:"u-bottom dir-left-nowrap"},[t.is_show_left&&("goods"===t.goods.type||t.is_must_left)?i("v-uni-view",{staticClass:"box-grow-1",class:[t.cartClass,t.is_show_right?"bd-btn-left":""],on:{click:function(e){e=t.$handleEvent(e),t.leftSubmit(e)}}},[t._t("left_slot"),t.$slots.left_slot?t._e():[t._v(t._s(t.leftText))]],2):t._e(),t.is_show_right?i("v-uni-view",{staticClass:"box-grow-1",class:[t.$slots.right_slot?"":t.themeObject.mBtn+" u-btn u-btn-color",!t.is_show_left||"goods"!==t.goods.type&&!t.is_must_left?"":"bd-btn-right"],on:{click:function(e){e=t.$handleEvent(e),t.rightSubmit(e)}}},[t._t("right_slot"),t.$slots.right_slot?t._e():[t._v(t._s(t.rightText))]],2):t._e(),t.$slots.right?[t._t("right")]:t._e()],2)],1)],1)],1)},o=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return o})},"2bbe":function(t,e,i){var a=i("64b5");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=i("4f06").default;o("507d0686",a,!0,{sourceMap:!1,shadowMode:!1})},"2db6":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAABlBMVEX39/eZmZmXx6vxAAAAFElEQVQoz2MY2aD+//8H+BgjGgAAMQANdT7AwNcAAAAASUVORK5CYII="},"3da24":function(t,e,i){"use strict";i.r(e);var a=i("afcc"),o=i.n(a);for(var n in a)"default"!==n&&function(t){i.d(e,t,function(){return a[t]})}(n);e["default"]=o.a},"64b5":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".text-center[data-v-3478eed7]{text-align:center}.font-weight[data-v-3478eed7]{font-weight:700}.page-width[data-v-3478eed7]{width:100%}.goods-hover-class[data-v-3478eed7]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-3478eed7]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}uni-page-body[data-v-3478eed7]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-3478eed7]{width:100%}.u-hover-class[data-v-3478eed7]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-3478eed7]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.app-no-goods[data-v-3478eed7]{width:100%;height:%?400?%}.app-no-goods .icon[data-v-3478eed7]{width:%?240?%;height:%?240?%}.app-no-goods .text[data-v-3478eed7]{font-size:%?24?%;line-height:1;margin-top:%?25?%}body.?%PAGE?%[data-v-3478eed7]{background:#f7f7f7}",""])},"75cc":function(t,e,i){"use strict";i.r(e);var a=i("e49d"),o=i("e517");for(var n in o)"default"!==n&&function(t){i.d(e,t,function(){return o[t]})}(n);i("e918");var s=i("2877"),r=Object(s["a"])(o["default"],a["a"],a["b"],!1,null,"1d58d33b",null);e["default"]=r.exports},"80a6":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"app-no-goods dir-top-nowrap main-center cross-center",style:{backgroundColor:t.background}},[0===t.is_image?i("v-uni-image",{staticClass:"icon",attrs:{src:"/static/image/no-goods.png"}}):1===t.is_image?i("v-uni-image",{staticClass:"icon",attrs:{src:"/static/image/order-empty.png"}}):t._e(),i("v-uni-text",{staticClass:"text",style:{color:t.color}},[t._v(t._s(t.title))])],1)},o=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return o})},8112:function(t,e,i){"use strict";i.r(e);var a=i("80a6"),o=i("3da24");for(var n in o)"default"!==n&&function(t){i.d(e,t,function(){return o[t]})}(n);i("81c0");var s=i("2877"),r=Object(s["a"])(o["default"],a["a"],a["b"],!1,null,"3478eed7",null);e["default"]=r.exports},"81c0":function(t,e,i){"use strict";var a=i("2bbe"),o=i.n(a);o.a},a489:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i("2f62"),o=s(i("d3c4")),n=s(i("b4bc"));function s(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,a)}return i}function c(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(i,!0).forEach(function(e){d(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):r(i).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function d(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var u={name:"product-list",props:{goods_list:Array,theme:String,is_name:{type:Boolean,default:!0},is_cart:{type:Boolean,default:!0},sign:String,listStyle:{type:Boolean,default:!1},isShowAttr:{type:Boolean,default:!0},themeObject:{type:Object}},computed:c({},(0,a.mapState)({appImg:function(t){return t.mallConfig.__wxapp_img.mall},isShowCart:function(t){return t.mallConfig.mall.setting.is_show_cart},isShowGoodsName:function(t){return t.mallConfig.mall.setting.is_show_goods_name},isShowSalesNum:function(t){return t.mallConfig.mall.setting.is_show_sales_num},appSetting:function(t){return t.mallConfig.mall.setting},isListUnderlinePrice:function(t){return t.mallConfig.mall.setting.is_list_underline_price}})),methods:{routeGo:function(t){this.$emit("routeGo",t)},specification:function(t){var e=this;this.attrGoods.select=null,this.isShowAttr?(this.attrGoods.goods=t,this.attrGoods.attrShow=!0):(uni.showLoading({text:"",mask:!0}),this.$request({url:this.$api.goods.attr,data:{id:t.id,mch_id:t.mch_id}}).then(function(i){uni.hideLoading(),0===i.code?(e.attrGoods.goods=Object.assign(t,i.data),e.attrGoods.attrShow=!0):uni.showToast({title:i.msg,icon:"none"})}))},checkClick:function(t){var e=t.item;this.attrGoods.select=e}},data:function(){return{attrGoods:{goods:null,attrShow:0,select:null}}},components:{"app-attr":o.default,uAttr:n.default}};e.default=u},a80f:function(t,e,i){var a=i("b041");e=t.exports=i("2350")(!1),e.push([t.i,".u-model[data-v-d14666b4]{width:%?750?%}.u-top[data-v-d14666b4]{margin:0 %?24?%;border-bottom:%?1?% solid #e2e2e2;height:%?140?%}.u-close-image[data-v-d14666b4]{width:%?54?%;height:%?78?%;padding:%?24?% 0 %?24?% %?24?%;margin-left:%?24?%}.bd-close-image[data-v-d14666b4]{width:%?30?%;height:%?30?%}.u-pic[data-v-d14666b4]{width:%?200?%;height:%?200?%;padding:%?4?%;border-radius:%?8?%;position:relative;top:%?-64?%;background-color:#fff}.u-img[data-v-d14666b4]{width:%?192?%;height:%?192?%;background-color:#fff}.u-info[data-v-d14666b4]{width:%?424?%;height:%?136?%;padding:%?45?% 0 0 %?24?%}.u-scroll-view[data-v-d14666b4]{width:100%;max-height:calc(80vh - %?154?%)}.u-attr-group[data-v-d14666b4]{margin:%?24?% %?32?% 0 %?32?%;border-bottom:%?1?% solid #e2e2e2}.u-number[data-v-d14666b4]{height:%?124?%;margin:0 %?32?%}.u-group-name[data-v-d14666b4]{margin-bottom:%?20?%}.u-group-item[data-v-d14666b4]{padding:%?15?% %?24?%;border-radius:%?8?%;margin:0 %?20?% %?20?% 0;font-size:%?26?%}.u-checked[data-v-d14666b4]{color:#fff}.u-unchecked[data-v-d14666b4]{background-color:#f2f2f2;color:#353535}.u-attr_num_0[data-v-d14666b4]{background-color:#f7f7f7;color:#cdcdcd}.u-stock[data-v-d14666b4]{font-size:%?24?%;color:#999}.u-price[data-v-d14666b4]{margin-right:%?12?%}.u-input[data-v-d14666b4]{width:%?88?%;height:%?60?%;background-color:#f7f7f7;font-size:%?20?%;color:#353535;text-align:center}.u-input-box[data-v-d14666b4]{width:%?218?%}.u-number-btn[data-v-d14666b4]{height:%?60?%;width:%?60?%;background-repeat:no-repeat;background-size:100% 100%;background-position:50%}.u-number-btn[data-v-d14666b4]:first-child{margin-right:%?5?%}.u-number-btn[data-v-d14666b4]:last-child{margin-left:%?5?%}.u-reduced-1[data-v-d14666b4]{background-image:url("+a(i("1267"))+")}.u-reduced-0[data-v-d14666b4]{background-image:url("+a(i("2db6"))+")}.u-added-1[data-v-d14666b4]{background-image:url("+a(i("d3fe"))+")}.u-text[data-v-d14666b4]{font-size:%?26?%;color:#666}.u-bottom[data-v-d14666b4]{height:%?110?%;width:%?750?%;padding:%?20?% %?24?%}.u-btn[data-v-d14666b4]{text-align:center;line-height:%?70?%;border-radius:%?35?%;font-size:%?26?%;width:calc(50% - %?10?%)}.bd-btn-left[data-v-d14666b4]{margin-right:%?10?%\n    /*border-top-right-radius: 0;*/\n    /*border-bottom-right-radius: 0;*/}.bd-btn-right[data-v-d14666b4]{margin-left:%?10?%\n    /*border-top-left-radius: 0;*/\n    /*border-bottom-left-radius: 0;*/}.u-btn-color[data-v-d14666b4]{color:#fff}",""])},afcc:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"app-no-goods",props:{background:{type:String,default:function(){return"#ffffff"}},color:{type:String,default:function(){return"#666666"}},title:{type:String,default:function(){return"没有任何商品哦~"}},is_image:{type:Number,default:function(){return 0}}}};e.default=a},b4bc:function(t,e,i){"use strict";i.r(e);var a=i("26e3"),o=i("f066");for(var n in o)"default"!==n&&function(t){i.d(e,t,function(){return o[t]})}(n);i("b5b3");var s=i("2877"),r=Object(s["a"])(o["default"],a["a"],a["b"],!1,null,"d14666b4",null);e["default"]=r.exports},b5b3:function(t,e,i){"use strict";var a=i("207b"),o=i.n(a);o.a},c14b:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".text-center[data-v-1d58d33b]{text-align:center}.font-weight[data-v-1d58d33b]{font-weight:700}.page-width[data-v-1d58d33b]{width:100%}.goods-hover-class[data-v-1d58d33b]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-1d58d33b]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}uni-page-body[data-v-1d58d33b]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-1d58d33b]{width:100%}.u-hover-class[data-v-1d58d33b]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-1d58d33b]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.product-list[data-v-1d58d33b]{position:relative}.product-list .u-goods[data-v-1d58d33b]{margin-top:%?15?%;background-color:#fff;width:%?344?%;border-radius:%?15?%}.list-padding[data-v-1d58d33b]{padding:0 %?20?%}.image-name[data-v-1d58d33b]{width:100%;border-top-left-radius:%?15?%;border-top-right-radius:%?15?%;position:relative}.image-name .out-dialog[data-v-1d58d33b]{border-top-left-radius:%?15?%;border-top-right-radius:%?15?%;width:%?344?%;height:%?344?%;position:absolute;top:0;z-index:10;left:0;background-color:rgba(0,0,0,.5)}.image-name .out-dialog uni-image[data-v-1d58d33b]{width:%?344?%;height:%?344?%}.image-name .image[data-v-1d58d33b]{width:100%;height:%?344?%;border-top-left-radius:%?15?%;border-top-right-radius:%?15?%}.image-name .name[data-v-1d58d33b]{font-size:%?26?%;color:#353535;padding:0 %?24?%;margin-top:%?20?%;line-height:%?36?%}.content-name[data-v-1d58d33b]{height:calc(100% - %?426?%)}.content-no[data-v-1d58d33b]{height:calc(100% - %?384?%)}.content[data-v-1d58d33b]{padding:0 %?24?%}.content .price-total[data-v-1d58d33b]{margin:%?16?% 0 %?30?% 0}.content .price-total.exchange[data-v-1d58d33b]{margin-top:%?6?%;margin-bottom:%?16?%}.content .price-total .sales[data-v-1d58d33b]{font-size:%?20?%;margin-left:%?12?%}.content .price-total .sales-box[data-v-1d58d33b]{color:#999}.content .price-total .sales-box .sales[data-v-1d58d33b]{margin-left:0}.content .price-total .price[data-v-1d58d33b]{font-size:%?28?%}.content .member-price[data-v-1d58d33b]{margin-top:%?12?%}.content .app-sup-vip[data-v-1d58d33b]{margin-top:%?9?%}.default-color[data-v-1d58d33b]{color:#ff4544}.cart-box[data-v-1d58d33b]{width:%?92?%;height:%?92?%;position:absolute;padding:%?32?%;right:%?-24?%;top:%?-60?%}.goods-cart[data-v-1d58d33b]{width:%?28?%;height:%?28?%}.f-swipe-content[data-v-1d58d33b]{background-color:#fff}.f-swipe-content .f-item[data-v-1d58d33b]{padding:%?24?%;border-bottom:%?1?% solid #e2e2e2;position:relative}.f-swipe-content .f-item .f-img[data-v-1d58d33b]{width:%?200?%;height:%?200?%;border-radius:%?23?%;margin-right:%?24?%}.f-swipe-content .f-item .f-out-dialog[data-v-1d58d33b]{width:%?200?%;height:%?200?%;border-radius:%?23?%;margin-right:%?24?%;position:absolute;z-index:10;background-color:rgba(0,0,0,.5)}.f-swipe-content .f-item .f-out-dialog uni-image[data-v-1d58d33b]{width:%?200?%;height:%?200?%}.f-swipe-content .f-item .f-content[data-v-1d58d33b]{width:%?478?%}.f-swipe-content .f-item .f-title[data-v-1d58d33b]{font-size:%?26?%;line-height:%?36?%;color:#353535}.f-swipe-content .f-item .f-invalid[data-v-1d58d33b]{width:%?128?%;height:%?42?%;line-height:%?42?%;background-color:#f7f7f7;padding:0 %?27?% 0 %?18?%}.f-swipe-content .f-item .f-invalid>uni-text[data-v-1d58d33b]{font-size:%?23?%;color:#999}.f-swipe-content .f-item .f-invalid>uni-image[data-v-1d58d33b]{width:%?24?%;height:%?24?%}.f-swipe-content .f-item .f-low-stock[data-v-1d58d33b]{width:%?148?%;height:%?42?%;line-height:%?42?%;background-color:#ffecec;padding:0 %?27?% 0 %?18?%}.f-swipe-content .f-item .f-low-stock>uni-text[data-v-1d58d33b]{font-size:%?23?%;color:#ff4544}.f-swipe-content .f-item .f-low-stock>uni-image[data-v-1d58d33b]{width:%?24?%;height:%?24?%}.f-swipe-content .f-item .f-low-price[data-v-1d58d33b]{height:%?42?%;display:inline-block;background-color:#ffecec;padding:0 %?27?% 0 %?18?%;position:relative}.f-swipe-content .f-item .f-low-price>uni-text[data-v-1d58d33b]{font-size:%?23?%;color:#ff4544}.f-swipe-content .f-item .f-low-price>uni-image[data-v-1d58d33b]{width:%?24?%;margin-right:%?14?%;height:%?24?%}.f-swipe-content .f-item .f-cat-icon[data-v-1d58d33b]{width:%?56?%;height:%?56?%}.f-swipe-content .f-item .f-price[data-v-1d58d33b]{font-size:%?24?%;margin-top:%?12?%}.f-swipe-content .f-item .f-scale[data-v-1d58d33b]{font-size:%?21?%;color:#b0b0b0}.origin-price[data-v-1d58d33b]{font-size:%?21?%;color:#999;text-decoration:line-through}body.?%PAGE?%[data-v-1d58d33b]{background:#f7f7f7}",""])},d3fe:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAABlBMVEX39/eZmZmXx6vxAAAAGklEQVQoz2MYzICf5oz6//8f4GHQ3hmDGQAAjcAOv+IPUVgAAAAASUVORK5CYII="},e40d:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=r(i("d55a")),o=r(i("6c9f")),n=r(i("1ed7")),s=i("2f62");function r(t){return t&&t.__esModule?t:{default:t}}function c(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,a)}return i}function d(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?c(i,!0).forEach(function(e){u(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):c(i).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function u(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var l={name:"u-attr",props:{value:{type:[Boolean,Number]},goods:{type:Object,default:function(){return{}},required:!0},themeObject:{type:Object},checked:{type:Object},is_show_price:{type:Boolean,default:!0},is_show_left:{type:Boolean,default:!0},is_must_left:{type:Boolean,default:!1},is_show_right:{type:Boolean,default:!0},is_choose_number:{type:Boolean,default:!0},leftText:{type:String,default:"加入购物车"},rightText:{type:String,default:"立即购买"},leftFunc:{type:Boolean},rightFunc:{type:Boolean},sign:{type:String},again:{type:Number},attentionSign:{type:String}},data:function(){return{newValue:!1,picUrl:null,newGroup:[],number:1}},created:function(){"community"==this.sign&&(this.number=1)},methods:{close:function(){this.$emit("input",!1)},turnOn:function(){this.$emit("input",!0)},inArray:function(t,e){return e.some(function(e){return t===e})},identifier:function(t,e,i){var a=this;t.forEach(function(t){t.attr_list.forEach(function(o){var n="".concat(t.attr_group_id,"-").concat(o.attr_id);a.inArray(n,e)&&!a.inArray(n,i)?o.num_0=!0:o.num_0=!1})})},selectCheck:function(t,e,i){var a=this;t.forEach(function(t){var o=[],n=0;t.attr_list.forEach(function(t){var e="".concat(t.attr_group_id,"-").concat(t.attr_id);a.inArray(e,i)||(n+=1,o.push(e))}),0===t.stock&&n<=1&&Array.prototype.push.apply(e,o),0===n&&a.$emit("check",{item:t,number:1})})},storeAttr:function(t,e,i){var a=this;if(!0!==i){var o=this.newGroup,n=this.copyAttr,s=[];o.forEach(function(i,o){var n=i.attr_list;n.forEach(function(n){i.attr_group_id===e&&(n.attr_id===t?!0===n.select?n.select=!1:n.select=!0:n.select=!1),!0===n.select&&(s.push("".concat(i.attr_group_id,"-").concat(n.attr_id)),0===o&&(a.picUrl=n.pic_url))})});var r=[];this.selectCheck(n,r,s),this.$nextTick(function(){a.number>a.stock&&(a.number=a.stock)}),this.identifier(o,r,s),s.length!==o.length&&this.$emit("check",{item:null,number:1})}},firstSelect:function(){var t=this;if(this.copyGroup&&this.copyAttr){var e=this.copyGroup,i=this.copyAttr,a=e.length,o=[];i.forEach(function(i){var n=i.attr_list;n.forEach(function(n){var s=n.attr_group_id;e.forEach(function(r){if(s===r.attr_group_id){var c=r.attr_list;c.forEach(function(s){s.attr_id===n.attr_id&&i.stock>0&&a>0&&(s.select=!0,o.push("".concat(r.attr_group_id,"-").concat(s.attr_id)),a===e.length&&(t.picUrl=s.pic_url),a--)})}})})});var n=[];this.selectCheck(i,n,o),this.identifier(e,n,o),this.newGroup=e}},numberBlur:function(t){var e=parseInt(t.detail.value);e||(e=1),e>this.stock&&(e=this.stock,uni.showToast({title:"库存不足",icon:"none"})),this.number=e},numberSub:function(){var t=this.number;t>1&&(t--,this.number=t)},numberAdd:function(){var t=this.number;t++,t>this.stock&&(t=this.stock,uni.showToast({title:"库存不足",icon:"none"})),this.number=t},leftSubmit:function(){!0===this.leftFunc?this.$emit("leftFunc",this.number):this.cart(),this.close()},rightSubmit:function(){if(!this.checked)return uni.showToast({title:"请先选规格",icon:"none"}),!1;if(!this.$user.isLogin())return this.$user.getInfo();var t=[];this.checked.attr_list.forEach(function(e){t.push({attr_id:e.attr_id,attr_group_id:e.attr_group_id})});var e={mch_id:this.goods.mch_id?this.goods.mch_id:0,goods_list:[{id:this.goods.id,attrs:t,num:this.number,cat_id:0,goods_attr_id:this.checked.id}]};!0===this.rightFunc?this.$emit("rightFunc",e):this.shop(e),this.close()},shop:function(t){uni.navigateTo({url:"/pages/order-submit/order-submit?mch_list=".concat(JSON.stringify([t]))})},cart:function(){var t=this;if(!this.checked)return uni.showToast({title:"请先选规格",icon:"none"}),!1;"ecard"!==this.goods.type&&this.$request({url:this.$api.cart.add,method:"post",data:{goods_id:this.checked.goods_id,attr:this.checked.id,num:this.number}}).then(function(e){0===e.code?(uni.showToast({title:e.msg,icon:"none"}),t.$emit("cart",t.checked,t.number),t.close()):uni.showToast({title:e.msg,icon:"none",duration:2500})})},clickImg:function(t){this.$jwx.previewImage({current:t,urls:[t]})}},components:{uPopup:a.default,appPrice:o.default,appMemberMark:n.default},computed:d({imgUrl:function(){return this.picUrl?this.picUrl:this.goods?this.goods.cover_pic:""},stock:function(){return this.$validation.isEmpty(this.checked)?this.$validation.isEmpty(this.goods)?void 0:this.goods.goods_num:this.checked.stock},sellPrice:function(){return this.$validation.isEmpty(this.checked)?this.$validation.isEmpty(this.goods)?void 0:this.goods.hasOwnProperty("price_min")?this.goods.price_min:this.goods.price:1===this.goods.level_show?this.checked.price_member:this.checked.price},copyGroup:function(){if(this.goods){console.log(this.goods.attr_groups);var t=this.$utils.deepClone(this.goods.attr_groups);console.log(t);for(var e=0;e<t.length;e++)t[e].attr_list.forEach(function(t){t.select=!1,t.num_0=!1});return t}},copyAttr:function(){if(this.goods)return this.$utils.deepClone(this.goods.attr)},cartClass:function(){return"a"===this.themeObject.theme||"b"===this.themeObject.theme||"f"===this.themeObject.theme?this.themeObject.sBtn+" u-btn u-btn-color ":this.themeObject.sBtn+" u-btn  "+this.themeObject.color}},(0,s.mapGetters)({userInfo:"user/info"})),watch:{value:{handler:function(t){this.newValue=t,!1!==t&&this.$validation.isEmpty(this.checked)&&this.$utils.throttle(this.firstSelect,800)},immediate:!0},number:{handler:function(t){this.$emit("check",{item:this.checked,number:t})}},again:{handler:function(){this.firstSelect()}}}};e.default=l},e49d:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{class:[t.listStyle?"":"list-padding","page-width","product-list","dir-top-nowrap"]},[t._l(t.goods_list,function(e,a){return t.listStyle?i("v-uni-view",{key:e.id,staticClass:"f-swipe-content",on:{click:function(i){i=t.$handleEvent(i),t.routeGo(e)}}},[i("v-uni-view",{staticClass:"f-item  dir-left-nowrap"},[0==e.goods_stock&&"1"==t.appSetting.is_show_stock?i("v-uni-view",{staticClass:"f-out-dialog"},[i("v-uni-image",{attrs:{src:"1"==t.appSetting.is_use_stock?t.appImg.plugins_out:t.appSetting.sell_out_pic}})],1):t._e(),i("v-uni-image",{staticClass:"f-img",attrs:{src:e.cover_pic,"lazy-load":!0,mode:"aspectFill"}}),i("v-uni-view",{staticClass:"f-content dir-top-wrap main-between"},[i("v-uni-text",{staticClass:"t-omit-two f-title"},[t._v(t._s(e.name))]),i("v-uni-view",[1==e.is_level&&1!=e.is_negotiable?i("v-uni-view",{staticClass:"member-price"},[i("app-member-price",{attrs:{price:e.level_price,theme:t.themeObject,sign:t.sign}})],1):t._e(),e.vip_card_appoint&&e.vip_card_appoint.discount&&1!=e.is_negotiable?i("v-uni-view",{staticClass:"app-sup-vip"},[i("app-sup-vip",{attrs:{discount:e.vip_card_appoint.discount,is_vip_card_user:e.vip_card_appoint.is_vip_card_user}})],1):t._e(),i("v-uni-view",{staticClass:"dir-left-nowrap main-between"},[i("v-uni-view",{staticClass:"dir-top-wrap main-between"},[i("v-uni-text",{staticClass:"f-price",class:"gift"===t.sign?t.theme+"-color":t.theme+"-m-text "+t.theme},[t._v(t._s(e.price_content))]),1!=e.is_negotiable&&1==t.isShowSalesNum?i("v-uni-text",{staticClass:"f-scale"},[t._v(t._s(e.sales))]):t._e()],1),"gift"!==t.sign&&1!=e.is_negotiable&&1==t.isShowCart&&e.goods_stock>0?i("v-uni-view",[i("v-uni-image",{staticClass:"f-cat-icon",class:t.theme+"-m-back "+t.theme,attrs:{src:"/static/image/icon/cats.png"},on:{click:function(i){i.stopPropagation(),i=t.$handleEvent(i),t.specification(e)}}})],1):t._e()],1)],1)],1)],1)],1):t._e()}),t.listStyle?t._e():i("v-uni-view",{staticClass:"page-width dir-left-wrap main-between"},t._l(t.goods_list,function(e,a){return i("v-uni-view",{key:a,staticClass:"u-goods box-grow-0 dir-top-nowrap main-between",class:"index-"+a,on:{click:function(i){i=t.$handleEvent(i),t.routeGo(e)}}},[i("v-uni-view",{staticClass:"image-name dir-top-nowrap main-left"},[0==e.goods_stock&&"1"==t.appSetting.is_show_stock?i("v-uni-view",{staticClass:"out-dialog"},[i("v-uni-image",{attrs:{src:"1"==t.appSetting.is_use_stock?t.appImg.plugins_out:t.appSetting.sell_out_pic}})],1):t._e(),i("v-uni-image",{staticClass:"image",attrs:{src:e.cover_pic,"lazy-load":!0,mode:"aspectFill"}}),t.is_name&&1==t.isShowGoodsName?i("v-uni-view",{staticClass:"name t-omit-two"},[t._v(t._s(e.name))]):t._e()],1),i("v-uni-view",{staticClass:"content dir-top-nowrap main-right",style:{height:t.is_name?"calc(100% - #{426rpx})":"height: calc(100% - #{384rpx});"}},[(1==e.is_level||"exchange"===t.sign&&0!=e.level_show)&&1!=e.is_negotiable?i("v-uni-view",{staticClass:"member-price"},[i("app-member-price",{attrs:{price:e.level_price,theme:t.themeObject,sign:t.sign}})],1):t._e(),e.vip_card_appoint&&e.vip_card_appoint.discount&&1!=e.is_negotiable?i("v-uni-view",{staticClass:"app-sup-vip"},[i("app-sup-vip",{attrs:{discount:e.vip_card_appoint.discount,is_vip_card_user:e.vip_card_appoint.is_vip_card_user}})],1):t._e(),"exchange"!==t.sign?i("v-uni-view",{staticClass:"price-total page-width dir-left-nowrap main-between cross-bottom"},[i("v-uni-view",[i("v-uni-view",{staticClass:"price",class:"gift"===t.sign?t.theme+"-color":t.theme+"-m-text "+t.theme},[t._v(t._s(e.price_content))]),1==t.isListUnderlinePrice?i("v-uni-view",{staticClass:"origin-price"},[t._v("￥"+t._s(e.original_price))]):t._e()],1),"gift"===t.sign?[1!=e.is_negotiable?i("v-uni-text",{staticClass:"gray sales"},[t._v(t._s(e.sales))]):t._e()]:[1!=e.is_negotiable&&1==t.isShowSalesNum?i("v-uni-text",{staticClass:"gray sales"},[t._v(t._s(e.sales))]):t._e(),1!=e.is_negotiable&&1==t.isShowCart&&e.goods_stock>0?i("v-uni-view",{staticClass:"box-grow-1",staticStyle:{position:"relative"}},[i("div",{staticClass:"cart-box",on:{click:function(i){i.stopPropagation(),i=t.$handleEvent(i),t.specification(e)}}},[i("app-cart-image",{staticClass:"goods-cart",attrs:{sign:t.sign,theme:t.theme}})],1)]):t._e()]],2):t._e(),"exchange"===t.sign?i("v-uni-view",{staticClass:"price-total exchange page-width"},[[i("v-uni-text",{staticClass:"price",class:t.theme+"-m-text "+t.theme},[t._v(t._s(e.price_content))]),i("v-uni-view",{staticClass:"dir-left-nowrap cross-center sales-box box-grow-0"},[i("v-uni-view",{staticClass:"sales"},[t._v(t._s(e.sales))])],1),i("v-uni-view",{staticClass:"dir-left-nowrap cross-center sales-box box-grow-0"},[i("v-uni-view",{staticClass:"sales"},[t._v("库存:"+t._s(e.goods_stock)+t._s(e.unit))])],1)]],2):t._e()],1)],1)}),1),t.attrGoods.attrShow||t.attrGoods.goods?i("u-attr",{attrs:{checked:t.attrGoods.select,goods:t.attrGoods.goods,"theme-object":t.themeObject},on:{check:function(e){e=t.$handleEvent(e),t.checkClick(e)}},model:{value:t.attrGoods.attrShow,callback:function(e){t.$set(t.attrGoods,"attrShow",e)},expression:"attrGoods.attrShow"}}):t._e()],2)},o=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return o})},e517:function(t,e,i){"use strict";i.r(e);var a=i("a489"),o=i.n(a);for(var n in a)"default"!==n&&function(t){i.d(e,t,function(){return a[t]})}(n);e["default"]=o.a},e918:function(t,e,i){"use strict";var a=i("ea42"),o=i.n(a);o.a},ea42:function(t,e,i){var a=i("c14b");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=i("4f06").default;o("5a9683ea",a,!0,{sourceMap:!1,shadowMode:!1})},f066:function(t,e,i){"use strict";i.r(e);var a=i("e40d"),o=i.n(a);for(var n in a)"default"!==n&&function(t){i.d(e,t,function(){return a[t]})}(n);e["default"]=o.a}}]);