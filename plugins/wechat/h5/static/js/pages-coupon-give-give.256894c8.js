(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-coupon-give-give"],{"1b36":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,'.text-center[data-v-1531035c]{text-align:center}.font-weight[data-v-1531035c]{font-weight:700}.page-width[data-v-1531035c]{width:100%}.goods-hover-class[data-v-1531035c]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-1531035c]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}uni-page-body[data-v-1531035c]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-1531035c]{width:100%}.u-hover-class[data-v-1531035c]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-1531035c]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.give[data-v-1531035c]{background-color:#fff}.content[data-v-1531035c]{width:%?750?%;height:%?880?%;background-size:100% 100%;background-repeat:no-repeat;background-position:50%;padding-top:%?46?%;text-align:center}.content .avatar[data-v-1531035c]{width:%?130?%;height:%?130?%;margin:0 auto %?30?% auto;border-radius:%?130?%;overflow:hidden}.content .avatar uni-image[data-v-1531035c]{width:100%;height:100%;display:block}.content .nickname[data-v-1531035c]{font-size:%?28?%;line-height:1}.content .title[data-v-1531035c]{margin-top:%?40?%;font-size:%?32?%;line-height:1}.content .pic[data-v-1531035c]{margin:%?90?% auto 0 auto;width:%?636?%;height:%?200?%;padding:0 %?16?% 0 %?24?%}.content .pic .coupon-left[data-v-1531035c]{width:%?174?%;height:100%;color:#fff;font-size:%?56?%}.content .pic .coupon-left .discount[data-v-1531035c]:after{content:"\\6298";font-size:%?32?%}.content .pic .coupon-left .sub[data-v-1531035c]:before{content:"\\FFE5";font-size:%?32?%}.content .pic .coupon-right[data-v-1531035c]{width:%?300?%;height:100%;font-size:%?32?%}.content .pic .coupon-right .margin-top[data-v-1531035c]{margin-top:%?16?%;font-size:%?28?%}.content .time[data-v-1531035c]{margin:%?45?% 0;font-size:%?24?%}.content .card-btn[data-v-1531035c]{width:%?284?%;height:%?76?%}.content .card-btn.btn-1[data-v-1531035c]{margin:%?410?% auto 0 auto}.content .card-btn.btn-0[data-v-1531035c]:first-child{margin-right:%?38?%}.card-modal[data-v-1531035c]{background-color:rgba(0,0,0,.5);width:100%;height:100%;position:fixed;top:0;left:0;z-index:1000}.card-modal .modal-content[data-v-1531035c]{width:%?600?%;height:%?528?%;background-size:contain;background-repeat:no-repeat;background-position:50%}.card-modal .modal-content .error[data-v-1531035c]{margin:%?290?% auto 0 auto;text-align:center;font-size:%?36?%}.card-modal .modal-content .modal-btn[data-v-1531035c]{margin:%?62?% auto 0 auto;width:%?520?%;height:%?90?%;border-radius:%?90?%}body.?%PAGE?%[data-v-1531035c]{background:#f7f7f7}',""])},"1ce4":function(t,e,a){"use strict";a.r(e);var i=a("c652"),o=a("5647");for(var n in o)"default"!==n&&function(t){a.d(e,t,function(){return o[t]})}(n);a("d009");var r=a("2877"),s=Object(r["a"])(o["default"],i["a"],i["b"],!1,null,"db12da42",null);e["default"]=s.exports},"1f3d":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("app-layout",[t.coupon?a("v-uni-view",{staticClass:"give"},[a("v-uni-view",{staticClass:"content",style:t.contentStyle},[a("v-uni-view",{staticClass:"avatar dir-left-nowrap main-center cross-center"},[a("v-uni-image",{attrs:{src:t.coupon.avatar}})],1),a("v-uni-view",{staticClass:"nickname"},[t._v(t._s(t.coupon.nickname))]),a("v-uni-view",{staticClass:"title"},[t._v("送你一张优惠券")]),1==t.coupon.status?[a("v-uni-view",{staticClass:"pic dir-left-nowrap cross-between main-center"},[a("v-uni-view",{staticClass:"box-grow-0 coupon-left main-center cross-center"},[1==t.coupon.type?a("v-uni-view",{staticClass:"discount"},[t._v(t._s(t.coupon.discount))]):a("v-uni-view",{staticClass:"sub t-omit"},[t._v(t._s(t.coupon.sub_price))])],1),a("v-uni-view",{staticClass:"box-grow-0 coupon-right dir-top-nowrap main-center cross-center"},[t.coupon.min_price>0?a("v-uni-view",[t._v("满￥"+t._s(t.coupon.min_price)+"可用")]):a("v-uni-view",[t._v("无门槛使用")]),a("v-uni-view",{staticClass:"margin-top"},[t._v(t._s(t.coupon.appoint_type_text))])],1),a("v-uni-view",{staticClass:"box-grow-1"})],1),1==t.coupon.expire_type?[a("v-uni-view",{staticClass:"time"},[t._v("有效期：领取后"+t._s(t.coupon.expire_day)+"天有效")])]:[a("v-uni-view",{staticClass:"time"},[t._v("有效期："+t._s(t.coupon.begin_time)+" - "+t._s(t.coupon.end_time))])],a("v-uni-view",{staticClass:"card-btn-group dir-left-nowrap main-center"},[a("v-uni-view",{staticClass:"card-btn btn-0 box-grow-0",on:{click:function(e){e=t.$handleEvent(e),t.shareShow=!0}}},[a("app-image",{attrs:{"img-src":t.coupon.img_share,width:"100%",height:"100%"}})],1),a("v-uni-view",{staticClass:"card-btn btn-0 box-grow-0",on:{click:function(e){e=t.$handleEvent(e),t.toGoods(e)}}},[a("app-image",{attrs:{"img-src":t.coupon.img_use,width:"100%",height:"100%"}})],1)],1),a("v-uni-view",[a("app-share-qr-code",{attrs:{title:"生成优惠券海报","poster-url":"/pages/poster/poster?coupon_id="+t.coupon.id,"has-poster-nav":!0},model:{value:t.shareShow,callback:function(e){t.shareShow=e},expression:"shareShow"}})],1)]:a("v-uni-view",{staticClass:"card-btn btn-1",on:{click:function(e){e=t.$handleEvent(e),t.receive(e)}}},[a("app-image",{attrs:{"img-src":t.coupon.img_receive,width:"100%",height:"100%"}})],1)],2),a("v-uni-view",[t.recommendGoodsList&&t.recommendGoodsList.length?a("app-related-suggestion-product",{attrs:{list:t.recommendGoodsList,text:"您或许会喜欢",theme:t.getTheme}}):t._e()],1)],1):t._e(),t.modal.show?a("v-uni-view",{staticClass:"card-modal dir-top-nowrap cross-center main-center"},[a("v-uni-view",{staticClass:"modal-content",style:{backgroundImage:"url("+t.img_finish_receiving+")"}},[a("v-uni-view",{staticClass:"error"},[t._v(t._s(t.modal.msg))]),a("v-uni-view",{staticClass:"modal-btn",on:{click:function(e){e=t.$handleEvent(e),t.btnClick(e)}}})],1)],1):t._e()],1)},o=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return o})},2270:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAb1BMVEUAAABlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVmZmZlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWULH5W+AAAAJHRSTlMAPsDtkgW2yqZ8cFNLKfLx5eDa1cWuioRgRDciGs+XXUMvFAsLkBxdAAAA/ElEQVQoz8WRR3LDMAwAIbGod8Vq7t7/vzHhaDwcOdIph+yFwCxJEIT8M09d4+gzl2U9jlo/Vzu3oPqwA7SIBrqwV9DOzhaKKl1EJLcwDGDzn2RJK1QhYkKah6ycAE6y8mgIjeSQyxsL9h2vJubLPzKAwGdfxNJyE0+aiudGKxWBHBBQSfkHXYpiOtITSi6kRzrlIproSEdomSHbtxnMrvn6vGfPNe7DFoXd0xa1uHWE6297hXGNEojNVpoYEvGDDM+butYPdj3fTT6dOkg2TZSQ+M2UH80WIUR3F90jCAv5wAyAfr00MJi9AbkL3NGDEZqxgWY0ckQRx9uq39SsFyRmRgF+AAAAAElFTkSuQmCC"},"320f":function(t,e,a){"use strict";a.r(e);var i=a("1f3d"),o=a("3f40");for(var n in o)"default"!==n&&function(t){a.d(e,t,function(){return o[t]})}(n);a("3989");var r=a("2877"),s=Object(r["a"])(o["default"],i["a"],i["b"],!1,null,"1531035c",null);e["default"]=s.exports},3989:function(t,e,a){"use strict";var i=a("abf5"),o=a.n(i);o.a},"3f40":function(t,e,a){"use strict";a.r(e);var i=a("9107"),o=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e["default"]=o.a},5647:function(t,e,a){"use strict";a.r(e);var i=a("6b78"),o=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e["default"]=o.a},"5df4":function(t,e,a){var i=a("b041");e=t.exports=a("2350")(!1),e.push([t.i,".text-center[data-v-db12da42]{text-align:center}.font-weight[data-v-db12da42]{font-weight:700}.page-width[data-v-db12da42]{width:100%}.goods-hover-class[data-v-db12da42]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-db12da42]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}uni-page-body[data-v-db12da42]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-db12da42]{width:100%}.u-hover-class[data-v-db12da42]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-db12da42]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.app-related-suggestion-product[data-v-db12da42]{width:%?750?%;background-color:#f7f7f7}.app-related-suggestion-product .app-top[data-v-db12da42]{width:100%;height:%?96?%}.app-related-suggestion-product .app-top .app-content[data-v-db12da42]{height:%?24?%;width:calc(100% - %?450?%)}.app-related-suggestion-product .app-top .app-content .app-line[data-v-db12da42]{width:%?56?%;height:%?2?%;background-color:#bbb}.app-related-suggestion-product .app-top .app-content .app-icon-love[data-v-db12da42]{width:%?24?%;height:%?24?%;background-image:url("+i(a("2270"))+")}.app-related-suggestion-product .app-top .app-content .app-text[data-v-db12da42]{font-size:%?24?%;color:#999}.app-bottom[data-v-db12da42]{width:%?750?%;padding:0 %?10?%}.app-bottom .row[data-v-db12da42]{width:100%;margin-bottom:%?10?%}.app-bottom .item[data-v-db12da42]{width:%?358?%;background-color:#fff;margin:%?5?% 0 0 0;border-radius:%?16?%}.app-bottom .image-name[data-v-db12da42]{width:100%;position:relative}.app-bottom .image-name .app-image[data-v-db12da42]{width:%?358?%;height:%?370?%;border-top-left-radius:%?16?%;border-top-right-radius:%?16?%}.app-bottom .image-name .out-dialog[data-v-db12da42]{border-top-left-radius:%?16?%;border-top-right-radius:%?16?%;width:%?358?%;height:%?370?%;position:absolute;top:0;left:0;background-color:rgba(0,0,0,.5)}.app-bottom .image-name .out-dialog uni-image[data-v-db12da42]{width:%?358?%;height:%?370?%}.app-bottom .image-name .name[data-v-db12da42]{font-size:%?28?%;color:#353535;word-break:break-all;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden;line-height:%?32?%;height:%?64?%;width:%?318?%;margin:%?20?% %?20?% 0 %?20?%}.price-total[data-v-db12da42]{margin-bottom:%?20?%;font-size:%?28?%;line-height:1}.price-total .price[data-v-db12da42]{word-break:break-all;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical}.price-total .volume[data-v-db12da42]{word-break:break-all;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;font-size:%?24?%;color:#999}.content[data-v-db12da42]{padding:0 %?24?% 0 %?24?%}.content-no[data-v-db12da42]{height:calc(100% - %?454?%)}.advance-content[data-v-db12da42]{height:%?40?%;padding:0 0 0 %?24?%;margin-bottom:%?10?%}.content-yes[data-v-db12da42]{height:calc(100% - %?494?%)}.deposit[data-v-db12da42]{display:inline-block;font-size:%?19?%;color:#fff;line-height:1;border-radius:%?7?%;padding:%?5?% %?5?%;word-break:break-all;-o-text-overflow:ellipsis;text-overflow:ellipsis;-webkit-box-orient:vertical;-webkit-line-clamp:1;overflow:hidden;margin:%?8?% 0}.member-price[data-v-db12da42]{padding:%?8?% 0}.sup-vip[data-v-db12da42]{margin-bottom:%?8?%}.origin-price[data-v-db12da42]{font-size:%?21?%;color:#999;text-decoration:line-through}body.?%PAGE?%[data-v-db12da42]{background:#f7f7f7}",""])},"6b78":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a("2f62");function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,i)}return a}function n(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(a,!0).forEach(function(e){r(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var s={name:"app-related-suggestion-product",data:function(){return{request:this.value,goods_list:[]}},props:{isRecommend:{type:Boolean,default:function(){return!0}},showIcon:{type:Boolean,default:function(){return!0}},value:{type:Boolean,default:function(){return!0}},list:{type:Array,default:function(){return[]}},text:{type:String,default:function(){return"相关推荐"}},sign:String,theme:String,themeObject:Object},computed:n({},(0,i.mapState)({height:function(t){return t.gConfig.systemInfo.windowHeight},appSetting:function(t){return t.mallConfig.mall.setting},appImg:function(t){return t.mallConfig.__wxapp_img.mall},mall:function(t){return t.mallConfig.mall},isShowGoodsName:function(t){return t.mallConfig.mall.setting.is_show_goods_name},isShowSalesNum:function(t){return t.mallConfig.mall.setting.is_show_sales_num},isListUnderlinePrice:function(t){return t.mallConfig.mall.setting.is_list_underline_price},platform:function(t){return t.gConfig.systemInfo.platform}}),{},(0,i.mapGetters)("mallConfig",{getVideo:"getVideo"})),methods:{route_jump:function(t){t.video_url&&this.getVideo,uni.navigateTo({url:t.page_url})}},watch:{list:{handler:function(t){if(t){this.goods_list=[];for(var e=0;e<t.length;e+=2)e+1!==t.length?this.goods_list.push([t[e],t[e+1]]):this.goods_list.push([t[e]])}},immediate:!0,deep:!0}}};e.default=s},9107:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a("2f62"),o=s(a("1ce4")),n=s(a("409e")),r=s(a("972f"));function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,i)}return a}function d(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(a,!0).forEach(function(e){u(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}function u(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var l={name:"give",components:{AppRelatedSuggestionProduct:o.default,appShareQrCode:n.default},data:function(){return{recommendGoodsList:null,shareShow:!1,modal:{show:!1,msg:"",is_show_back:!1},coupon:null,user_id:0,img_finish_receiving:null}},computed:d({},(0,i.mapState)({couponImg:function(t){return t.mallConfig.__wxapp_img.coupon}}),{},(0,i.mapGetters)("mallConfig",{getTheme:"getTheme"}),{contentStyle:function(){var t="";return this.coupon?(t=1===this.coupon.status?"background-image: url("+this.coupon.receive_coupon_bg+")":"background-image: url("+this.coupon.coupon_bg+")",t):""}}),onLoad:function(t){"undefined"!==typeof t.user_id&&(this.user_id=t.user_id),this.getList(t.coupon_id),this.loadRecommendGoodsList()},methods:{getList:function(t){var e=this;this.$showLoading(),this.$request({url:this.$api.coupon.give,data:{coupon_id:t,user_id:this.user_id}}).then(function(t){e.$hideLoading(),e.img_finish_receiving=t.data.img_finish_receiving,0==t.code?e.coupon=t.data:e.modal={show:!0,msg:t.msg,is_show_back:!0}}).catch(function(t){e.$hideLoading()})},loadRecommendGoodsList:function(){var t=this;this.$request({url:this.$api.goods.new_recommend,method:"get",data:{type:"order_pay"}}).then(function(e){0===e.code&&(t.recommendGoodsList=e.data.list)}).catch(function(t){})},btnClick:function(){this.modal.is_show_back?(0,r.default)({open_type:"redirect",url:"/pages/index/index"}):this.modal.show=!1},receive:function(){var t=this;this.$showLoading(),this.$request({url:this.$api.coupon.receive,method:"get",data:{coupon_id:this.coupon.id}}).then(function(e){t.$hideLoading(),0===e.code?t.getList(t.coupon.id):t.modal={show:!0,msg:e.msg,is_show_back:!1}})},toGoods:function(){uni.redirectTo({url:this.coupon.page_url})}}};e.default=l},abf5:function(t,e,a){var i=a("1b36");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("4f06").default;o("0ca41dce",i,!0,{sourceMap:!1,shadowMode:!1})},b600:function(t,e,a){var i=a("5df4");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("4f06").default;o("b54e0c38",i,!0,{sourceMap:!1,shadowMode:!1})},c652:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.goods_list.length>0?a("v-uni-view",{staticClass:"app-related-suggestion-product"},[t.isRecommend?a("v-uni-view",{staticClass:"app-top dir-left-nowrap main-center cross-center"},[a("v-uni-view",{staticClass:"app-content dir-left-nowrap main-between cross-center"},[a("v-uni-view",{staticClass:"app-line"}),t.showIcon?a("v-uni-view",{staticClass:"app-icon-love image-cover image-no-rep"}):t._e(),a("v-uni-text",{staticClass:"app-text"},[t._v(t._s(t.text))]),a("v-uni-view",{staticClass:"app-line"})],1)],1):t._e(),a("v-uni-view",{staticClass:"app-bottom dir-top-nowrap"},t._l(t.goods_list,function(e,i){return a("v-uni-view",{key:i,staticClass:"row dir-left-nowrap main-between box-grow-1"},t._l(e,function(e,i){return a("v-uni-view",{key:i,staticClass:"item box-grow-0",on:{click:function(a){a=t.$handleEvent(a),t.route_jump(e)}}},[a("v-uni-view",{staticClass:"image-name dir-top-nowrap main-left"},[a("v-uni-image",{staticClass:"app-image",attrs:{"lazy-load":"true",src:e.cover_pic}}),0==e.goods_stock&&"1"==t.appSetting.is_show_stock?a("v-uni-view",{staticClass:"out-dialog"},[a("v-uni-image",{attrs:{src:"1"==t.appSetting.is_use_stock?t.appImg.book_out:t.appSetting.sell_out_pic}})],1):t._e(),1==t.isShowGoodsName?a("v-uni-view",{staticClass:"name"},[t._v(t._s(e.name))]):t._e()],1),"advance"===t.sign?[a("v-uni-view",{staticClass:"advance-content"},[e.advanceGoods?a("v-uni-view",{staticClass:"deposit",class:t.theme+"-m-back "+t.theme},[t._v("定金￥"+t._s(e.advanceGoods.deposit)+"抵"+t._s(e.advanceGoods.swell_deposit))]):t._e()],1)]:t._e(),a("v-uni-view",{staticClass:"content dir-top-nowrap main-right",class:["advance"!==t.sign?"content-no":"content-yes"]},[1==e.is_level?a("v-uni-view",{staticClass:"member-price"},[a("app-member-price",{attrs:{theme:t.themeObject,price:e.level_price}})],1):t._e(),e.vip_card_appoint.discount?a("v-uni-view",{staticClass:"sup-vip"},[a("app-sup-vip",{attrs:{is_vip_card_user:e.vip_card_appoint.is_vip_card_user,discount:e.vip_card_appoint.discount}})],1):t._e(),a("v-uni-view",{staticClass:"price-total dir-left-nowrap main-between cross-center"},[a("v-uni-view",[a("v-uni-text",{staticClass:"price",class:"gift"!==t.sign?t.theme+"-m-text "+t.theme:t.theme+"-color "},[t._v(t._s("advance"===t.sign?"￥":"")+t._s(e.price_content))]),1==t.isListUnderlinePrice?a("v-uni-text",{staticClass:"origin-price"},[t._v("￥"+t._s(e.original_price))]):t._e()],1),1==t.isShowSalesNum?a("v-uni-view",{staticClass:"volume"},[t._v(t._s(e.sales))]):t._e()],1)],1)],2)}),1)}),1),t.request?t._e():a("app-load-text")],1):t._e()},o=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return o})},d009:function(t,e,a){"use strict";var i=a("b600"),o=a.n(i);o.a}}]);