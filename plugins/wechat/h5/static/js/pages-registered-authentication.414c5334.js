(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-registered-authentication"],{"009f":function(e,t,a){t=e.exports=a("2350")(!1),t.push([e.i,".bd-authentication[data-v-ce5293e0]{min-height:calc(100vh - var(--window-top));background:#fff;padding:%?46?% %?42?%}.bd-iphone[data-v-ce5293e0]{width:%?110?%;height:%?110?%;margin-top:%?54?%}.bd-iphone-text[data-v-ce5293e0]{font-size:%?32?%;font-weight:700;color:#333;margin-top:%?60?%}.bd-prompt[data-v-ce5293e0]{font-size:%?26?%;color:#999;margin-top:%?35?%}.bd-content[data-v-ce5293e0]{border-bottom:%?2?% solid #f4f4f4;padding-bottom:%?65?%}.bd-item[data-v-ce5293e0]{height:%?100?%;border-bottom:%?2?% solid #f4f4f4}.bd-label[data-v-ce5293e0]{width:%?36?%;height:%?36?%;margin:0 %?25?% 0 %?2?%}.bd-btn[data-v-ce5293e0]{border-left:%?1?% solid #f4f4f4;width:%?226?%;height:%?53?%;line-height:%?53?%;font-size:%?32?%;color:#ff4544;text-align:center}.bd-image[data-v-ce5293e0]{width:%?160?%;height:%?67?%}.bd-input[data-v-ce5293e0]{height:%?36?%}.bd-bottom[data-v-ce5293e0]{height:%?88?%;line-height:%?88?%;color:#fff;font-size:%?36?%;border-radius:%?44?%;margin-top:%?68?%;text-align:center}.bd-yes-agree[data-v-ce5293e0]{background:#ff4544}.bd-no-agree[data-v-ce5293e0]{background:rgba(255,69,68,.5)}.bd-agree-group[data-v-ce5293e0]{margin-top:%?42?%}.bd-color[data-v-ce5293e0]{font-size:%?28?%;color:#ff4544}",""])},"1a7e":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"bd-authentication"},[a("v-uni-view",{staticClass:"bd-content dir-top-nowrap cross-center"},[a("v-uni-image",{staticClass:"bd-iphone",attrs:{src:"./image/phone-0.png"}}),a("v-uni-text",{staticClass:"bd-iphone-text"},[e._v("验证当前手机号："+e._s(e._f("setIphone")(e.userInfo&&e.userInfo.mobile)))]),a("v-uni-text",{staticClass:"bd-prompt"},[e._v("为了您的账户安全，请输入验证码")])],1),e.isPassword?[a("v-uni-view",{staticClass:"bd-item dir-left-nowrap cross-center"},[a("v-uni-image",{staticClass:"bd-label box-grow-0",attrs:{src:"./image/password.png"}}),a("v-uni-input",{staticClass:"bd-input box-grow-1",attrs:{placeholder:"请输入密码",type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)]:[a("v-uni-view",{staticClass:"bd-item dir-left-nowrap cross-center"},[a("v-uni-image",{staticClass:"bd-label box-grow-0",attrs:{src:"./image/image.png"}}),a("v-uni-input",{staticClass:"bd-input box-grow-1",attrs:{placeholder:"请输入图形验证码",type:"text"},model:{value:e.pic_captcha,callback:function(t){e.pic_captcha=t},expression:"pic_captcha"}}),a("v-uni-image",{staticClass:"bd-image box-grow-0",attrs:{src:e.imageUrl},on:{click:function(t){t=e.$handleEvent(t),e.getImageUrl(t)}}})],1),a("v-uni-view",{staticClass:"bd-item dir-left-nowrap cross-center"},[a("v-uni-image",{staticClass:"bd-label box-grow-0",attrs:{src:"./image/message.png"}}),a("v-uni-input",{staticClass:"bd-input box-grow-1",attrs:{placeholder:"请输入短消息验证码",type:"text"},model:{value:e.sms_captcha,callback:function(t){e.sms_captcha=t},expression:"sms_captcha"}}),e.isSend?a("v-uni-view",{staticClass:"bd-btn box-grow-0 bd-send"},[e._v("重新发送"+e._s(e.timeNum)+"S")]):a("v-uni-view",{staticClass:"bd-btn box-grow-0",on:{click:function(t){t=e.$handleEvent(t),e.getVerCode(t)}}},[e._v("获取验证码")])],1)],a("v-uni-view",{staticClass:"bd-bottom",class:e.agree?"bd-yes-agree":"bd-no-agree",on:{click:function(t){t=e.$handleEvent(t),e.sign(t)}}},[e._v("确认")]),e.isPassword?e._e():a("v-uni-view",{staticClass:"bd-agree-group dir-right-nowrap cross-center"},[a("v-uni-text",{staticClass:"bd-color",on:{click:function(t){t=e.$handleEvent(t),e.isPassword=!0}}},[e._v("手机收不到验证码？")])],1)],2)},n=[];a.d(t,"a",function(){return i}),a.d(t,"b",function(){return n})},4623:function(e,t,a){"use strict";var i=a("e199"),n=a.n(i);n.a},a5f4:function(e,t,a){"use strict";a.r(t);var i=a("1a7e"),n=a("d85e6");for(var s in n)"default"!==s&&function(e){a.d(t,e,function(){return n[e]})}(s);a("4623");var r=a("2877"),o=Object(r["a"])(n["default"],i["a"],i["b"],!1,null,"ce5293e0",null);t["default"]=o.exports},aa9d4:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a("2f62");function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,i)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(a,!0).forEach(function(t){r(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var o={name:"authentication",data:function(){return{pic_captcha:"",sms_captcha:"",validate_code_id:"",type:"",password:"",imageUrl:"",isSend:!1,timeNum:60,timeIng:0,isPassword:!1}},mounted:function(){this.getImageUrl()},computed:s({agree:function(){return!!(this.pic_captcha&&this.sms_captcha||this.password)}},(0,i.mapState)({userInfo:function(e){return e.user.info}})),methods:{getVerCode:function(){var e=this;this.timeNum=60,this.$request({url:this.$api.registered.sms,method:"post",data:{mobile:this.userInfo.mobile,pic_captcha:this.pic_captcha}}).then(function(t){0===t.code?(e.isSend=!0,e.validate_code_id=t.data.validate_code_id,e.change()):(e.getImageUrl(),uni.showToast({icon:"none",title:t.msg}))})},getImageUrl:function(){var e=this;this.$request({url:this.$api.registered.captcha,data:{refresh:!0}}).then(function(t){e.imageUrl=t.url})},change:function(){var e=this;clearInterval(this.timeIng),this.timeIng=setInterval(function(){e.timeNum--,0===e.timeNum&&(clearInterval(e.timeIng),e.isSend=!1)},1e3)},sign:function(){var e=this;if(this.agree){var t={type:this.type,validate_code_id:this.validate_code_id,password:this.password,sms_captcha:this.sms_captcha};this.isPassword?(t.type="validate_by_password",delete t.validate_code_id,delete t.sms_captcha):(t.type="validate_by_mobile",delete t.password),this.$request({url:this.$api.registered.validate,method:"post",data:t}).then(function(t){0===t.code?uni.redirectTo({url:"/pages/registered/verify-phone?key=".concat(t.data.key)}):(e.getImageUrl(),uni.showToast({icon:"none",title:t.msg}))})}}},beforeDestroy:function(){clearInterval(this.timeIng)},filters:{setIphone:function(e){return e&&e.replace(/^(\d{3})\d{4}(\d{4})$/,"$1****$2")}}};t.default=o},d85e6:function(e,t,a){"use strict";a.r(t);var i=a("aa9d4"),n=a.n(i);for(var s in i)"default"!==s&&function(e){a.d(t,e,function(){return i[e]})}(s);t["default"]=n.a},e199:function(e,t,a){var i=a("009f");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("4f06").default;n("b35955c0",i,!0,{sourceMap:!1,shadowMode:!1})}}]);