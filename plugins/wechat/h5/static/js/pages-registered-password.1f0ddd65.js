(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-registered-password"],{"24b5":function(t,e,a){"use strict";var s=a("402f"),i=a.n(s);i.a},2900:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"bd-password"},[t.isPhone?[a("v-uni-view",{staticClass:"bd-item dir-left-nowrap cross-center"},[a("v-uni-image",{staticClass:"bd-label box-grow-0",attrs:{src:"./image/phone.png"}}),a("v-uni-input",{staticClass:"bd-input box-grow-1",attrs:{placeholder:"请输入手机号",type:"text"},model:{value:t.mobile,callback:function(e){t.mobile=e},expression:"mobile"}})],1),a("v-uni-view",{staticClass:"bd-item dir-left-nowrap cross-center"},[a("v-uni-image",{staticClass:"bd-label box-grow-0",attrs:{src:"./image/image.png"}}),a("v-uni-input",{staticClass:"bd-input box-grow-1",attrs:{placeholder:"请输入图形验证码",type:"text"},model:{value:t.pic_captcha,callback:function(e){t.pic_captcha=e},expression:"pic_captcha"}}),a("v-uni-image",{staticClass:"bd-image box-grow-0",attrs:{src:t.imageUrl},on:{click:function(e){e=t.$handleEvent(e),t.getImageUrl(e)}}})],1),a("v-uni-view",{staticClass:"bd-item dir-left-nowrap cross-center"},[a("v-uni-image",{staticClass:"bd-label box-grow-0",attrs:{src:"./image/message.png"}}),a("v-uni-input",{staticClass:"bd-input box-grow-1",attrs:{placeholder:"请输入短消息验证码",type:"text"},model:{value:t.sms_captcha,callback:function(e){t.sms_captcha=e},expression:"sms_captcha"}}),t.isSend?a("v-uni-view",{staticClass:"bd-btn box-grow-0 bd-send"},[t._v("重新发送"+t._s(t.timeNum)+"S")]):a("v-uni-view",{staticClass:"bd-btn box-grow-0",on:{click:function(e){e=t.$handleEvent(e),t.getVerCode(e)}}},[t._v("获取验证码")])],1)]:a("v-uni-view",{staticClass:"bd-item dir-left-nowrap cross-center"},[a("v-uni-image",{staticClass:"bd-label box-grow-0",attrs:{src:"./image/password.png"}}),a("v-uni-input",{staticClass:"bd-input box-grow-1",attrs:{placeholder:"请输入旧密码",type:"password"},model:{value:t.old_password,callback:function(e){t.old_password=e},expression:"old_password"}})],1),a("v-uni-view",{staticClass:"bd-item dir-left-nowrap cross-center"},[a("v-uni-image",{staticClass:"bd-label box-grow-0",attrs:{src:"./image/password.png"}}),a("v-uni-input",{staticClass:"bd-input box-grow-1",attrs:{placeholder:"请输入新密码",type:"password"},model:{value:t.new_password,callback:function(e){t.new_password=e},expression:"new_password"}})],1),a("v-uni-view",{staticClass:"bd-item dir-left-nowrap cross-center"},[a("v-uni-image",{staticClass:"bd-label box-grow-0",attrs:{src:"./image/password.png"}}),a("v-uni-input",{staticClass:"bd-input box-grow-1",attrs:{placeholder:"请确认新密码",type:"password"},model:{value:t.again_password,callback:function(e){t.again_password=e},expression:"again_password"}})],1),a("v-uni-view",{staticClass:"bd-bottom",class:"bd-yes-agree",on:{click:function(e){e=t.$handleEvent(e),t.modify(e)}}},[t._v("确认")]),t.isPhone?t._e():a("v-uni-view",{staticClass:"bd-agree-group dir-right-nowrap cross-center"},[a("v-uni-text",{staticClass:"bd-color",on:{click:function(e){e=t.$handleEvent(e),t.isPhone=!0}}},[t._v("使用绑定手机验证修改密码")])],1)],2)},i=[];a.d(e,"a",function(){return s}),a.d(e,"b",function(){return i})},"402f":function(t,e,a){var s=a("628b");"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=a("4f06").default;i("6368c22b",s,!0,{sourceMap:!1,shadowMode:!1})},"628b":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".bd-password[data-v-059fd122]{min-height:calc(100vh - var(--window-top));background-color:#fff;padding:%?46?% %?42?%}.bd-item[data-v-059fd122]{height:%?100?%;border-bottom:%?2?% solid #f4f4f4}.bd-label[data-v-059fd122]{width:%?36?%;height:%?36?%;margin:0 %?25?% 0 %?2?%}.bd-input[data-v-059fd122]{height:%?36?%}.bd-image[data-v-059fd122]{width:%?160?%;height:%?67?%}.bd-bottom[data-v-059fd122]{height:%?88?%;line-height:%?88?%;color:#fff;font-size:%?36?%;border-radius:%?44?%;margin-top:%?68?%;text-align:center}.bd-yes-agree[data-v-059fd122]{background:#ff4544}.bd-no-agree[data-v-059fd122]{background:rgba(255,69,68,.5)}.bd-agree-group[data-v-059fd122]{margin-top:%?42?%}.bd-color[data-v-059fd122]{font-size:%?28?%;color:#ff4544}.bd-btn[data-v-059fd122]{border-left:%?1?% solid #f4f4f4;width:%?226?%;height:%?53?%;line-height:%?53?%;font-size:%?32?%;color:#ff4544;text-align:center}",""])},"9e1c":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=a("2f62");function i(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,s)}return a}function n(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?i(a,!0).forEach(function(e){r(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):i(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var o={name:"password",data:function(){return{old_password:"",new_password:"",again_password:"",imageUrl:"",isPhone:!1,sms_captcha:"",timeNum:60,timeIng:0,pic_captcha:"",validate_code_id:"",isSend:!1,mobile:""}},computed:n({},(0,s.mapState)({userInfo:function(t){return t.user.info}})),methods:{modify:function(){var t=this;if(this.again_password=this.again_password.trim(),this.new_password=this.new_password.trim(),this.new_password===this.again_password){var e={old_password:this.old_password,new_password:this.new_password,again_password:this.again_password,validate_code_id:this.validate_code_id,sms_captcha:this.sms_captcha,mobile:this.mobile,type:""};this.isPhone?(delete e.old_password,e.type="u_mobile_password"):(delete e.sms_captcha,delete e.mobile,delete e.validate_code_id,e.type="u_password"),this.$request({url:this.$api.registered.password,method:"post",data:e}).then(function(e){0===e.code?(t.$store.dispatch("user/refreshInfo"),uni.removeStorageSync("_USER_ACCESS_TOKEN"),uni.navigateTo({url:"/pages/registered/sign"})):uni.showToast({icon:"none",title:e.msg})})}else uni.showToast({icon:"none",title:"两次密码不统一"})},getVerCode:function(){var t=this;this.timeNum=60,this.$request({url:this.$api.registered.sms,method:"post",data:{mobile:this.mobile,pic_captcha:this.pic_captcha}}).then(function(e){0===e.code?(t.isSend=!0,t.validate_code_id=e.data.validate_code_id,t.change()):(t.getImageUrl(),uni.showToast({icon:"none",title:e.msg}))})},change:function(){var t=this;clearInterval(this.timeIng),this.timeIng=setInterval(function(){t.timeNum--,0===t.timeNum&&(clearInterval(t.timeIng),t.isSend=!1)},1e3)},getImageUrl:function(){var t=this;this.$request({url:this.$api.registered.captcha,data:{refresh:!0}}).then(function(e){t.imageUrl=e.url})}},mounted:function(){this.getImageUrl()}};e.default=o},d3dc:function(t,e,a){"use strict";a.r(e);var s=a("2900"),i=a("d50b");for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);a("24b5");var r=a("2877"),o=Object(r["a"])(i["default"],s["a"],s["b"],!1,null,"059fd122",null);e["default"]=o.exports},d50b:function(t,e,a){"use strict";a.r(e);var s=a("9e1c"),i=a.n(s);for(var n in s)"default"!==n&&function(t){a.d(e,t,function(){return s[t]})}(n);e["default"]=i.a}}]);