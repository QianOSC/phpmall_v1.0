(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["plugins-clerk-order-order"],{"2a1d":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-layout",[t.toSearch?t._e():i("v-uni-view",{staticStyle:{"z-index":"50"}},[t.is_mall?i("v-uni-view",{staticClass:"status"},[i("v-uni-view",{staticClass:"status-list main-between"},[i("v-uni-view",{class:[1==t.status?"active":"","left-status"],on:{click:function(e){e=t.$handleEvent(e),t.tab(1)}}},[t._v("订单")]),i("v-uni-view",{class:[2==t.status?"active":"","right-status"],on:{click:function(e){e=t.$handleEvent(e),t.tab(2)}}},[t._v("卡券")])],1)],1):t._e(),i("v-uni-view",{class:["search",t.is_mall?"":"no-mall"]},[i("v-uni-view",{staticClass:"main-center search-content cross-center",on:{click:function(e){e=t.$handleEvent(e),t.beSearch(e)}}},[i("v-uni-image",{attrs:{src:"/static/image/icon/icon-search.png"}}),i("v-uni-text",[t._v("搜索")])],1)],1),i("app-tab-nav",{attrs:{setTop:t.setTop,placeHeight:t.placeHeight,setHeight:96,tabList:t.tabList,padding:0,activeItem:t.activeTab},on:{click:function(e){e=t.$handleEvent(e),t.tabStatus(e)}}})],1),t.toSearch?i("v-uni-view",{staticClass:"search-item main-between cross-center"},[i("v-uni-view",{staticClass:"search-input"},[i("v-uni-image",{attrs:{src:"/static/image/icon/icon-search.png"}}),1==t.status&&t.toSearch?i("v-uni-input",{attrs:{focus:"","confirm-type":"search","placeholder-style":"color:#999999;font-size:13px;",placeholder:"输入订单号/商品名称/店铺名称搜索"},on:{confirm:function(e){e=t.$handleEvent(e),t.search(e)}},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}}):t._e(),2==t.status&&t.toSearch?i("v-uni-input",{attrs:{focus:"","confirm-type":"search","placeholder-style":"color:#999999;font-size:13px;",placeholder:"输入卡券名称/用户昵称搜索"},on:{confirm:function(e){e=t.$handleEvent(e),t.search(e)}},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}}):t._e()],1),i("v-uni-view",{on:{click:function(e){e=t.$handleEvent(e),t.cancelSeacrch(e)}}},[t._v("取消")])],1):t._e(),!t.searchResult&&t.toSearch?i("v-uni-view",{class:["search-history",0==t.list.length?"":"go-out"]},[0!=t.candidate.length?i("v-uni-view",{staticClass:"main-between search-title"},[i("v-uni-view",[t._v("历史搜索")]),i("v-uni-view",{on:{click:function(e){e=t.$handleEvent(e),t.clear(e)}}},[i("v-uni-image",{staticClass:"history-img",attrs:{src:"/static/image/icon/delete.png"}})],1)],1):t._e(),i("v-uni-view",{staticClass:"flex-wrap history-list"},t._l(t.candidate,function(e){return i("v-uni-view",{key:e,staticClass:"keyword-item box-grow-0",on:{click:function(i){i=t.$handleEvent(i),t.keywordSearch(e)}}},[i("v-uni-text",{staticClass:"t-omit"},[t._v(t._s(e))])],1)}),1)],1):t._e(),t.toSearch?i("v-uni-view",{staticClass:"search-place"}):t._e(),1==t.status?t._l(t.list,function(e,a){return i("v-uni-view",{key:e.id,staticClass:"item"},[i("v-uni-view",{staticClass:"main-between item-top"},[i("v-uni-view",{staticClass:"shop t-omit"},[i("v-uni-image",{attrs:{src:"./../image/shop.png"}}),i("v-uni-text",[t._v(t._s(e.store.name))])],1),e.clerk_id>0?i("v-uni-view",{staticClass:"item-status"},[t._v("已核销")]):1==e.cancel_status?i("v-uni-view",{staticClass:"item-status"},[t._v("已退款")]):i("v-uni-view",{staticClass:"item-status"},[t._v("未核销")])],1),i("v-uni-view",{on:{click:function(i){i=t.$handleEvent(i),t.toDetail(e.id)}}},t._l(e.detail,function(e){return i("v-uni-view",{key:e.id,staticClass:"goods",style:{"margin-top":(0==a?"0":"12")+"px"}},[i("v-uni-image",{attrs:{src:e.goods.goodsWarehouse.cover_pic}}),i("v-uni-view",{staticClass:"goods-info"},[i("v-uni-view",{staticClass:"goods-name t-omit-two"},[t._v(t._s(e.goods.goodsWarehouse.name))]),i("v-uni-view",{staticClass:"goods-attr  t-omit-two"},t._l(e.attr_list,function(e){return i("v-uni-text",{key:e.id},[t._v(t._s(e.attr_group_name)+":"+t._s(e.attr_name))])}),1),i("v-uni-view",[t._v("x"+t._s(e.num))])],1),i("v-uni-view",{staticClass:"goods-price"},[t._v("￥ "+t._s(e.total_price))])],1)}),1),i("v-uni-view",{staticClass:"total"},[t._v("合计"),i("v-uni-text",[t._v("￥"+t._s(e.total_pay_price))]),t._v("(含运费￥"+t._s(e.express_price)+")")],1),0==e.clerk_id&&1!=e.cancel_status?i("v-uni-view",{staticClass:"dir-right-nowrap"},[e.refund?i("v-uni-view",{staticClass:"refund-text"},[t._v(t._s(e.refund))]):i("v-uni-view",{staticClass:"clerk-btn dir-right-nowrap",on:{click:function(i){i=t.$handleEvent(i),t.toClerk(e.id)}}},[i("v-uni-button",[t._v("核销")])],1)],1):t._e()],1)}):t._e(),2==t.status?t._l(t.list,function(e){return i("v-uni-view",{key:e.id,staticClass:"item card-item"},[i("v-uni-image",{staticClass:"card-img",attrs:{src:e.pic_url}}),i("v-uni-view",{on:{click:function(i){i=t.$handleEvent(i),t.toCardDetail(e.id)}}},[i("v-uni-view",{staticClass:"t-omit-two card-name"},[t._v(t._s(e.name))]),i("v-uni-view",{staticClass:"surplus-number"},[t._v("剩余"+t._s(e.number-e.use_number)+"次")]),i("v-uni-view",{staticClass:"dir-left-nowrap platform cross-center"},[i("v-uni-image",{staticClass:"platform-img",attrs:{src:e.platform_icon}}),i("v-uni-view",[t._v(t._s(e.nickname))])],1)],1),i("v-uni-view",{staticClass:"cross-center card-clerk"},[0==e.is_use&&0==e.receive_id?i("v-uni-view",{staticClass:"clerk-btn dir-right-nowrap",on:{click:function(i){i=t.$handleEvent(i),t.toClerkCard(e.id)}}},[i("v-uni-button",[t._v("核销")])],1):0==e.is_use&&e.receive_id>0?i("v-uni-view",{staticClass:"clerk-btn-1"},[t._v("已转赠")]):i("v-uni-image",{staticClass:"clerked-img",attrs:{src:"./../image/clerked.png"}})],1)],1)}):t._e(),0==t.list.length&&1==t.status?i("v-uni-view",{staticClass:"no-tip"},[i("v-uni-image",{attrs:{src:t.clerkImg.order}}),i("v-uni-view",[t._v("没有任何订单哦~")])],1):t._e(),0==t.list.length&&2==t.status?i("v-uni-view",{staticClass:"no-tip"},[i("v-uni-image",{attrs:{src:t.clerkImg.card}}),i("v-uni-view",[t._v("没有任何卡券哦~")])],1):t._e()],2)},n=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n})},"41e4":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".text-center[data-v-5c26b0e4]{text-align:center}.font-weight[data-v-5c26b0e4]{font-weight:700}.page-width[data-v-5c26b0e4]{width:100%}.goods-hover-class[data-v-5c26b0e4]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-5c26b0e4]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}uni-page-body[data-v-5c26b0e4]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-5c26b0e4]{width:100%}.u-hover-class[data-v-5c26b0e4]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-5c26b0e4]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.app-nav[data-v-5c26b0e4]{color:#353535;width:100%;position:fixed;left:0;background-color:#fff;z-index:11}.app-nav .nav-item[data-v-5c26b0e4]{text-align:center}.app-nav .nav-item uni-text[data-v-5c26b0e4]{display:inline-block}.app-nav .active-text[data-v-5c26b0e4]{border-bottom:%?4?% solid}.app-nav.shadow[data-v-5c26b0e4]{-webkit-box-shadow:0 %?2?% %?10?% rgba(0,0,0,.06);box-shadow:0 %?2?% %?10?% rgba(0,0,0,.06)}.default-m-text[data-v-5c26b0e4]{color:#ff4544}.blue-m-text[data-v-5c26b0e4]{color:#446dfd}body.?%PAGE?%[data-v-5c26b0e4]{background:#f7f7f7}",""])},4864:function(t,e,i){"use strict";var a=i("a9e5"),n=i.n(a);n.a},"70ec":function(t,e,i){var a=i("41e4");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("5142e21b",a,!0,{sourceMap:!1,shadowMode:!1})},"7fd0":function(t,e,i){"use strict";i.r(e);var a=i("92cd"),n=i("86a7");for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);i("e951");var r=i("2877"),s=Object(r["a"])(n["default"],a["a"],a["b"],!1,null,"5c26b0e4",null);e["default"]=s.exports},"86a7":function(t,e,i){"use strict";i.r(e);var a=i("93b4"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);e["default"]=n.a},"8dc0":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".text-center[data-v-0fb057c4]{text-align:center}.font-weight[data-v-0fb057c4]{font-weight:700}.page-width[data-v-0fb057c4]{width:100%}.goods-hover-class[data-v-0fb057c4]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-0fb057c4]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}uni-page-body[data-v-0fb057c4]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-0fb057c4]{width:100%}.u-hover-class[data-v-0fb057c4]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-0fb057c4]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.search[data-v-0fb057c4]{height:%?88?%;padding:%?16?% %?26?%;background-color:#efeff4;position:fixed;top:calc(%?104?% + var(--window-top));left:0;width:100%;z-index:10}.search-place[data-v-0fb057c4]{height:%?120?%;width:100%}.search.no-mall[data-v-0fb057c4]{top:0}.search-content[data-v-0fb057c4]{background-color:#fff;height:%?56?%;border-radius:%?28?%}.search-content uni-image[data-v-0fb057c4]{height:%?24?%;width:%?24?%}.search-content uni-text[data-v-0fb057c4]{color:#b2b2b2;font-size:%?24?%;margin:0 %?5?%}.tab-list[data-v-0fb057c4]{height:%?96?%;position:fixed;top:%?192?%;left:0;right:0;z-index:10;width:100%;background-color:#fff;border-bottom:%?1?% solid #e2e2e2}.tab-list.no-mall[data-v-0fb057c4]{top:%?88?%}.tab-item[data-v-0fb057c4]{text-align:center;font-size:%?28?%;color:#666}.tab-item uni-text[data-v-0fb057c4]{height:%?92?%;line-height:%?92?%;display:inline-block}.tab-item uni-text.active[data-v-0fb057c4]{border-bottom:%?4?% solid #ff4544;color:#ff4544}.status[data-v-0fb057c4]{width:100%;height:%?104?%;background-color:#fff;position:fixed;top:var(--window-top);left:0;right:0;z-index:10}.status-list[data-v-0fb057c4]{width:%?368?%;height:%?56?%;margin:%?24?% auto;border-radius:%?28?%;line-height:%?54?%;font-size:%?24?%;color:#666;background-color:#fff}.status-list uni-view[data-v-0fb057c4]{width:50%;text-align:center;border:%?2?% solid #ff4544}.status-list .active[data-v-0fb057c4]{background-color:#ff4544;height:%?56?%;color:#fff}.item[data-v-0fb057c4]{width:%?702?%;margin:0 %?24?% %?24?%;background-color:#fff;border-radius:%?16?%;padding:%?24?%;position:relative}.item.card-item[data-v-0fb057c4]{padding:%?40?% %?160?% %?40?% %?132?%}.shop[data-v-0fb057c4]{font-size:%?24?%;color:#353535;max-width:%?500?%}.shop uni-image[data-v-0fb057c4]{height:%?24?%;width:%?24?%;margin-right:%?12?%}.goods[data-v-0fb057c4]{height:%?160?%;position:relative}.goods uni-image[data-v-0fb057c4]{height:%?160?%;width:%?160?%;border-radius:%?10?%;float:left;margin-right:%?20?%}.goods-info[data-v-0fb057c4]{font-size:%?24?%;color:#999}.goods-name[data-v-0fb057c4]{color:#353535;height:%?70?%}.goods-price[data-v-0fb057c4]{color:#353535;font-size:%?24?%;position:absolute;bottom:0;right:0}.total[data-v-0fb057c4]{font-size:%?24?%;margin-top:%?28?%;color:#999;text-align:right}.total uni-text[data-v-0fb057c4]{color:#353535;font-size:%?28?%}.clerk-btn uni-button[data-v-0fb057c4]{width:%?138?%;text-align:center;height:%?48?%!important;border-radius:%?24?%;border:%?1?% solid #ff4544;line-height:%?46?%;margin-top:%?28?%;font-size:%?24?%;color:#ff4544;background-color:#fff}.card-clerk .clerk-btn uni-button[data-v-0fb057c4]{margin-top:0}.clerk-btn uni-button[data-v-0fb057c4]:after{border:0}.clerk-btn-1[data-v-0fb057c4]{width:%?138?%;padding:%?8?% 0;text-align:center;color:#ff4544;background-color:#ffecec;font-size:%?24?%}.search-item[data-v-0fb057c4]{height:%?96?%;background-color:#efeff4;padding:0 %?24?%;font-size:%?28?%;color:#00c203;width:100%;position:fixed;top:var(--window-top);left:0;z-index:22}.search-input[data-v-0fb057c4]{height:%?64?%;position:relative;width:%?620?%}.search-input uni-image[data-v-0fb057c4]{height:%?22?%;width:%?22?%;position:absolute;top:%?21?%;left:%?28?%;z-index:10}.search-input uni-input[data-v-0fb057c4]{padding-left:%?62?%;background-color:#fff;border-radius:%?32?%;height:%?64?%;font-size:%?26?%;color:#353535}.search-history[data-v-0fb057c4]{position:fixed;top:0;left:0;right:0;height:100%;background-color:#fff;padding:%?120?% %?4?% %?24?%;font-size:%?28?%;color:#666;z-index:20}.search-title[data-v-0fb057c4]{padding:0 %?20?%;margin-bottom:%?24?%}.keyword-item[data-v-0fb057c4]{height:%?64?%;line-height:%?64?%;padding:0 %?20?%;background-color:#f7f7f7;color:#333;border-radius:%?32?%;font-size:%?28?%;margin-left:%?20?%;margin-bottom:%?20?%;max-width:90%}.scan[data-v-0fb057c4]{position:fixed;bottom:%?80?%;right:0;z-index:30;height:%?116?%;width:%?112?%}.scan uni-button[data-v-0fb057c4]{height:%?116?%!important;width:%?112?%;border-top-left-radius:%?58?%;border-bottom-left-radius:%?58?%;border:%?1?% solid #cdcdcd;border-right:0;background-color:hsla(0,0%,100%,.8);-webkit-box-shadow:0 0 %?10?% #efefef;box-shadow:0 0 %?10?% #efefef;text-align:center}.scan uni-button uni-image[data-v-0fb057c4]{height:%?64?%;width:%?64?%;margin-top:%?26?%}.item .card-img[data-v-0fb057c4]{position:absolute;top:%?40?%;left:%?24?%;width:%?88?%;height:%?88?%;border-radius:50%}.platform[data-v-0fb057c4]{font-size:%?24?%;color:#999;height:%?24?%;margin-top:%?20?%}.platform-img[data-v-0fb057c4]{height:%?24?%;width:%?24?%;margin-right:%?12?%}.card-name[data-v-0fb057c4]{width:%?370?%;font-size:%?28?%;color:#353535}.card-clerk[data-v-0fb057c4]{position:absolute;right:%?24?%;top:0;height:%?168?%}.card-clerk .clerked-img[data-v-0fb057c4]{width:%?120?%;height:%?120?%}.no-tip[data-v-0fb057c4]{position:fixed;top:%?400?%;left:0;right:0;margin:0 auto;color:#666;font-size:%?24?%;width:%?240?%;text-align:center}.no-tip uni-image[data-v-0fb057c4]{height:%?240?%;width:%?240?%;margin-bottom:%?20?%}.left-status[data-v-0fb057c4]{border-top-left-radius:%?28?%;border-bottom-left-radius:%?28?%}.right-status[data-v-0fb057c4]{border-top-right-radius:%?28?%;border-bottom-right-radius:%?28?%}.history-img[data-v-0fb057c4]{height:%?34?%;width:%?28?%}.history-list[data-v-0fb057c4]{max-height:%?420?%;overflow:hidden}.item-top[data-v-0fb057c4]{margin-bottom:%?28?%}.item-top .item-status[data-v-0fb057c4]{font-size:%?24?%;color:#ff4544}.goods-attr[data-v-0fb057c4]{margin-bottom:%?16?%}.goods-attr uni-text[data-v-0fb057c4]{margin-right:%?18?%}.refund-text[data-v-0fb057c4]{font-size:%?24?%;color:#ff4544;margin-top:%?24?%;text-align:right}.surplus-number[data-v-0fb057c4]{font-size:%?24?%;color:#999;margin:%?12?% 0}body.?%PAGE?%[data-v-0fb057c4]{background:#f7f7f7}",""])},"92cd":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{class:[t.shadow?"main-between app-nav shadow":"main-between app-nav"],style:[{"line-height":(t.setHeight?t.setHeight:90)+"rpx","font-size":(t.fontSize?t.fontSize:28)+"rpx",height:(t.setHeight?t.setHeight:90)+"rpx",top:t.setTop>0?"calc("+t.setTop+"rpx + var(--window-top))":"var(--window-top)",backgroundColor:""+(t.background?t.background:"#fff")}]},t._l(t.tabList,function(e){return i("v-uni-view",{key:e.id,staticClass:"box-grow-1 nav-item",style:[{borderBottom:(t.border?1:0)+"rpx solid #e2e2e2"}],attrs:{"data-id":e.id},on:{click:function(e){e=t.$handleEvent(e),t.handleClick(e)}}},[i("v-uni-text",{class:[e.id==t.activeItem?"active-text "+t.theme+"-m-text "+t.theme:""],style:[{height:(t.setHeight?t.setHeight:90)+"rpx",padding:"0 "+t.padding+"rpx"}]},[t._v(t._s(e.name))])],1)}),1),i("v-uni-view",{style:[{height:(t.placeHeight?t.placeHeight:90)+"rpx"}]})],1)},n=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n})},"93b4":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"app-tab-nav",props:{background:String,setTop:{type:[Number,String]},padding:{default:45,type:[Number,String]},setHeight:Number,placeHeight:Number,fontSize:Number,theme:{default:"default",type:String},border:{default:!0,type:Boolean},shadow:{default:!0,type:Boolean},activeItem:{type:[Number,String]},tabList:Array},methods:{handleClick:function(t){this.$emit("click",t)}}};e.default=a},a9e5:function(t,e,i){var a=i("8dc0");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("34c52d57",a,!0,{sourceMap:!1,shadowMode:!1})},af54:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=o(i("7fd0")),n=i("2f62");function o(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,a)}return i}function s(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(i,!0).forEach(function(e){c(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):r(i).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function c(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var d={name:"about",components:{"app-tab-nav":a.default},data:function(){return{activeTab:2,order_list:[{id:2,name:"未核销"},{id:1,name:"已核销"},{id:5,name:"已退款"},{id:3,name:"我的"}],card_list:[{id:2,name:"未核销"},{id:1,name:"已核销"},{id:3,name:"我的"}],tabList:[],candidate:[],status:1,placeHeight:312,setTop:190,more_list:!1,is_mall:!1,toSearch:!1,searchResult:!1,first:!1,keyword:"",list:[]}},computed:s({},(0,n.mapState)({clerkImg:function(t){return t.mallConfig.__wxapp_img.clerk},mall:function(t){return t.mallConfig.mall}})),onLoad:function(t){var e=this;this.status=t.status,t.type>0&&(this.activeTab=t.type),this.$showLoading({type:"global",text:"加载中..."}),this.$request({url:this.$api.clerk.info}).then(function(t){0==t.code?(e.is_mall=t.data.is_mall,t.data.is_mall||(e.placeHeight=210,e.setTop=88),e.list=[],1==e.status?(e.tabList=e.order_list,e.getList(),uni.setNavigationBarTitle({title:"订单"})):2==e.status&&(e.tabList=e.card_list,e.getCard(),uni.setNavigationBarTitle({title:"卡券"}))):uni.redirectTo({url:"/pages/user-center/user-center"})})},onReachBottom:function(){this.more_list&&this.getMore()},onShow:function(t){var e=this,i=this;i.first&&i.$request({url:i.$api.clerk.info}).then(function(t){0==t.code?(i.is_mall=t.data.is_mall,t.data.is_mall||(e.placeHeight=112),1==i.status?(i.getList(),uni.setNavigationBarTitle({title:"订单"})):2==i.status&&(i.getCard(),uni.setNavigationBarTitle({title:"卡券"}))):uni.redirectTo({url:"/pages/user-center/user-center"})}),i.first||(1==i.status?i.getList():2==i.status&&i.getCard())},methods:{getMore:function(){var t,e,i=this;if(i.load)return!1;i.load=!0,1==i.status?3==i.activeTab?(t=i.$api.clerk.my,e={page:i.page}):5==i.activeTab?(t=i.$api.clerk.order,e={status:i.activeTab,keyword_1:8,keyword:i.keyword}):(t=i.$api.clerk.order,e={page:i.page,is_clerk:i.activeTab}):3==i.activeTab?(t=i.$api.clerk.my_card,e={page:i.page}):(t=i.$api.clerk.card,e={page:i.page,is_clerk:i.activeTab}),i.$request({url:t,data:e}).then(function(t){i.$hideLoading(),i.load=!1,0==t.code?(i.list=i.list.concat(t.data.list),i.page++,i.more_list=!1,t.data.list.length==t.data.pagination.pageSize&&(i.more_list=!0),i.list.forEach(function(t){t.refund=null,2==t.cancel_status?t.refund="申请取消中":0==t.is_pay&&(t.refund="订单未支付")})):uni.showToast({title:t.msg,icon:"none",duration:1e3})}).catch(function(t){i.load=!1,i.$hideLoading()})},toClerk:function(t){uni.navigateTo({url:"/pages/order/clerk/clerk?id="+t})},toClerkCard:function(t){uni.navigateTo({url:"/pages/card/clerk/clerk?cardId="+t})},toDetail:function(t){uni.navigateTo({url:"/plugins/clerk/detail/detail?id="+t})},toCardDetail:function(t){uni.navigateTo({url:"/plugins/clerk/detail/detail?card_id="+t})},keywordSearch:function(t){this.keyword=t,this.searchResult=!0,1==this.status?this.getList():this.getCard()},beSearch:function(){this.candidate=uni.getStorageSync("clerk_keyword"),2==this.status&&(this.candidate=uni.getStorageSync("clerk_card_keyword")),this.toSearch=!this.toSearch,this.list=[],this.searchResult=!1,uni.setNavigationBarTitle({title:"搜索"})},cancelSeacrch:function(){this.toSearch=!this.toSearch,this.keyword="",1==this.status?(this.getList(),uni.setNavigationBarTitle({title:"订单"})):(this.getCard(),uni.setNavigationBarTitle({title:"卡券"}))},search:function(){var t=uni.getStorageSync("clerk_keyword");2==this.status&&(t=uni.getStorageSync("clerk_card_keyword")),0!=this.keyword.length&&0!=this.keyword.trim().length?(t.length>0?t.unshift(this.keyword):t=[this.keyword],t.forEach(function(e,i){t[0]==t[i]&&i>0&&t.splice(i,1)}),1==this.status?(uni.setStorage({key:"clerk_keyword",data:t}),this.getList()):(uni.setStorage({key:"clerk_card_keyword",data:t}),this.getCard())):this.keyword=""},clear:function(){var t=this;uni.removeStorage({key:2==this.status?"clerk_card_keyword":"clerk_keyword",success:function(e){t.candidate=[],uni.showToast({title:"清理成功",duration:1e3,type:"success",mask:!1})}})},tabStatus:function(t){var e=this;if(e.load)return!1;uni.showLoading({mask:!0,title:"加载中..."}),e.list=[],e.page=2,e.activeTab=+t.currentTarget.dataset.id,1==this.status?this.getList():this.getCard()},tab:function(t){var e=this;if(e.load)return!1;uni.showLoading({mask:!0,title:"加载中..."}),e.list=[],e.page=2,e.activeTab=2,e.status=t,1==t?(this.tabList=this.order_list,this.getList()):(this.tabList=this.card_list,this.getCard())},getList:function(){var t,e,i=this;if(i.load)return!1;i.load=!0,3==this.activeTab?(t=i.$api.clerk.my,e={keyword_1:8,keyword:this.keyword}):5==this.activeTab?(t=i.$api.clerk.order,e={status:this.activeTab,keyword_1:8,keyword:this.keyword}):(t=i.$api.clerk.order,e={is_clerk:this.activeTab,keyword_1:8,keyword:this.keyword}),i.$request({url:t,data:e}).then(function(t){uni.hideLoading(),i.$hideLoading(),i.load=!1,0==t.code?(i.first=!0,i.list=t.data.list,i.page=2,i.searchResult=!0,i.more_list=!1,t.data.list.length==t.data.pagination.pageSize&&(i.more_list=!0),i.list.forEach(function(t){t.refund=null,2==t.cancel_status?t.refund="申请退款中":0==t.is_pay&&(t.refund="订单未支付")})):uni.showToast({title:t.msg,icon:"none",duration:1e3})}).catch(function(t){i.load=!1,uni.hideLoading(),i.$hideLoading()})},getCard:function(){var t,e,i=this;if(i.load)return!1;i.load=!0,3==this.activeTab?(t=i.$api.clerk.my_card,e={keyword:this.keyword}):(t=i.$api.clerk.card,e={is_clerk:this.activeTab,keyword:this.keyword}),i.$request({url:t,data:e}).then(function(t){i.load=!1,uni.hideLoading(),i.$hideLoading(),0==t.code?(i.list=t.data.list,i.page=2,i.searchResult=!0,i.more_list=!1,t.data.list.length==t.data.pagination.pageSize&&(i.more_list=!0)):uni.showToast({title:t.msg,icon:"none",duration:1e3})}).catch(function(t){i.load=!1,uni.hideLoading(),i.$hideLoading()})}}};e.default=d},b46e:function(t,e,i){"use strict";i.r(e);var a=i("2a1d"),n=i("c5ea");for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);i("4864");var r=i("2877"),s=Object(r["a"])(n["default"],a["a"],a["b"],!1,null,"0fb057c4",null);e["default"]=s.exports},c5ea:function(t,e,i){"use strict";i.r(e);var a=i("af54"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);e["default"]=n.a},e951:function(t,e,i){"use strict";var a=i("70ec"),n=i.n(a);n.a}}]);