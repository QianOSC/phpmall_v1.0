(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["plugins-community-activity-activity"],{"0c80":function(t,i,e){var a=e("a3cf");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=e("4f06").default;n("336a0fd8",a,!0,{sourceMap:!1,shadowMode:!1})},1267:function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAABlBMVEX09PTV1dUeYHV3AAAAFElEQVQoz2MY2aD+//8H+BgjGgAAMQANdT7AwNcAAAAASUVORK5CYII="},2361:function(t,i,e){"use strict";var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",[t.modal?e("u-mask",{attrs:{show:2==t.mallStatus.is_open,zIndex:"3000",maskClickAble:!1,zoom:!1}},[e("v-uni-view",{staticClass:"main-center cross-center",staticStyle:{height:"100%",width:"100%"}},[e("v-uni-view",{staticClass:"open-dialog"},[e("v-uni-view",{staticClass:"open-dialog-title"},[t._v("商家已打烊")]),e("v-uni-view",{staticClass:"open-dialog-content"},[t.list.length>0&&"商城"!=t.list?e("v-uni-view",[t._v(t._s(t.list)+"已经打烊")]):t._e(),t.list?t._e():e("v-uni-view",[t._v("您访问的商家已经打烊")]),t.mallStatus.auto_open_text.length>0?e("v-uni-view",[t._v(t._s(t.mallStatus.auto_open_text))]):t._e()],1),e("v-uni-view",{staticClass:"dialog-button",class:t.getTheme+"-m-text "+t.getTheme,on:{click:function(i){i=t.$handleEvent(i),t.toIndex(i)}}},[t._v("继续浏览")])],1)],1)],1):e("v-uni-view",[2==t.mallStatus.is_open?e("v-uni-view",{staticClass:"dir-left-nowrap cross-center close-tip"},[e("v-uni-image",{attrs:{src:"/static/image/icon/be-close.png"}}),e("v-uni-view",{staticClass:"dir-top-nowrap main-center"},[e("v-uni-view",[t._v("商家已打烊")]),t.mallStatus.auto_open_text.length>0?e("v-uni-view",{staticClass:"close-content"},[t._v(t._s(t.mallStatus.auto_open_text))]):t._e()],1)],1):t._e()],1)],1)},n=[];e.d(i,"a",function(){return a}),e.d(i,"b",function(){return n})},"256d":function(t,i,e){"use strict";e.r(i);var a=e("4e9f"),n=e.n(a);for(var o in a)"default"!==o&&function(t){e.d(i,t,function(){return a[t]})}(o);i["default"]=n.a},"2b6f":function(t,i,e){i=t.exports=e("2350")(!1),i.push([t.i,".text-center[data-v-466eb7c2]{text-align:center}.font-weight[data-v-466eb7c2]{font-weight:700}.page-width[data-v-466eb7c2]{width:100%}.goods-hover-class[data-v-466eb7c2]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-466eb7c2]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}uni-page-body[data-v-466eb7c2]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-466eb7c2]{width:100%}.u-hover-class[data-v-466eb7c2]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-466eb7c2]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.head-bg[data-v-466eb7c2]{width:%?750?%;height:%?360?%}body.?%PAGE?%[data-v-466eb7c2]{background:#f7f7f7}",""])},"2db6":function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAABlBMVEX39/eZmZmXx6vxAAAAFElEQVQoz2MY2aD+//8H+BgjGgAAMQANdT7AwNcAAAAASUVORK5CYII="},"2e07":function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=e("2f62"),n=o(e("6244"));function o(t){return t&&t.__esModule?t:{default:t}}function s(t,i){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);i&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),e.push.apply(e,a)}return e}function r(t){for(var i=1;i<arguments.length;i++){var e=null!=arguments[i]?arguments[i]:{};i%2?s(e,!0).forEach(function(i){c(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):s(e).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))})}return t}function c(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}var d={name:"app-close",components:{uMask:n.default},props:{modal:{type:Boolean,default:function(){return!0}},toBack:{type:Boolean,default:function(){return!1}},mch_id:{type:[Number,String],default:function(){return 0}},mch_list:{type:String,default:function(){return""}}},data:function(){return{mallStatus:{is_open:0,auto_open_text:""},isMall:!0,list:""}},created:function(){var t=this,i={},e="";this.mch_list&&(e=JSON.parse(this.mch_list),e.length>0&&(i.mch_id_list=e,-1==e.indexOf(0)&&(this.isMall=!1))),this.mch_id>0&&(i.mch_id_list=JSON.stringify([this.mch_id]),this.isMall=!1),this.$request({url:this.$api.index.status,data:i}).then(function(i){i.data;if(t.isMall||i.data.shift(),t.mallStatus=i.data[0],t.mch_id>0){var a=!0,n=!1,o=void 0;try{for(var s,r=i.data[Symbol.iterator]();!(a=(s=r.next()).done);a=!0){var c=s.value;c.mch_id==t.mch_id&&(t.mallStatus=c)}}catch(v){n=!0,o=v}finally{try{a||null==r.return||r.return()}finally{if(n)throw o}}}if(e.length>0){t.list="";var d=!0,l=!1,u=void 0;try{for(var h,m=i.data[Symbol.iterator]();!(d=(h=m.next()).done);d=!0){var g=h.value;2==g.is_open&&(t.mallStatus.auto_open_text||(t.mallStatus.auto_open_text=g.auto_open_text),t.mallStatus.is_open=g.is_open,t.list.length>0&&(t.list+="、"),t.list+=g.name)}}catch(v){l=!0,u=v}finally{try{d||null==m.return||m.return()}finally{if(l)throw u}}t.$emit("update",t.mallStatus)}else t.$emit("update",t.mallStatus)})},computed:r({},(0,a.mapGetters)("mallConfig",{getTheme:"getTheme"}),{},(0,a.mapState)({mall:function(t){return t.mallConfig.mall},userInfo:function(t){return t.user.info}})),methods:{toIndex:function(){this.toBack?uni.navigateBack():uni.redirectTo({url:"/pages/index/index"})}}};i.default=d},"327d":function(t,i,e){"use strict";var a=e("a153"),n=e.n(a);n.a},4740:function(t,i,e){var a=e("9b78");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=e("4f06").default;n("3ae980a2",a,!0,{sourceMap:!1,shadowMode:!1})},4807:function(t,i,e){"use strict";e.r(i);var a=e("ebca"),n=e.n(a);for(var o in a)"default"!==o&&function(t){e.d(i,t,function(){return a[t]})}(o);i["default"]=n.a},"4e9f":function(t,i,a){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=a("2f62"),o=d(a("d0d3")),s=d(a("409e")),r=d(a("b4bc")),c=d(a("f0dd"));function d(t){return t&&t.__esModule?t:{default:t}}function l(t,i){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);i&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),e.push.apply(e,a)}return e}function u(t){for(var i=1;i<arguments.length;i++){var e=null!=arguments[i]?arguments[i]:{};i%2?l(e,!0).forEach(function(i){h(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):l(e).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))})}return t}function h(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}var m={data:function(){return{activeIndex:0,nav_list:[],cat_id:-1,id:null,showCart:!1,is_loading:!1,submitLock:!1,recommendDialog:!1,showShare:!1,stopLoad:!1,showOther:!1,more:!1,is_middleman:!1,share:!1,default:!1,inputRemark:!0,cartLength:0,windowHeight:0,is_exist:0,page:1,poster:"",mobile:"",remark:"",d:"",h:"",m:"",s:"",selectAttr:{},animationData:{},animation:{},attr_price:"0.00",number:1,space:"0m",display:"none",attrShow:!1,scrollTop:0,scrollHeight:0,goods:null,timeInterval:null,buyBool:!0,longitude:"",latitude:"",activity:{rate:0},middleman:{},setting:{},recommend:{},list:[],cart:[],user_list:[],template_message_list:[],end_time:"1小时前",title:"",total:"0.00",minus:"0.00",middleman_id:0,first:!0,showClose:!1,is_open:!1}},components:{appShareQrCode:s.default,appHead:o.default,uAttr:r.default,AppClose:c.default},computed:u({},(0,n.mapGetters)("mallConfig",{getTheme:"getTheme"}),{},(0,n.mapState)({community:function(t){return t.mallConfig.__wxapp_img.community},bonusImg:function(t){return t.mallConfig.__wxapp_img.bonus},appImg:function(t){return t.mallConfig.__wxapp_img.mall},appSetting:function(t){return t.mallConfig.mall.setting},userInfo:function(t){return t.user.info}}),{themeObject:function(){return{back:this.getTheme+"-m-back "+this.getTheme,theme:this.getTheme,border:this.getTheme+"-s-border",color:this.getTheme+"-m-text "+this.getTheme,sBack:this.getTheme+"-s-back "+this.getTheme}}}),onLoad:function(t){var i=this;t.activity_id&&(this.id=t.activity_id),t.id&&(this.id=t.id),this.title=t.title,uni.setNavigationBarTitle({title:t.title}),uni.getSystemInfo({success:function(t){i.windowHeight=t.windowHeight}}),i.$jwx.isWechat()?i.$jwx.getLocation({success:function(a){i.longitude=e.longitude,i.latitude=e.latitude,uni.getStorage({key:"middleman_info",success:function(e){e.data&&e.data.id>0&&(t.middleman_id?(i.middleman_id=t.middleman_id,i.share=!0):i.middleman_id=e.data.user_id)},fail:function(){t.middleman_id&&(i.middleman_id=t.middleman_id,i.share=!0)}}),i.$showLoading({type:"global",text:"加载中..."}),i.getSetting()},fail:function(){uni.showToast({title:"请开启手机位置权限",icon:"none",duration:1e3})}}):(i.longitude=11,i.latitude=22,uni.getStorage({key:"middleman_info",success:function(e){e.data&&e.data.id>0&&(t.middleman_id?(i.middleman_id=t.middleman_id,i.share=!0):i.middleman_id=e.data.user_id)},fail:function(){t.middleman_id&&(i.middleman_id=t.middleman_id,i.share=!0)}}),i.$showLoading({type:"global",text:"加载中..."}),i.getSetting()),i.$jwx.getLocation({success:function(e){uni.hideLoading(),i.longitude=e.longitude,i.latitude=e.latitude,uni.getStorage({key:"middleman_info",success:function(e){e.data&&e.data.id>0&&(t.middleman_id?(i.middleman_id=t.middleman_id,i.share=!0):i.middleman_id=e.data.user_id)},fail:function(){t.middleman_id&&(i.middleman_id=t.middleman_id,i.share=!0)}}),i.$showLoading({type:"global",text:"加载中..."}),i.getSetting()},fail:function(){uni.showToast({title:"请开启手机位置权限",icon:"none",duration:1e3})}})},onUnload:function(){this.stopLoad=!0,clearInterval(this.timeInterval)},onHide:function(){this.stopLoad=!0,clearInterval(this.timeInterval)},onShow:function(){var t=this;this.stopLoad&&(this.stopLoad=!1,uni.getStorage({key:"bind",success:function(i){i.data>0?(t.$showLoading({type:"global",text:"加载中..."}),t.middleman={},t.middleman_id=0,uni.getStorage({key:"middleman_info",success:function(i){i.data&&i.data.id>0&&(t.middleman_id=i.data.user_id),t.getActivity("reload")},fail:function(){t.getActivity("reload")}}),uni.removeStorage({key:"bind"})):t.getActivity("reload")},fail:function(){t.getActivity()}}))},methods:{hShareAppMessage:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.$shareAppMessage({title:this.setting.app_share_title?this.setting.app_share_title:this.title,imageUrl:this.setting.app_share_pic?this.setting.app_share_pic:this.list[0].cover_pic,path:"/plugins/community/activity/activity",params:{id:this.id,user_id:this.userInfo.options.user_id,middleman_id:this.middleman.user_id}},t)},changeStatus:function(t,i){this.cat_id=t,this.page=1,this.activeIndex=i<2?0:i-2,uni.showLoading({mask:!0,title:"加载中"}),this.getList(this.middleman.user_id)},requestCats:function(t){var i=this;this.$request({url:this.$api.community.cats,data:{id:this.id,middleman_id:t||this.middleman.user_id}}).then(function(e){0===e.code&&(i.nav_list=e.data.list,i.getList(t))})},toSubmit:function(){var t=this;this.showClose=!1,setTimeout(function(){t.showClose=!0})},getMall:function(t){this.is_open=1==t.is_open,this.is_open&&this.allBuy()},scroll:function(t){this.scrollHeight=t.detail.scrollTop},getMore:function(){this.more&&(this.page++,uni.showLoading({mask:!0,title:"加载更多"}),this.getOther(),this.more=!1)},getOther:function(){var t=this,i={id:t.id,middleman_id:t.middleman.user_id,page:t.page};t.cat_id>0&&(i.cat_id=t.cat_id),t.$request({url:t.$api.community.activity_goods,data:i}).then(function(i){uni.hideLoading(),t.$hideLoading(),0===i.code&&(20===i.data.list.length&&(t.more=!0),t.list=t.list.concat(i.data.list))})},openCart:function(){this.showCart=!this.showCart,this.stopLoad=!0,0==this.showCart&&(this.stopLoad=!1,this.getActivity())},toList:function(){if("0"===this.middleman.is_allow_change)return!1;uni.navigateTo({url:"/plugins/community/captain/captain?longitude="+this.longitude+"&latitude="+this.latitude})},showHiddenClick:function(){this.showShare=!this.showShare},toGoods:function(t){this.stopLoad=!0,uni.navigateTo({url:"/plugins/community/goods/goods?goods_id="+t.id+"&middleman_id="+this.middleman.user_id})},toIndex:function(){this.stopLoad=!0,uni.navigateTo({url:"/plugins/community/index/index"})},toOrder:function(){this.stopLoad=!0,uni.navigateTo({url:"/plugins/community/order/order?is_user=1"})},toUser:function(){this.stopLoad=!0,uni.navigateTo({url:"/pages/user-center/user-center"})},toActivity:function(){this.stopLoad=!0,uni.redirectTo({url:"/plugins/community/activity/activity?id="+this.recommend.activity_id})},attr:function(t){console.log(t),this.selectAttr=t.item,this.number=t.number,this.attr_price=(+this.selectAttr.price*+this.number).toFixed(2)},imgLoad:function(){this.is_loading=!0},allBuy:function(){var t=this;return!this.submitLock&&(this.showCart=!1,this.scrollTop=this.scrollHeight,this.default?(this.$nextTick().then(function(){t.scrollTop=9999999,t.default=!1}),uni.showToast({title:"请确认手机号",icon:"none",duration:1e3}),!1):void(11==this.mobile.length&&/0?(1)[0-9]{10}/.test(this.mobile)?this.$subscribe(this.template_message_list).then(function(i){t.submit()}).catch(function(){t.submit()}):(this.$nextTick().then(function(){t.scrollTop=9999999}),this.stopLoad=!1,this.getActivity(),uni.showToast({title:"请输入正确的手机号码",icon:"none",duration:1e3}))))},submit:function(){var t=this;uni.showLoading({mask:!0,title:"提交订单..."}),this.stopLoad=!0,this.submitLock=!0;var i=[];for(var e in this.cart)if(1==this.cart[e].is_exist){var a={};a.id=this.cart[e].goods_id,a.goods_attr_id=this.cart[e].goods_attr_id,a.num=this.cart[e].num,a.cart_id=this.cart[e].id,a.attr=this.cart[e].attr_list,a.cat_id=0,a.form_data=[],i.push(a)}if(0===i.length)return uni.showToast({title:"请添加有效商品",icon:"none",duration:1e3}),!1;var n=[{mch_id:0,activity_id:this.id,middleman_id:this.middleman.user_id,goods_list:i,distance:0,remark:this.remark,order_form:[],use_integral:0,user_coupon_id:0}],o={};o.list=n,o.address_id=0,o.address={name:this.userInfo.nickname,mobile:this.mobile},this.$request({url:this.$api.community.order_submit,data:{form_data:JSON.stringify(o)},method:"post"}).then(function(i){0===i.code?t.getPayOrderId(i.data.queue_id,i.data.token):(t.submitLock=!1,t.stopLoad=!1,uni.hideLoading(),uni.showModal({title:"提示",content:i.msg,showCancel:!1}))}).catch(function(i){t.submitLock=!1,t.stopLoad=!1,uni.hideLoading(),uni.showModal({title:"提示",content:i.errMsg,showCancel:!1})})},getPayOrderId:function(t,i){var e=this;this.$request({url:this.$api.order.pay_data,method:"post",data:{queue_id:t,token:i}}).then(function(a){0===a.code?a.data.retry&&1===a.data.retry?e.getPayDataTimer=setTimeout(function(){e.getPayOrderId(t,i)},1e3):(uni.hideLoading(),e.cart=[],e.pay(a.data)):(e.submitLock=!1,uni.hideLoading(),uni.showModal({title:"提示",content:a.msg,showCancel:!1}))}).catch(function(t){e.submitLock=!1,uni.hideLoading(),uni.showModal({title:"提示",content:t.errMsg,showCancel:!1})})},pay:function(t){var i=this;uni.removeStorage({key:"middleman_info"}),this.$payment.pay(t.id).then(function(){i.submitLock=!1;var e="/plugins/community/order/order";uni.navigateTo({url:"/pages/order-submit/pay-result?payment_order_union_id=".concat(t.id,"&order_page_url=").concat(e)})}).catch(function(){i.submitLock=!1,i.toOrder()})},_calcValue:function(t,i){"minus"===i?this.cart[t].num--:"plus"===i&&this.cart[t].num++,this._onBlur(t)},_onBlur:function(t){for(var i in this.total=0,this.cartLength=0,this.cart)this.total=+this.total+ +this.cart[i].price*this.cart[i].num,this.cartLength+=+this.cart[i].num;var e=0;for(var a in this.activity.full_price)(+this.activity.full_price[a].full_price<+this.total||+this.activity.full_price[a].full_price==+this.total)&&this.activity.full_price[a].reduce_price>e&&(e=+this.activity.full_price[a].reduce_price);this.total=(+this.total-e).toFixed(2),this.minus=e.toFixed(2),0==this.cart[t].num?this.delCart(t):this.$request({url:this.$api.community.cart_edit,data:{list:JSON.stringify(this.cart)}})},clearAll:function(){var t=this,i=[];for(var e in this.cart)i.push(this.cart[e].id);this.cart=[],this.showCart=!1,this.$request({url:this.$api.community.cart_delete,data:{cart_id_list:JSON.stringify(i)}}).then(function(){t.stopLoad=!1,t.getActivity()})},delCart:function(t){var i=this,e=[];for(var a in e.push(this.cart[t].id),this.cart.splice(t,1),this.total=0,this.cartLength=0,this.cart)this.total=+this.total+ +this.cart[a].price*this.cart[a].num,this.cartLength+=+this.cart[a].num;var n=0;for(var o in this.activity.full_price)(+this.activity.full_price[o].full_price<+this.total||+this.activity.full_price[o].full_price==+this.total)&&this.activity.full_price[o].reduce_price>n&&(n=+this.activity.full_price[o].reduce_price);this.total=(+this.total-n).toFixed(2),this.minus=n.toFixed(2),0===this.cart.length&&(this.showCart=!1),this.$request({url:this.$api.community.cart_delete,data:{cart_id_list:e}}).then(function(){i.stopLoad=!1,i.getActivity()}).catch(function(){i.attrShow=!1,uni.hideLoading()})},add:function(){var t=this;uni.showLoading({mask:!0,title:"加入购物车"});var i={activity_id:this.id,goods_id:this.selectAttr.goods_id,goods_attr_id:this.selectAttr.id,num:this.number};this.$request({url:this.$api.community.cart_add,data:i,method:"post"}).then(function(i){0===i.code?t.addResult(i.data.queue_id,i.data.token):(uni.hideLoading(),t.attrShow=!1,uni.showToast({title:i.msg,icon:"none",duration:1e3}))}).catch(function(){t.attrShow=!1,uni.hideLoading()})},addResult:function(t,i){var e=this;this.$request({url:this.$api.community.cart_result,method:"post",data:{queue_id:t,token:i}}).then(function(a){if(0===a.code)if(a.data&&1===a.data.retry)e.getResult=setTimeout(function(){e.addResult(t,i)},1e3);else{e.attrShow=!1;var n=-1;for(var o in e.cart)e.cart[o].goods_id==e.selectAttr.goods_id&&e.cart[o].goods_attr_id==e.selectAttr.id&&(n=o);if(n>-1)e.cart[n].num+=+e.number;else{var s={activity_id:e.id,community_goods_id:e.goods.id,goods_id:e.selectAttr.goods_id,goods_attr_id:e.selectAttr.id,num:e.number,name:e.goods.name,attr_list:e.selectAttr.attr_list,pic_url:e.selectAttr.pic_url,id:0,price:e.selectAttr.price,is_exist:1};e.cart.push(s)}e.total=0,e.cartLength=0;var r=!0,c=!1,d=void 0;try{for(var l,u=e.cart[Symbol.iterator]();!(r=(l=u.next()).done);r=!0){var h=l.value;e.total=+e.total+ +h.price*h.num,e.cartLength+=+h.num}}catch(v){c=!0,d=v}finally{try{r||null==u.return||u.return()}finally{if(c)throw d}}var m=0;for(var g in e.activity.full_price)(+e.activity.full_price[g].full_price<+e.total||+e.activity.full_price[g].full_price==+e.total)&&e.activity.full_price[g].reduce_price>m&&(m=+e.activity.full_price[g].reduce_price);e.total=(+e.total-m).toFixed(2),e.minus=m.toFixed(2),uni.hideLoading(),setTimeout(function(){e.goods=null})}else uni.hideLoading(),uni.showModal({title:"提示",content:a.msg,showCancel:!1})}).catch(function(t){e.attrShow=!1,uni.hideLoading(),uni.showModal({title:"提示",content:t.errMsg,showCancel:!1})})},toBuy:function(t){this.selectAttr=null,this.goods=t,this.attrShow=!0},getCart:function(){var t=this;if(t.stopLoad)return!1;t.$request({url:t.$api.community.cart,data:{middleman_id:t.middleman.user_id,activity_id:t.activity.id}}).then(function(i){if(t.stopLoad)return!1;if(0===i.code){for(var e in t.total=0,t.cartLength=0,t.cart=i.data.list,t.is_exist=0,t.cart)0==t.cart[e].is_exist&&t.is_exist++,t.total=+t.total+ +t.cart[e].price*t.cart[e].num,t.cartLength+=+t.cart[e].num;var a=0;for(var n in t.activity.full_price)(+t.activity.full_price[n].full_price<+t.total||+t.activity.full_price[n].full_price==+t.total)&&t.activity.full_price[n].reduce_price>a&&(a=+t.activity.full_price[n].reduce_price);t.total=(+t.total-a).toFixed(2),t.minus=a.toFixed(2)}else t.stopLoad=!0,uni.showToast({title:i.msg,icon:"none",duration:1e3}),"所选活动已下架"===i.msg&&setTimeout(function(){uni.navigateBack({})},1e3)}).catch(function(){t.$hideLoading()})},getTime:function(t){t>86399?(this.d=Math.floor(t/86400),t-=86400*this.d):this.d=0,t>3599?(this.h=Math.floor(t/3600),this.h<10&&(this.h="0"+this.h),t-=3600*this.h):this.h="00",t>59?(this.m=Math.floor(t/60),this.m<10&&(this.m="0"+this.m),t-=60*this.m):this.m="00",t<60&&(this.s=t,this.s<10&&(this.s="0"+this.s))},getSetting:function(){var t=this;t.$request({url:t.$api.community.setting}).then(function(i){if(0===i.code){switch(t.head=t.community.a,t.getTheme){case"b":t.head=t.community.b;break;case"c":t.head=t.community.c;break;case"d":t.head=t.community.d;break;case"e":t.head=t.community.e;break;case"g":t.head=t.community.g;break;case"h":t.head=t.community.h;break;case"i":t.head=t.community.i;break}t.setting=i.data,t.getActivity()}else t.$hideLoading(),uni.showToast({title:i.msg,icon:"none",duration:1e3})}).catch(function(){t.$hideLoading()})},getList:function(t){var i=this,e={type:1,id:i.id};e.middleman_id=t||i.middleman.user_id,i.cat_id>0&&(e.cat_id=i.cat_id),i.$request({url:i.$api.community.activity_goods,data:e}).then(function(t){if(uni.hideLoading(),i.$hideLoading(),0===t.data.list.length)return i.page=1,i.stopLoad=!0,uni.showToast({title:"活动商品异常，正在返回活动主页",icon:"none",duration:1e3}),setTimeout(function(){uni.redirectTo({url:"/plugins/community/list/list"})},1e3),!1;i.list=t.data.list,t.data.list.length<20?i.more=!1:i.more=!0})},getActivity:function(t){var i=this,e={id:i.id,longitude:i.longitude,latitude:i.latitude};i.middleman_id>0&&(e.middleman_id=i.middleman_id),i.$request({url:i.$api.community.user_activity,data:e}).then(function(e){if(0===e.code){if(0!=i.nav_list.length&&"reload"!=t||i.requestCats(e.data.middleman_info.user_id),!i.mobile&&e.data.last_mobile&&(i.mobile=e.data.last_mobile,i.default=!0),i.activity=e.data.activity,i.is_middleman=e.data.is_middleman,i.middleman=e.data.middleman_info,0==i.middleman_id&&uni.getStorage({key:"middleman_info",success:function(t){t.data&&t.data.id>0&&(i.middleman=t.data)}}),i.space=~~i.middleman.distance+"m",i.middleman.distance>1e3&&(i.space=(i.middleman.distance/1e3).toFixed(1)+"km"),i.share&&uni.setStorage({key:"middleman_info",data:i.middleman}),i.user_list=e.data.user_list,i.user_list.length>i.activity.user_num&&(i.user_list=i.user_list.slice(0,i.activity.user_num)),i.template_message_list=e.data.template_message_list,1==i.activity.activity_status){i.stopLoad||setTimeout(function(){i.getActivity()},8e3),i.getCart();var a=Math.floor(i.user_list[i.user_list.length-1].time/60);i.end_time=a>60?"1小时前":0==a?"刚刚":a+"分钟前"}if(2==i.activity.activity_status&&e.data.recommend_activity.activity_id>0&&setTimeout(function(){i.recommend=e.data.recommend_activity,i.recommendDialog=!0;var t=uni.createAnimation({duration:1e3,timingFunction:"ease"});i.animation=t,setTimeout(function(){t.bottom(0).step(),i.animationData=t.export(),setTimeout(function(){i.showOther=!0},1500)},200)},800),i.activity.time>0){var n=i.activity.time;i.timeInterval=setInterval(function(){i.getTime(n),n--,0==n&&(clearInterval(i.timeInterval),i.getActivity())},1e3)}}else i.stopLoad=!0,"周边没有活动可参加"===e.msg?(uni.showToast({title:"周边没有活动可参加，正在返回活动主页",icon:"none",duration:1e3}),setTimeout(function(){uni.redirectTo({url:"/plugins/community/list/list"})},1e3)):uni.showToast({title:e.msg,icon:"none",duration:1e3})}).catch(function(){uni.hideLoading(),i.$hideLoading()})}}};i.default=m},"5a20":function(t,i,e){"use strict";e.r(i);var a=e("2e07"),n=e.n(a);for(var o in a)"default"!==o&&function(t){e.d(i,t,function(){return a[t]})}(o);i["default"]=n.a},"7b02":function(t,i,e){"use strict";var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("app-layout",[e("v-uni-scroll-view",{style:{height:t.windowHeight+"px"},attrs:{"scroll-top":t.scrollTop,"scroll-y":""},on:{scrolltolower:function(i){i=t.$handleEvent(i),t.getMore(i)},scroll:function(i){i=t.$handleEvent(i),t.scroll(i)}}},[t.getTheme?e("app-head",{attrs:{theme:t.getTheme}}):t._e(),e("v-uni-view",{staticClass:"middleman dir-top-nowrap main-center",on:{click:function(i){i=t.$handleEvent(i),t.toList(i)}}},[e("v-uni-view",{staticClass:"location t-omit"},[t._v(t._s(t.middleman.location))]),t.middleman.id>0?e("v-uni-view",{staticClass:"middleman-info dir-left-nowrap"},[e("v-uni-image",{staticClass:"avatar",attrs:{src:t.middleman.avatar}}),e("v-uni-view",{staticClass:"user-info"},[e("v-uni-view",{staticClass:"t-omit"},[t._v(t._s(t.middleman.name)+" "+t._s(t.setting.middleman)+" "+t._s(t.middleman.mobile))]),e("v-uni-view",[e("v-uni-image",{staticClass:"icon",attrs:{src:"./../image/address.png"}}),e("v-uni-text",[t._v("提货地址:"+t._s(t.middleman.province)),t.middleman.province!=t.middleman.city?e("v-uni-text",[t._v(t._s(t.middleman.city))]):t._e(),t._v(t._s(t.middleman.district)+t._s(t.middleman.detail))],1)],1)],1)],1):t._e(),1==t.middleman.is_allow_change?e("v-uni-view",{staticClass:"space"},[t._v("距离最近"+t._s(t.space))]):t._e(),1==t.middleman.is_allow_change?e("v-uni-image",{staticClass:"arrow-image",attrs:{src:"/static/image/icon/arrow-right-white.png"}}):t._e()],1),t.activity.time>0?e("v-uni-view",{staticClass:"time dir-left-nowrap cross-center"},[e("v-uni-image",{staticClass:"icon",attrs:{src:"./../image/timeline.png"}}),e("v-uni-view",[t._v("距离本次团购活动开始还有"+t._s(t.d)+"天"+t._s(t.h)+"时"+t._s(t.m)+"分"+t._s(t.s)+"秒")])],1):t._e(),2==t.activity.activity_status?e("v-uni-view",{staticClass:"time"},[e("v-uni-text",[t._v("团购已结束，下次记得早点来哦")])],1):t._e(),3==t.activity.activity_status?e("v-uni-view",{staticClass:"time"},[e("v-uni-text",[t._v("本次团购活动已经下架")])],1):t._e(),1==t.activity.activity_status?e("v-uni-view",{staticClass:"status-area"},[e("v-uni-view",{staticClass:"status dir-top-nowrap main-center cross-center"},[0==t.activity.condition?e("v-uni-view",{staticClass:"end-time"},[t._v(t._s(t.activity.end_at)+"结束")]):e("v-uni-view",{staticClass:"condition main-between"},[e("v-uni-view",[t.activity.num-t.activity.condition_count>0?e("v-uni-text",[t._v("还差"),e("v-uni-text",{staticClass:"end-time"},[t._v(t._s(t.activity.num-t.activity.condition_count))]),t._v(t._s(1==t.activity.condition?"人":"件商品"))],1):t._e(),t._v("拼团成功")],1),e("v-uni-view",{staticClass:"end-time"},[t._v(t._s(t.activity.end_at)+"结束")])],1),t.activity.condition>0?e("v-uni-view",{staticClass:"progress"},[e("v-uni-view",{style:{width:t.activity.rate+"%",backgroundImage:"url("+t.bonusImg.progress+")"}})],1):t._e(),e("v-uni-view",{staticClass:"main-center cross-center buy-user"},[e("v-uni-view",{staticClass:"user-list dir-right-nowrap"},t._l(t.user_list,function(t,i){return e("v-uni-image",{key:i,staticClass:"avatar",attrs:{src:t.avatar}})}),1),e("v-uni-view",{staticClass:"sales"},[e("v-uni-text",[t._v(t._s(t.activity.user_num))]),t._v("人已抢"),e("v-uni-text",[t._v(t._s(t.activity.all_sales>t.activity.condition_count?t.activity.all_sales:t.activity.condition_count))]),t._v("件")],1)],1),t.user_list.length>0?e("v-uni-view",{staticClass:"main-center cross-center new-buy"},[e("v-uni-image",{staticClass:"avatar",attrs:{src:t.user_list[t.user_list.length-1].avatar}}),e("v-uni-view",[t._v(t._s(t.end_time)+"参与团购")])],1):t._e()],1)],1):t._e(),e("v-uni-scroll-view",{directives:[{name:"show",rawName:"v-show",value:t.activity.id>0,expression:"activity.id > 0"}],staticClass:"app-scroll",class:t.activity.time>0||2==t.activity.activity_status?"no-ing "+t.themeObject.theme:t.themeObject.theme,attrs:{"scroll-into-view":"scroll-"+t.activeIndex,"scroll-with-animation":"","scroll-x":""}},t._l(t.nav_list,function(i,a){return e("v-uni-text",{key:i.id,staticClass:"app-item",class:t.cat_id==i.id?"app-active-item "+t.themeObject.color+" "+t.themeObject.border:"",attrs:{id:"scroll-"+a},on:{click:function(e){e=t.$handleEvent(e),t.changeStatus(i.id,a)}}},[t._v(t._s(i.name))])}),1),e("v-uni-view",{staticClass:"list"},t._l(t.list,function(i){return e("v-uni-view",{key:i.id,staticClass:"goods dir-left-nowrap",on:{click:function(e){e=t.$handleEvent(e),t.toGoods(i)}}},[0===i.goods_stock?e("v-uni-view",{staticClass:"out-dialog"},[e("v-uni-image",{attrs:{src:"1"==t.appSetting.is_use_stock?t.appImg.plugins_out:t.appSetting.sell_out_pic}})],1):t._e(),e("v-uni-image",{staticClass:"cover",attrs:{mode:"aspectFill",src:i.cover_pic}}),e("v-uni-view",{staticClass:"info"},[e("v-uni-view",{staticClass:"name t-omit-two"},[t._v(t._s(i.name))]),e("v-uni-view",{staticClass:"sale",class:t.getTheme+"-m-text "+t.getTheme+" "+t.getTheme+"-m-border"},[e("v-uni-view",{staticStyle:{position:"relative"}},[t._v(t._s(i.sales)),e("v-uni-view",{staticClass:"sale-bg",class:t.getTheme+"-m-back "+t.getTheme})],1),e("v-uni-view",{staticClass:"stock"},[t._v("剩"+t._s(i.goods_stock)+t._s(i.goodsWarehouse.unit))])],1),e("v-uni-view",{staticClass:"price",class:t.getTheme+"-m-text "+t.getTheme},[t._v("￥"+t._s(i.min_price))]),t.activity&&1==t.activity.activity_status&&i.goods_stock>0?e("v-uni-view",{staticClass:"cart",class:t.getTheme+"-m-back "+t.getTheme,on:{click:function(e){e.stopPropagation(),e=t.$handleEvent(e),t.toBuy(i)}}}):t._e()],1)],1)}),1),t.showCart&&t.cart.length>0?e("v-uni-view",{staticClass:"bg",on:{click:function(i){i=t.$handleEvent(i),t.openCart(i)}}},[e("v-uni-view",{staticClass:"dialog cart-dialog",staticStyle:{padding:"0"},on:{click:function(i){i.stopPropagation(),i=t.$handleEvent(i)}}},[t.activity.full_price.length>0?e("v-uni-view",{staticClass:"cart-discount main-center"},t._l(t.activity.full_price,function(i,a){return e("v-uni-view",{key:a,class:t.getTheme+"-m-text "+t.getTheme},[e("v-uni-view",{staticClass:"discount-bg",class:t.getTheme+"-m-back "+t.getTheme}),a>0?e("v-uni-text",[t._v(",")]):t._e(),t._v("满"+t._s(i.full_price)+"减"+t._s(i.reduce_price))],1)}),1):t._e(),e("v-uni-view",{staticClass:"title main-between"},[e("v-uni-view",[t._v("已选商品")]),e("v-uni-view",{staticClass:"dir-right-nowrap cross-center",on:{click:function(i){i.stopPropagation(),i=t.$handleEvent(i),t.clearAll(i)}}},[e("v-uni-view",{staticStyle:{color:"#999999"}},[t._v("清空购物车")]),e("v-uni-image",{attrs:{src:"/static/image/icon/delete.png"}})],1)],1),e("v-uni-view",{staticClass:"goods-list"},t._l(t.cart,function(i,a){return i.num>0||""==i.num?e("v-uni-view",{key:i.id,staticClass:"goods dir-left-nowrap"},[e("v-uni-image",{staticClass:"cover",attrs:{mode:"aspectFill",src:i.pic_url}}),e("v-uni-view",{staticClass:"info"},[e("v-uni-view",{staticClass:"name t-omit-two",style:{color:1==i.is_exist?"#353535":"#999999"}},[t._v(t._s(i.name))]),e("v-uni-view",{staticClass:"attr"},t._l(i.attr_list,function(i,a){return e("v-uni-text",{key:a,staticClass:"attr-group"},[t._v(t._s(i.attr_group_name)+"："+t._s(i.attr_name))])}),1),e("v-uni-view",{staticStyle:{height:"60rpx"}}),1==i.is_exist?e("v-uni-view",{staticClass:"price",class:t.getTheme+"-m-text "+t.getTheme},[t._v("￥"+t._s(i.price))]):e("v-uni-view",{staticClass:"price",staticStyle:{color:"#353535"}},[t._v("商品已失效")]),e("v-uni-view",{staticClass:"app-add-subtract dir-left-nowrap cross-center"},[e("v-uni-image",{staticClass:"app-icon",attrs:{src:0==i.is_exist?"/static/image/cart/unreducible.png":"/static/image/icon/subtract.png"},on:{click:function(i){i.stopPropagation(),i=t.$handleEvent(i),t._calcValue(a,"minus")}}}),e("v-uni-view",{staticClass:"app-value"},[1==i.is_exist?e("v-uni-input",{attrs:{type:"number"},on:{blur:function(i){i.stopPropagation(),i=t.$handleEvent(i),t._onBlur(a)}},model:{value:i.num,callback:function(e){t.$set(i,"num",e)},expression:"item.num"}}):e("v-uni-view",[t._v(t._s(i.num))])],1),e("v-uni-image",{directives:[{name:"show",rawName:"v-show",value:t.is_loading,expression:"is_loading"}],staticClass:"app-icon",class:[t.getTheme+"-m-back",t.getTheme],attrs:{src:i.num>=99||0==i.is_exist?"/static/image/cart/can-add.png":"/static/image/icon/add-but.png"},on:{load:function(i){i=t.$handleEvent(i),t.imgLoad(i)},click:function(i){i.stopPropagation(),i=t.$handleEvent(i),t._calcValue(a,"plus")}}})],1)],1)],1):t._e()}),1),t.is_exist?e("v-uni-view",{staticClass:"discount main-center",staticStyle:{"background-color":"#f0f0f0",color:"#999999"}},[e("v-uni-view",[t._v(t._s(t.is_exist)+"件商品已失效")])],1):t._e(),e("v-uni-view",{staticClass:"cart-placeholder cart-list-placeholder",class:{"again-placeholder":t.is_exist}})],1)],1):t._e(),t.cart.length>0&&1==t.activity.activity_status?e("v-uni-view",{staticClass:"input-info",attrs:{id:"input"}},[e("v-uni-view",{staticClass:"input-item"},[e("v-uni-view",{staticClass:"input-label"},[t._v("手机号")]),e("v-uni-view",{staticClass:"input"},[e("v-uni-input",{attrs:{"placeholder-style":"color:#999999",type:"number",placeholder:"请输入手机号"},model:{value:t.mobile,callback:function(i){t.mobile=i},expression:"mobile"}})],1)],1),e("v-uni-view",{staticClass:"input-item",on:{click:function(i){i=t.$handleEvent(i),t.inputRemark=!1}}},[e("v-uni-view",{staticClass:"input-label"},[t._v("备注")]),t.inputRemark?e("v-uni-view",{staticClass:"input",style:{color:t.remark?"#353535":"#999999"}},[t._v(t._s(t.remark?t.remark:"请输入备注"))]):e("v-uni-view",{staticClass:"input"},[e("v-uni-input",{attrs:{"placeholder-style":"color:#999999",focus:!t.inputRemark,maxlength:"50",placeholder:"请输入备注"},on:{blur:function(i){i=t.$handleEvent(i),t.inputRemark=!0}},model:{value:t.remark,callback:function(i){t.remark=i},expression:"remark"}})],1)],1)],1):t._e(),t.cart.length>0&&1==t.activity.activity_status&&t.activity.full_price.length>0?e("v-uni-view",{staticClass:"discount main-center"},t._l(t.activity.full_price,function(i,a){return e("v-uni-view",{key:a,class:t.getTheme+"-m-text "+t.getTheme},[e("v-uni-view",{staticClass:"discount-bg",class:t.getTheme+"-m-back "+t.getTheme}),a>0?e("v-uni-text",[t._v(",")]):t._e(),t._v("满"+t._s(i.full_price)+"减"+t._s(i.reduce_price))],1)}),1):t._e(),t.cart.length>0&&1==t.activity.activity_status?e("v-uni-view",{staticClass:"cart-placeholder",class:{"more-placeholder":t.is_middleman}}):t._e(),t.cart.length>0&&1==t.activity.activity_status?e("v-uni-view",{staticClass:"cart-item main-between cross-center"},[e("v-uni-view",{staticClass:"cart-left dir-left-nowrap",on:{click:function(i){i=t.$handleEvent(i),t.openCart(i)}}},[e("v-uni-view",{staticClass:"cart-icon"},[e("v-uni-image",{staticClass:"cart",attrs:{src:"./../image/cart.png"}}),e("v-uni-view",{class:t.getTheme+"-m-back "+t.getTheme},[t._v(t._s(t.cartLength>99?"99+":t.cartLength))])],1),e("v-uni-view",{staticClass:"price-info main-center dir-top-nowrap"},[e("v-uni-view",{staticClass:"total-price t-omit"},[t._v("总计"),e("v-uni-text",{class:t.getTheme+"-m-text "+t.getTheme},[t._v("￥"+t._s(t.total<0?"0.00":t.total))])],1),e("v-uni-view",{staticClass:"minus-price t-omit"},[t._v("已减"),e("v-uni-text",{class:t.getTheme+"-m-text "+t.getTheme},[t._v("￥"+t._s(t.minus))])],1)],1)],1),e("v-uni-view",{staticClass:"cart-right",class:t.getTheme+"-m-back "+t.getTheme,on:{click:function(i){i=t.$handleEvent(i),t.toSubmit(i)}}},[t._v("确认下单")])],1):t._e(),e("v-uni-view",{staticClass:"dialog-btn"},[t.is_middleman?e("v-uni-view",{on:{click:function(i){i=t.$handleEvent(i),t.toIndex(i)}}},[e("v-uni-image",{attrs:{src:"./../image/user-index.png"}})],1):t._e(),e("v-uni-view",{on:{click:function(i){i=t.$handleEvent(i),t.toOrder(i)}}},[e("v-uni-image",{attrs:{src:"./../image/user-order.png"}})],1),e("v-uni-view",{on:{click:function(i){i=t.$handleEvent(i),t.toUser(i)}}},[e("v-uni-image",{attrs:{src:"./../image/user-center.png"}})],1),e("v-uni-view",{on:{click:function(i){i=t.$handleEvent(i),t.showHiddenClick(i)}}},[e("v-uni-image",{attrs:{src:"./../image/user-share.png"}})],1)],1),t.goods?e("u-attr",{attrs:{"theme-object":t.themeObject,goods:t.goods,checked:t.selectAttr,is_show_left:!1,is_show_right:!1},on:{check:function(i){i=t.$handleEvent(i),t.attr(i)}},model:{value:t.attrShow,callback:function(i){t.attrShow=i},expression:"attrShow"}},[e("template",{slot:"right"},[e("v-uni-view",{staticClass:"attr-bottom dir-left-nowrap"},[e("v-uni-view",{staticClass:"box-grow-1 dir-left-nowrap cross-center"},[e("v-uni-view",{staticClass:"total-price"},[t._v("总计"),e("v-uni-text",{class:t.getTheme+"-m-text "+t.getTheme},[t._v("￥"+t._s(t.selectAttr?t.attr_price:t.goods.price))])],1)],1),e("v-uni-view",{staticClass:"box-grow-1 u-add-btn main-center cross-center",class:t.getTheme+"-m-gradient-btn "+t.getTheme,on:{click:function(i){i=t.$handleEvent(i),t.add(i)}}},[t._v("加入购物车")])],1)],1)],2):t._e(),t.recommendDialog?e("v-uni-view",{staticClass:"bg",on:{click:function(i){i=t.$handleEvent(i),t.recommendDialog=!t.recommendDialog}}},[e("v-uni-view",{staticClass:"dialog",attrs:{animation:t.animationData},on:{click:function(i){i.stopPropagation(),i=t.$handleEvent(i)}}},[e("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.showOther,expression:"showOther"}],staticClass:"end-close main-center cross-center",on:{click:function(i){i=t.$handleEvent(i),t.recommendDialog=!t.recommendDialog}}},[e("v-uni-image",{attrs:{src:"/static/image/icon/icon-close.png"}})],1),e("v-uni-view",{staticClass:"end-title"},[t._v("当前团购已结束")]),e("v-uni-view",{staticClass:"end-recommend main-center cross-center"},[e("v-uni-view",{staticClass:"end-line"}),e("v-uni-view",[t._v("为您推荐")]),e("v-uni-view",{staticClass:"end-line"})],1),e("v-uni-view",{staticClass:"end-sec-title"},[t._v("以下"+t._s(t.recommend.count)+"个商品正在团购")]),e("v-uni-view",{staticClass:"main-center recommend-goods"},t._l(t.recommend.goods_list,function(i,a){return a<3?e("v-uni-image",{key:a,attrs:{src:i.cover_pic}}):t._e()}),1),e("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.showOther,expression:"showOther"}],staticClass:"to-activity",class:t.getTheme+"-m-back "+t.getTheme,on:{click:function(i){i=t.$handleEvent(i),t.toActivity(i)}}},[t._v("去看看")])],1)],1):t._e(),e("v-uni-view",[e("app-share-qr-code",{attrs:{posterUrl:"/plugins/community/poster/poster?activity_id="+t.id+"&middleman_id="+t.middleman.user_id,hasPosterNav:t.showShare,url:t.poster,title:"生成活动海报"},on:{share:function(i){i=t.$handleEvent(i),t.hShareAppMessage(i)}},model:{value:t.showShare,callback:function(i){t.showShare=i},expression:"showShare"}})],1)],1),t.showClose?e("app-close",{attrs:{toBack:!0},on:{update:function(i){i=t.$handleEvent(i),t.getMall(i)}}}):t._e()],1)},n=[];e.d(i,"a",function(){return a}),e.d(i,"b",function(){return n})},"87a7":function(t,i,e){"use strict";var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-image",{staticClass:"head-bg",style:{height:t.height},attrs:{src:t.head}})},n=[];e.d(i,"a",function(){return a}),e.d(i,"b",function(){return n})},"899b":function(t,i,e){"use strict";var a=e("a80e"),n=e.n(a);n.a},"8fef":function(t,i,e){"use strict";var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"u-attr"},[e("v-uni-view",{on:{click:function(i){i=t.$handleEvent(i),t.turnOn(i)}}},[t._t("btn")],2),e("u-popup",{attrs:{mode:"bottom","border-radius":"14",safeAreaInsetBottom:!0},on:{close:function(i){i=t.$handleEvent(i),t.close(i)}},model:{value:t.newValue,callback:function(i){t.newValue=i},expression:"newValue"}},[e("v-uni-view",{staticClass:"u-model",on:{touchmove:function(i){i.stopPropagation(),i.preventDefault(),i=t.$handleEvent(i)}}},[e("v-uni-view",{staticClass:"u-top dir-left-nowrap u-border-box"},[e("v-uni-view",{staticClass:"u-pic u-border-box",on:{click:function(i){i=t.$handleEvent(i),t.clickImg(t.imgUrl)}}},[e("v-uni-image",{staticClass:"u-img",attrs:{src:t.imgUrl}})],1),e("v-uni-view",{staticClass:"u-info"},[e("v-uni-view",{class:["cross-center","dir-left-nowrap",t.themeObject.color]},[e("v-uni-view",{staticClass:"dir-left-nowrap"},[t._t("priceBefore"),e("v-uni-view",{staticClass:"u-price"},[t.is_show_price?e("app-price",{attrs:{theme:t.themeObject.theme,userTheme:t.themeObject.userTheme,sign:t.sign,price:t.sellPrice,"default-price":t.goods.price}}):t._e()],1)],2),1===t.goods.level_show?e("app-member-mark",{attrs:{theme:t.themeObject}}):t._e()],1),e("v-uni-view",{staticClass:"u-stock"},[t._v("库存："+t._s(t.stock))])],1),e("v-uni-view",{staticClass:"u-close-image",on:{click:function(i){i=t.$handleEvent(i),t.close(i)}}},[e("v-uni-image",{staticClass:"bd-close-image u-border-box",attrs:{src:"/static/image/icon/icon-close.png"}})],1)],1),e("v-uni-view",{staticClass:"u-center"},[e("v-uni-scroll-view",{staticClass:"u-scroll-view",attrs:{"scroll-y":"true"}},[t._t("extra"),t._l(t.newGroup,function(i,a){return"goods"===t.goods.type?e("v-uni-view",{key:a,staticClass:"u-attr-group u-border-box"},[e("v-uni-view",{staticClass:"u-group-name u-text"},[t._v(t._s(i.attr_group_name))]),e("v-uni-view",{staticClass:"dir-left-wrap"},t._l(i.attr_list,function(a,n){return e("v-uni-view",{key:n,class:["u-group-item",a.select?"u-checked "+t.themeObject.back:"u-unchecked",a.num_0?"u-attr_num_0":""],on:{click:function(e){e=t.$handleEvent(e),t.storeAttr(a.attr_id,i.attr_group_id,a.num_0)}}},[t._v(t._s(a.attr_name))])}),1)],1):t._e()}),e("v-uni-view",{staticClass:"u-number dir-left-nowrap main-between cross-center"},[e("v-uni-view",{staticClass:"u-text"},[t._v("数量")]),e("v-uni-view",{staticClass:"dir-left-nowrap u-input-box"},[e("v-uni-view",{class:[t.number<=1?"u-reduced-1":"u-reduced-0","u-number-btn"],on:{click:function(i){i.stopPropagation(),i=t.$handleEvent(i),t.numberSub(i)}}}),e("v-uni-input",{staticClass:"u-input",attrs:{type:"number"},on:{blur:function(i){i=t.$handleEvent(i),t.numberBlur(i)}},model:{value:t.number,callback:function(i){t.number=i},expression:"number"}}),e("v-uni-view",{staticClass:"u-number-btn u-added-1",on:{click:function(i){i.stopPropagation(),i=t.$handleEvent(i),t.numberAdd(i)}}})],1)],1)],2)],1),e("v-uni-view",{staticClass:"u-bottom dir-left-nowrap"},[t.is_show_left&&("goods"===t.goods.type||t.is_must_left)?e("v-uni-view",{staticClass:"box-grow-1",class:[t.cartClass,t.is_show_right?"bd-btn-left":""],on:{click:function(i){i=t.$handleEvent(i),t.leftSubmit(i)}}},[t._t("left_slot"),t.$slots.left_slot?t._e():[t._v(t._s(t.leftText))]],2):t._e(),t.is_show_right?e("v-uni-view",{staticClass:"box-grow-1",class:[t.$slots.right_slot?"":t.themeObject.mBtn+" u-btn u-btn-color",!t.is_show_left||"goods"!==t.goods.type&&!t.is_must_left?"":"bd-btn-right"],on:{click:function(i){i=t.$handleEvent(i),t.rightSubmit(i)}}},[t._t("right_slot"),t.$slots.right_slot?t._e():[t._v(t._s(t.rightText))]],2):t._e(),t.$slots.right?[t._t("right")]:t._e()],2)],1)],1)],1)},n=[];e.d(i,"a",function(){return a}),e.d(i,"b",function(){return n})},"920e":function(t,i,e){"use strict";var a=e("4740"),n=e.n(a);n.a},"9b78":function(t,i,e){var a=e("b041");i=t.exports=e("2350")(!1),i.push([t.i,".u-model[data-v-4b488854]{width:%?750?%}.u-top[data-v-4b488854]{margin:0 %?24?%;border-bottom:%?1?% solid #e2e2e2;height:%?140?%}.u-close-image[data-v-4b488854]{width:%?54?%;height:%?78?%;padding:%?24?% 0 %?24?% %?24?%;margin-left:%?24?%}.bd-close-image[data-v-4b488854]{width:%?30?%;height:%?30?%}.u-pic[data-v-4b488854]{width:%?200?%;height:%?200?%;padding:%?4?%;border-radius:%?8?%;position:relative;top:%?-64?%;background-color:#fff}.u-img[data-v-4b488854]{width:%?192?%;height:%?192?%;background-color:#fff}.u-info[data-v-4b488854]{width:%?424?%;height:%?136?%;padding:%?45?% 0 0 %?24?%}.u-scroll-view[data-v-4b488854]{width:100%;max-height:calc(80vh - %?154?%)}.u-attr-group[data-v-4b488854]{margin:%?24?% %?32?% 0 %?32?%;border-bottom:%?1?% solid #e2e2e2}.u-number[data-v-4b488854]{height:%?124?%;margin:0 %?32?%}.u-group-name[data-v-4b488854]{margin-bottom:%?20?%}.u-group-item[data-v-4b488854]{padding:%?15?% %?24?%;border-radius:%?8?%;margin:0 %?20?% %?20?% 0;font-size:%?26?%}.u-checked[data-v-4b488854]{color:#fff}.u-unchecked[data-v-4b488854]{background-color:#f2f2f2;color:#353535}.u-attr_num_0[data-v-4b488854]{background-color:#f7f7f7;color:#cdcdcd}.u-stock[data-v-4b488854]{font-size:%?24?%;color:#999}.u-price[data-v-4b488854]{margin-right:%?12?%}.u-input[data-v-4b488854]{width:%?88?%;height:%?60?%;background-color:#f7f7f7;font-size:%?20?%;color:#353535;text-align:center}.u-input-box[data-v-4b488854]{width:%?218?%}.u-number-btn[data-v-4b488854]{height:%?60?%;width:%?60?%;background-repeat:no-repeat;background-size:100% 100%;background-position:50%}.u-number-btn[data-v-4b488854]:first-child{margin-right:%?5?%}.u-number-btn[data-v-4b488854]:last-child{margin-left:%?5?%}.u-reduced-1[data-v-4b488854]{background-image:url("+a(e("1267"))+")}.u-reduced-0[data-v-4b488854]{background-image:url("+a(e("2db6"))+")}.u-added-1[data-v-4b488854]{background-image:url("+a(e("d3fe"))+")}.u-text[data-v-4b488854]{font-size:%?26?%;color:#666}.u-bottom[data-v-4b488854]{height:%?110?%;width:%?750?%;padding:%?20?% %?24?%}.u-btn[data-v-4b488854]{text-align:center;line-height:%?70?%;border-radius:%?35?%;font-size:%?26?%;width:calc(50% - %?10?%)}.bd-btn-left[data-v-4b488854]{margin-right:%?10?%\n    /*border-top-right-radius: 0;*/\n    /*border-bottom-right-radius: 0;*/}.bd-btn-right[data-v-4b488854]{margin-left:%?10?%\n    /*border-top-left-radius: 0;*/\n    /*border-bottom-left-radius: 0;*/}.u-btn-color[data-v-4b488854]{color:#fff}",""])},a153:function(t,i,e){var a=e("2b6f");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=e("4f06").default;n("4203cdbf",a,!0,{sourceMap:!1,shadowMode:!1})},a3cf:function(t,i,e){i=t.exports=e("2350")(!1),i.push([t.i,".text-center[data-v-26e8708a]{text-align:center}.font-weight[data-v-26e8708a]{font-weight:700}.page-width[data-v-26e8708a]{width:100%}.goods-hover-class[data-v-26e8708a]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-26e8708a]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}uni-page-body[data-v-26e8708a]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-26e8708a]{width:100%}.u-hover-class[data-v-26e8708a]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-26e8708a]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.close-tip[data-v-26e8708a]{position:fixed;bottom:0;left:0;height:%?130?%;width:100%;z-index:20;font-size:%?30?%;color:#353535;background-color:#fff7d7}.close-tip uni-image[data-v-26e8708a]{width:%?70?%;height:%?70?%;margin:0 %?24?%}.close-tip .close-content[data-v-26e8708a]{padding-top:%?10?%;font-size:%?24?%;color:#999}.open-dialog[data-v-26e8708a]{width:%?620?%;border-radius:%?16?%;background-color:#fff;position:relative;padding-top:%?40?%;padding-bottom:%?105?%;font-size:%?32?%;color:#353535;text-align:center}.open-dialog .open-dialog-content[data-v-26e8708a]{padding:%?25?% 0;font-size:%?26?%;color:#666}.open-dialog .open-dialog-content uni-view[data-v-26e8708a]{margin:%?5?% 0}.open-dialog .dialog-button[data-v-26e8708a]{font-size:%?30?%;position:absolute;bottom:0;left:0;border-top:%?2?% solid #e2e2e2;height:%?90?%;line-height:%?90?%;width:100%}body.?%PAGE?%[data-v-26e8708a]{background:#f7f7f7}",""])},a3e4:function(t,i,e){"use strict";e.r(i);var a=e("7b02"),n=e("256d");for(var o in n)"default"!==o&&function(t){e.d(i,t,function(){return n[t]})}(o);e("899b");var s=e("2877"),r=Object(s["a"])(n["default"],a["a"],a["b"],!1,null,"17b56b4a",null);i["default"]=r.exports},a80e:function(t,i,e){var a=e("f27e");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=e("4f06").default;n("5bb264e3",a,!0,{sourceMap:!1,shadowMode:!1})},afd5:function(t,i,e){"use strict";var a=e("0c80"),n=e.n(a);n.a},b4bc:function(t,i,e){"use strict";e.r(i);var a=e("8fef"),n=e("f066");for(var o in n)"default"!==o&&function(t){e.d(i,t,function(){return n[t]})}(o);e("920e");var s=e("2877"),r=Object(s["a"])(n["default"],a["a"],a["b"],!1,null,"4b488854",null);i["default"]=r.exports},d0d3:function(t,i,e){"use strict";e.r(i);var a=e("87a7"),n=e("4807");for(var o in n)"default"!==o&&function(t){e.d(i,t,function(){return n[t]})}(o);e("327d");var s=e("2877"),r=Object(s["a"])(n["default"],a["a"],a["b"],!1,null,"466eb7c2",null);i["default"]=r.exports},d3fe:function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAABlBMVEX39/eZmZmXx6vxAAAAGklEQVQoz2MYzICf5oz6//8f4GHQ3hmDGQAAjcAOv+IPUVgAAAAASUVORK5CYII="},e40d:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=r(e("d55a")),n=r(e("6c9f")),o=r(e("1ed7")),s=e("2f62");function r(t){return t&&t.__esModule?t:{default:t}}function c(t,i){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);i&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),e.push.apply(e,a)}return e}function d(t){for(var i=1;i<arguments.length;i++){var e=null!=arguments[i]?arguments[i]:{};i%2?c(e,!0).forEach(function(i){l(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):c(e).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))})}return t}function l(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}var u={name:"u-attr",props:{value:{type:[Boolean,Number]},goods:{type:Object,default:function(){return{}},required:!0},themeObject:{type:Object},checked:{type:Object},is_show_price:{type:Boolean,default:!0},is_show_left:{type:Boolean,default:!0},is_must_left:{type:Boolean,default:!1},is_show_right:{type:Boolean,default:!0},leftText:{type:String,default:"加入购物车"},rightText:{type:String,default:"立即购买"},leftFunc:{type:Boolean},rightFunc:{type:Boolean},sign:{type:String},again:{type:Number},attentionSign:{type:String}},data:function(){return{newValue:!1,picUrl:null,newGroup:[],number:1}},created:function(){"community"==this.sign&&(this.number=1)},methods:{close:function(){this.$emit("input",!1)},turnOn:function(){this.$emit("input",!0)},inArray:function(t,i){return i.some(function(i){return t===i})},identifier:function(t,i,e){var a=this;t.forEach(function(t){t.attr_list.forEach(function(n){var o="".concat(t.attr_group_id,"-").concat(n.attr_id);a.inArray(o,i)&&!a.inArray(o,e)?n.num_0=!0:n.num_0=!1})})},selectCheck:function(t,i,e){var a=this;t.forEach(function(t){var n=[],o=0;t.attr_list.forEach(function(t){var i="".concat(t.attr_group_id,"-").concat(t.attr_id);a.inArray(i,e)||(o+=1,n.push(i))}),0===t.stock&&o<=1&&Array.prototype.push.apply(i,n),0===o&&a.$emit("check",{item:t,number:1})})},storeAttr:function(t,i,e){var a=this;if(!0!==e){var n=this.newGroup,o=this.copyAttr,s=[];n.forEach(function(e,n){var o=e.attr_list;o.forEach(function(o){e.attr_group_id===i&&(o.attr_id===t?!0===o.select?o.select=!1:o.select=!0:o.select=!1),!0===o.select&&(s.push("".concat(e.attr_group_id,"-").concat(o.attr_id)),0===n&&(a.picUrl=o.pic_url))})});var r=[];this.selectCheck(o,r,s),this.$nextTick(function(){a.number>a.stock&&(a.number=a.stock)}),this.identifier(n,r,s),s.length!==n.length&&this.$emit("check",{item:null,number:1})}},firstSelect:function(){var t=this;if(this.copyGroup&&this.copyAttr){var i=this.copyGroup,e=this.copyAttr,a=i.length,n=[];e.forEach(function(e){var o=e.attr_list;o.forEach(function(o){var s=o.attr_group_id;i.forEach(function(r){if(s===r.attr_group_id){var c=r.attr_list;c.forEach(function(s){s.attr_id===o.attr_id&&e.stock>0&&a>0&&(s.select=!0,n.push("".concat(r.attr_group_id,"-").concat(s.attr_id)),a===i.length&&(t.picUrl=s.pic_url),a--)})}})})});var o=[];this.selectCheck(e,o,n),this.identifier(i,o,n),this.newGroup=i}},numberBlur:function(t){var i=parseInt(t.detail.value);i||(i=1),i>this.stock&&(i=this.stock,uni.showToast({title:"库存不足",icon:"none"})),this.number=i},numberSub:function(){var t=this.number;t>1&&(t--,this.number=t)},numberAdd:function(){var t=this.number;t++,t>this.stock&&(t=this.stock,uni.showToast({title:"库存不足",icon:"none"})),this.number=t},leftSubmit:function(){!0===this.leftFunc?this.$emit("leftFunc",this.number):this.cart(),this.close()},rightSubmit:function(){if(!this.checked)return uni.showToast({title:"请先选规格",icon:"none"}),!1;if(!this.$user.isLogin())return this.$user.getInfo();var t=[];this.checked.attr_list.forEach(function(i){t.push({attr_id:i.attr_id,attr_group_id:i.attr_group_id})});var i={mch_id:this.goods.mch_id?this.goods.mch_id:0,goods_list:[{id:this.goods.id,attrs:t,num:this.number,cat_id:0,goods_attr_id:this.checked.id}]};!0===this.rightFunc?this.$emit("rightFunc",i):this.shop(i),this.close()},shop:function(t){uni.navigateTo({url:"/pages/order-submit/order-submit?mch_list=".concat(JSON.stringify([t]))})},cart:function(){var t=this;if(!this.checked)return uni.showToast({title:"请先选规格",icon:"none"}),!1;"ecard"!==this.goods.type&&this.$request({url:this.$api.cart.add,method:"post",data:{goods_id:this.checked.goods_id,attr:this.checked.id,num:this.number}}).then(function(i){0===i.code?(uni.showToast({title:i.msg,icon:"none"}),t.$emit("cart",t.checked,t.number),t.close()):uni.showToast({title:i.msg,icon:"none",duration:2500})})},clickImg:function(t){this.$jwx.previewImage({current:t,urls:[t]})}},components:{uPopup:a.default,appPrice:n.default,appMemberMark:o.default},computed:d({imgUrl:function(){return this.picUrl?this.picUrl:this.goods?this.goods.cover_pic:""},stock:function(){return this.$validation.isEmpty(this.checked)?this.$validation.isEmpty(this.goods)?void 0:this.goods.goods_num:this.checked.stock},sellPrice:function(){return this.$validation.isEmpty(this.checked)?this.$validation.isEmpty(this.goods)?void 0:this.goods.hasOwnProperty("price_min")?this.goods.price_min:this.goods.price:1===this.goods.level_show?this.checked.price_member:this.checked.price},copyGroup:function(){if(this.goods){for(var t=this.$utils.deepClone(this.goods.attr_groups),i=0;i<t.length;i++)t[i].attr_list.forEach(function(t){t.select=!1,t.num_0=!1});return t}},copyAttr:function(){if(this.goods)return this.$utils.deepClone(this.goods.attr)},cartClass:function(){return"a"===this.themeObject.theme||"b"===this.themeObject.theme||"f"===this.themeObject.theme?this.themeObject.sBtn+" u-btn u-btn-color ":this.themeObject.sBtn+" u-btn  "+this.themeObject.color}},(0,s.mapGetters)({userInfo:"user/info"})),watch:{value:{handler:function(t){this.newValue=t,!1!==t&&this.$validation.isEmpty(this.checked)&&this.$utils.throttle(this.firstSelect,800)},immediate:!0},number:{handler:function(t){this.$emit("check",{item:this.checked,number:t})}},again:{handler:function(){this.firstSelect()}}}};i.default=u},ebca:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=e("2f62");function n(t,i){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);i&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),e.push.apply(e,a)}return e}function o(t){for(var i=1;i<arguments.length;i++){var e=null!=arguments[i]?arguments[i]:{};i%2?n(e,!0).forEach(function(i){s(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):n(e).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))})}return t}function s(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}var r={name:"app-head",props:{height:{type:String,default:function(){return"360rpx"}},theme:String},data:function(){return{head:""}},computed:o({},(0,a.mapState)({community:function(t){return t.mallConfig.__wxapp_img.community}})),mounted:function(){var t=this;switch(t.head=t.community.a,t.theme){case"b":t.head=t.community.b;break;case"c":t.head=t.community.c;break;case"d":t.head=t.community.d;break;case"e":t.head=t.community.e;break;case"g":t.head=t.community.g;break;case"h":t.head=t.community.h;break;case"i":t.head=t.community.i;break}}};i.default=r},f066:function(t,i,e){"use strict";e.r(i);var a=e("e40d"),n=e.n(a);for(var o in a)"default"!==o&&function(t){e.d(i,t,function(){return a[t]})}(o);i["default"]=n.a},f0dd:function(t,i,e){"use strict";e.r(i);var a=e("2361"),n=e("5a20");for(var o in n)"default"!==o&&function(t){e.d(i,t,function(){return n[t]})}(o);e("afd5");var s=e("2877"),r=Object(s["a"])(n["default"],a["a"],a["b"],!1,null,"26e8708a",null);i["default"]=r.exports},f27e:function(t,i,e){var a=e("b041");i=t.exports=e("2350")(!1),i.push([t.i,".text-center[data-v-17b56b4a]{text-align:center}.font-weight[data-v-17b56b4a]{font-weight:700}.page-width[data-v-17b56b4a]{width:100%}.goods-hover-class[data-v-17b56b4a]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-17b56b4a]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}uni-page-body[data-v-17b56b4a]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-17b56b4a]{width:100%}.u-hover-class[data-v-17b56b4a]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-17b56b4a]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.app-scroll[data-v-17b56b4a]{height:%?80?%;background-color:#fff;position:relative;width:%?702?%;margin:0 %?24?% %?24?%;border-radius:%?16?%;white-space:nowrap;font-size:%?26?%;padding-top:%?20?%}.app-scroll.no-ing[data-v-17b56b4a]{border-top-left-radius:0;border-top-right-radius:0}.app-scroll .app-item[data-v-17b56b4a]{display:inline-block;padding-bottom:%?10?%;padding-right:%?5?%;margin-left:%?40?%;margin-right:%?15?%}.app-scroll .app-item.app-active-item[data-v-17b56b4a]{border-bottom:%?2?% solid}.middleman[data-v-17b56b4a]{margin-top:%?-360?%;height:%?190?%;color:#fff;padding:0 %?35?%;position:relative}.middleman .space[data-v-17b56b4a]{color:#fff;font-size:%?22?%;position:absolute;top:%?45?%;right:%?30?%}.middleman .arrow-image[data-v-17b56b4a]{margin-left:%?36?%;width:%?12?%;height:%?24?%;position:absolute;top:50%;right:%?30?%;margin-top:%?-12?%}.middleman .location[data-v-17b56b4a]{font-size:%?40?%;width:70%;margin-bottom:%?15?%;margin-top:%?-10?%}.middleman .middleman-info[data-v-17b56b4a]{font-size:%?26?%}.middleman .middleman-info .avatar[data-v-17b56b4a]{width:%?58?%;height:%?58?%;border-radius:50%;margin-right:%?20?%;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}.middleman .middleman-info .user-info .icon[data-v-17b56b4a]{height:%?25?%;width:%?25?%;margin-right:%?6?%;color:#ff4544}.time[data-v-17b56b4a]{padding:0 %?36?%;color:#ff4544;height:%?90?%;line-height:%?90?%;margin:0 %?24?%;width:%?702?%;border-top-left-radius:%?16?%;border-top-right-radius:%?16?%;background-color:#f2f2f2;position:relative;z-index:2;font-size:%?24?%}.time .icon[data-v-17b56b4a]{color:#ff4544;width:%?24?%;height:%?24?%;margin-right:%?10?%}.status-area[data-v-17b56b4a]{width:%?702?%;margin:0 %?24?%;padding-bottom:%?24?%;border-radius:%?16?%;background-color:#f7f7f7;position:relative;z-index:2}.status-area .status[data-v-17b56b4a]{background-color:#fff;border-radius:%?16?%;padding:%?24?%}.status-area .status .end-time[data-v-17b56b4a]{color:#ff4544;text-align:center;font-size:%?24?%}.status-area .status .condition[data-v-17b56b4a]{color:#353535;font-size:%?24?%;width:100%}.status-area .status .condition .end-time[data-v-17b56b4a]{color:#ff4544}.status-area .status .progress[data-v-17b56b4a]{width:%?654?%;background-color:#f0f0f0;border-radius:%?10?%;height:%?20?%;position:relative;margin:%?15?% 0;overflow:hidden}.status-area .status .progress uni-view[data-v-17b56b4a]{border-radius:%?10?%;height:%?20?%;position:absolute;top:0;left:0;z-index:2}.status-area .status .buy-user[data-v-17b56b4a]{height:%?58?%}.status-area .status .buy-user .user-list uni-image[data-v-17b56b4a]{width:%?58?%;height:%?58?%;margin-left:%?-14?%;border-radius:50%;border:%?2?% solid #fff}.status-area .status .buy-user .sales[data-v-17b56b4a]{font-size:%?24?%;line-height:%?58?%;height:%?58?%;margin-left:%?14?%}.status-area .status .buy-user .sales uni-text[data-v-17b56b4a]{color:#ff4544}.status-area .status .new-buy[data-v-17b56b4a]{margin-top:%?20?%;color:#999;font-size:%?24?%}.status-area .status .new-buy uni-image[data-v-17b56b4a]{width:%?60?%;height:%?60?%;border-radius:50%;display:block;margin-right:%?20?%}.list[data-v-17b56b4a]{margin:0 %?24?%;width:%?702?%}.list .goods[data-v-17b56b4a]{background-color:#fff;border-radius:%?16?%;width:%?702?%;height:%?220?%;margin-bottom:%?20?%;position:relative;z-index:2}.list .goods .out-dialog[data-v-17b56b4a]{width:%?220?%;height:%?220?%;border-radius:%?16?%;position:absolute;top:0;left:0;z-index:10;background-color:rgba(0,0,0,.5)}.list .goods .out-dialog uni-image[data-v-17b56b4a]{width:%?220?%;height:%?220?%;border-radius:%?16?%}.list .goods .cover[data-v-17b56b4a]{height:%?220?%;width:%?220?%;border-radius:%?16?%;margin-right:%?15?%}.list .goods .info[data-v-17b56b4a]{padding:%?20?% 0;position:relative}.list .goods .info .name[data-v-17b56b4a]{width:%?445?%;height:%?72?%;font-size:%?28?%}.list .goods .info .sale[data-v-17b56b4a]{height:%?30?%;line-height:%?28?%;font-size:%?22?%;margin-top:%?18?%;display:inline-block;position:relative}.list .goods .info .sale>uni-view[data-v-17b56b4a]{padding:0 %?10?%;border:%?2?% solid;display:inline-block}.list .goods .info .sale .sale-bg[data-v-17b56b4a]{padding:0;position:absolute;top:0;left:0;opacity:.1;border-top-left-radius:%?15?%;border-bottom-left-radius:%?15?%;border:0;height:100%;width:100%}.list .goods .info .sale uni-view[data-v-17b56b4a]:first-of-type{border-right:0;border-top-left-radius:%?15?%;border-bottom-left-radius:%?15?%}.list .goods .info .sale .stock[data-v-17b56b4a]{border-top-right-radius:%?15?%;border-bottom-right-radius:%?15?%;border-left:0;background-color:#fff}.list .goods .info .price[data-v-17b56b4a]{font-size:%?32?%;position:absolute;bottom:%?20?%;left:0}.list .goods .info .cart[data-v-17b56b4a]{background-repeat:no-repeat;background-size:100% 100%;background-image:url("+a(e("2662"))+");border:0;border-radius:50%;position:absolute;bottom:%?20?%;right:0;width:%?80?%;height:%?80?%;z-index:2}.cart-placeholder[data-v-17b56b4a]{height:%?450?%}.cart-placeholder.cart-list-placeholder[data-v-17b56b4a]{height:%?150?%}.cart-placeholder.cart-list-placeholder.again-placeholder[data-v-17b56b4a]{height:%?210?%}.cart-placeholder.more-placeholder[data-v-17b56b4a]{height:%?540?%}.total-price[data-v-17b56b4a]{width:%?350?%}.total-price uni-text[data-v-17b56b4a]{font-size:%?32?%}.minus-price[data-v-17b56b4a]{width:%?350?%}.discount[data-v-17b56b4a]{position:fixed;bottom:%?145?%;left:0;height:%?60?%;line-height:%?60?%;width:100%;font-size:%?24?%;z-index:10;background-color:#fff}.discount .discount-bg[data-v-17b56b4a]{position:fixed;bottom:%?145?%;left:0;height:%?60?%;line-height:%?60?%;width:100%;opacity:.1;z-index:10}.discount uni-text[data-v-17b56b4a]{margin-right:%?10?%}.cart-item[data-v-17b56b4a]{position:fixed;bottom:0;left:0;height:%?145?%;width:100%;padding:0 %?16?% %?24?%;background-color:#fff;z-index:20;-webkit-box-shadow:0 0 %?10?% rgba(0,0,0,.3);box-shadow:0 0 %?10?% rgba(0,0,0,.3)}.cart-item .cart-left[data-v-17b56b4a]{font-size:%?24?%;color:#353535;height:%?74?%;line-height:%?74?%}.cart-item .cart-left .cart-icon[data-v-17b56b4a]{position:relative;margin-right:%?45?%}.cart-item .cart-left .cart-icon uni-image[data-v-17b56b4a]{width:%?74?%;height:%?74?%;border-radius:50%}.cart-item .cart-left .cart-icon uni-view[data-v-17b56b4a]{position:absolute;top:%?-5?%;left:%?52?%;height:%?34?%;line-height:%?34?%;border-radius:%?17?%;color:#fff;padding:0 %?10?%}.cart-item .cart-left .price-info[data-v-17b56b4a]{height:%?74?%}.cart-item .cart-left .price-info>uni-view[data-v-17b56b4a]{height:%?37?%;line-height:%?37?%}.cart-item .cart-right[data-v-17b56b4a]{font-size:%?28?%;color:#fff;height:%?78?%;line-height:%?78?%;border-radius:%?39?%;padding:0 %?50?%}.dialog-btn[data-v-17b56b4a]{position:fixed;bottom:%?175?%;left:%?30?%;z-index:10}.dialog-btn>uni-view[data-v-17b56b4a]{margin-top:%?10?%;width:%?80?%;height:%?80?%}.dialog-btn>uni-view uni-image[data-v-17b56b4a]{width:%?80?%;height:%?80?%}.bg[data-v-17b56b4a]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.3);z-index:18}.bg .dialog[data-v-17b56b4a]{background-color:#fff;border-top-left-radius:%?16?%;border-top-right-radius:%?16?%;position:fixed;bottom:%?-600?%;left:0;width:100%;z-index:19;padding:0 %?24?%}.bg .dialog.cart-dialog[data-v-17b56b4a]{bottom:0}.bg .dialog .cart-discount[data-v-17b56b4a]{height:%?60?%;line-height:%?60?%;width:100%;font-size:%?24?%;z-index:10;border-top-left-radius:%?16?%;border-top-right-radius:%?16?%;position:relative}.bg .dialog .cart-discount .discount-bg[data-v-17b56b4a]{position:absolute;top:0;left:0;width:100%;height:100%;opacity:.1}.bg .dialog .cart-discount uni-text[data-v-17b56b4a]{margin-right:%?10?%}.bg .dialog .title[data-v-17b56b4a]{height:%?84?%;line-height:%?84?%;font-size:%?26?%;padding:0 %?24?%;color:#353535}.bg .dialog .title uni-image[data-v-17b56b4a]{display:block;width:%?40?%;height:%?40?%;margin-right:%?12?%}.bg .dialog .goods-list[data-v-17b56b4a]{padding:0 %?24?%;max-height:%?510?%;overflow:auto}.bg .dialog .goods[data-v-17b56b4a]{background-color:#fff;border-radius:%?8?%;width:%?702?%;margin-bottom:%?20?%;padding-top:%?20?%;border-top:%?2?% solid #e2e2e2;position:relative;z-index:22}.bg .dialog .goods[data-v-17b56b4a]:first-of-type{border-top:0;padding-top:0}.bg .dialog .goods .cover[data-v-17b56b4a]{height:%?180?%;width:%?180?%;border-radius:%?8?%;margin-right:%?25?%}.bg .dialog .goods .info[data-v-17b56b4a]{position:relative;width:%?492?%}.bg .dialog .goods .info .name[data-v-17b56b4a]{width:%?445?%;max-height:%?72?%;font-size:%?28?%;margin-bottom:%?20?%}.bg .dialog .goods .info .attr[data-v-17b56b4a]{font-size:%?24?%;color:#999}.bg .dialog .goods .info .attr .attr-group[data-v-17b56b4a]{margin-left:%?10?%}.bg .dialog .goods .info .attr .attr-group[data-v-17b56b4a]:first-of-type{margin-left:0}.bg .dialog .goods .info .price[data-v-17b56b4a]{font-size:%?30?%;position:absolute;bottom:0;left:0}.bg .dialog .goods .info .app-add-subtract[data-v-17b56b4a]{height:%?60?%;position:absolute;bottom:0;right:0}.bg .dialog .goods .info .app-add-subtract .app-icon[data-v-17b56b4a]{height:%?44?%;width:%?44?%;background-size:100% 100%;background-repeat:no-repeat}.bg .dialog .goods .info .app-add-subtract .app-value[data-v-17b56b4a]{height:%?60?%;width:%?88?%}.bg .dialog .goods .info .app-add-subtract .app-value uni-input[data-v-17b56b4a],.bg .dialog .goods .info .app-add-subtract .app-value uni-view[data-v-17b56b4a]{height:%?60?%;width:%?88?%;font-size:%?26?%;color:#353535;background-color:#fff;text-align:center}.bg .dialog .goods .info .app-add-subtract .app-value uni-view[data-v-17b56b4a]{line-height:%?60?%;color:#999}.bg .dialog .end-close[data-v-17b56b4a]{position:fixed;bottom:%?488?%;right:0;z-index:20;width:%?80?%;height:%?80?%;padding:%?25?%}.bg .dialog .end-close uni-image[data-v-17b56b4a]{width:%?30?%;height:%?30?%}.bg .dialog .end-title[data-v-17b56b4a]{margin-top:%?40?%;font-size:%?32?%;color:#353535;text-align:center}.bg .dialog .end-recommend[data-v-17b56b4a]{font-size:%?24?%;color:#999;height:%?70?%}.bg .dialog .end-recommend .end-line[data-v-17b56b4a]{width:%?40?%;height:%?2?%;background-color:#999;margin:0 %?15?%}.bg .dialog .end-sec-title[data-v-17b56b4a]{font-size:%?28?%;color:#353535;text-align:center}.bg .dialog .recommend-goods[data-v-17b56b4a]{margin-top:%?25?%;margin-bottom:%?135?%}.bg .dialog .recommend-goods uni-image[data-v-17b56b4a]{width:%?220?%;height:%?220?%;border-radius:%?8?%;display:block;margin:0 %?33?%}.bg .dialog .to-activity[data-v-17b56b4a]{position:fixed;bottom:0;left:0;height:%?100?%;width:100%;text-align:center;line-height:%?100?%;color:#fff;font-size:%?30?%}.attr-bottom[data-v-17b56b4a]{position:fixed;z-index:1666;bottom:0;left:0;height:%?110?%;width:100%;padding:%?20?% %?24?%;font-size:%?28?%}.attr-bottom .total-price[data-v-17b56b4a]{margin-left:%?25?%}.input-info[data-v-17b56b4a]{margin:0 %?24?%;background-color:#fff;border-radius:%?16?%;width:%?702?%}.input-info .input-item[data-v-17b56b4a]{font-size:%?26?%;padding:%?30?%;padding-bottom:%?15?%;border-top:%?2?% solid #e2e2e2}.input-info .input-item uni-view.input[data-v-17b56b4a]{line-height:%?52?%;word-break:break-all}.input-info .input-item[data-v-17b56b4a]:first-of-type{border-top:0}.input-info .input-item .input-label[data-v-17b56b4a]{color:#666;margin-bottom:%?10?%}.u-add-btn[data-v-17b56b4a]{color:#fff;border-radius:%?35?%}body.?%PAGE?%[data-v-17b56b4a]{background:#f7f7f7}",""])}}]);