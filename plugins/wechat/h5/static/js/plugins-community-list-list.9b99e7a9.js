(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["plugins-community-list-list"],{"1f3c":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"app-index",props:{active:{type:String},theme:String},data:function(){return{activeClass:"",activity_loading:!1,order_loading:!1,me_loading:!1}},methods:{activityLoad:function(){this.activity_loading=!0},orderLoad:function(){this.order_loading=!0},meLoad:function(){this.me_loading=!0},toActivity:function(){if("activity"===this.active)return!1;uni.redirectTo({url:"/plugins/community/index/index"})},toOrder:function(){if("order"===this.active)return!1;uni.redirectTo({url:"/plugins/community/order/order"})},toMe:function(){if("me"===this.active)return!1;uni.redirectTo({url:"/plugins/community/me/me"})}},created:function(){this.activeClass=this.theme+"-m-text "+this.theme}};e.default=a},"2acd":function(t,e,i){var a=i("980d");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("0f3c6138",a,!0,{sourceMap:!1,shadowMode:!1})},"2e6e":function(t,e,i){"use strict";var a=i("3a3b"),n=i.n(a);n.a},"3a3b":function(t,e,i){var a=i("6dae");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("32e72511",a,!0,{sourceMap:!1,shadowMode:!1})},"3f9e":function(t,e,i){"use strict";i.r(e);var a=i("607e"),n=i("d097");for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);i("e1437");var s=i("2877"),r=Object(s["a"])(n["default"],a["a"],a["b"],!1,null,"4cc66e12",null);e["default"]=r.exports},"42e6":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".text-center[data-v-4cc66e12]{text-align:center}.font-weight[data-v-4cc66e12]{font-weight:700}.page-width[data-v-4cc66e12]{width:100%}.goods-hover-class[data-v-4cc66e12]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-4cc66e12]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}uni-page-body[data-v-4cc66e12]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-4cc66e12]{width:100%}.u-hover-class[data-v-4cc66e12]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-4cc66e12]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.list[data-v-4cc66e12]{margin:%?24?%;width:%?702?%}.list .title[data-v-4cc66e12]{height:%?115?%;font-size:%?22?%;color:#fff;border-top-left-radius:%?16?%;border-top-right-radius:%?16?%;padding-left:%?63?%}.list .title .title-text[data-v-4cc66e12]{font-size:%?30?%;font-weight:600;height:%?35?%;line-height:%?35?%;max-width:%?600?%;position:relative;overflow:inherit}.list .title .title-text .hot-icon[data-v-4cc66e12]{position:absolute;top:0;left:%?-49?%;width:%?35?%;height:%?35?%}.list .title .sec-title-text[data-v-4cc66e12]{width:%?600?%}.list .status-text[data-v-4cc66e12]{text-align:center;position:relative;width:100%;height:%?48?%;line-height:%?48?%;font-size:%?26?%}.list .status-text .status-bg[data-v-4cc66e12]{position:absolute;top:0;left:0;width:100%;height:100%;opacity:.1;z-index:0}.list .goods-list[data-v-4cc66e12]{position:relative;height:%?160?%;background-color:#fff;padding:0 %?24?% %?24?%}.list .goods-list .goods[data-v-4cc66e12]{height:%?160?%;padding-top:%?22?%;padding-bottom:%?22?%}.list .goods-list .goods uni-image[data-v-4cc66e12]{margin-right:%?38?%;height:%?120?%;width:%?120?%;border-radius:%?16?%}.list .goods-list .right-arrow[data-v-4cc66e12]{position:absolute;top:50%;margin-top:%?-12?%;right:%?30?%;width:%?12?%;height:%?24?%}.list .other[data-v-4cc66e12]{padding:0 %?24?% %?24?%;font-size:%?24?%;color:#999;height:%?60?%;background-color:#fff;border-bottom-left-radius:%?16?%;border-bottom-right-radius:%?16?%}.list .other .other-button[data-v-4cc66e12]{line-height:%?58?%;height:%?58?%;padding:0 %?35?%;border-radius:%?30?%;border:%?2?% solid #e2e2e2;display:inline-block;font-size:%?24?%;margin-left:%?25?%}.list .other .other-button.active[data-v-4cc66e12]{border-color:#ff4544;color:#ff4544}.banner[data-v-4cc66e12]{position:fixed;top:var(--window-top);left:0;z-index:10;height:%?280?%;width:%?750?%;background-color:#f7f7f7}.nav-area[data-v-4cc66e12]{background-color:#f7f7f7;position:fixed;top:calc(%?280?% + var(--window-top));left:0;z-index:10}.nav-area .nav[data-v-4cc66e12]{height:%?54?%;width:%?702?%;margin:%?35?% %?24?%;border-radius:%?27?%;-webkit-box-shadow:hsla(0,0%,72.9%,.35) 0 %?4?% %?4?%;box-shadow:hsla(0,0%,72.9%,.35) 0 %?4?% %?4?%}.nav-area .nav .active[data-v-4cc66e12]{position:absolute;top:%?28?%;left:%?24?%;width:%?182?%;height:%?68?%;line-height:%?68?%;z-index:10;background-color:#fff;border-radius:%?27?%;text-align:center;-webkit-box-shadow:hsla(0,0%,72.9%,.35) 0 %?4?% %?4?%;box-shadow:hsla(0,0%,72.9%,.35) 0 %?4?% %?4?%}.nav-area .nav .nav-item[data-v-4cc66e12]{width:25%;height:%?54?%;color:#fff;font-size:%?28?%;text-align:center;line-height:%?54?%;position:relative}.placeholder[data-v-4cc66e12]{height:%?380?%}.empty-box[data-v-4cc66e12]{width:100%;height:60vh;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.empty-box uni-image[data-v-4cc66e12]{width:%?280?%;height:%?280?%}.empty-box span[data-v-4cc66e12]{margin-top:%?15?%;color:#999;font-size:%?28?%}body.?%PAGE?%[data-v-4cc66e12]{background:#f7f7f7}",""])},"44b7":function(t,e,i){"use strict";i.r(e);var a=i("1f3c"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);e["default"]=n.a},"46d6":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{staticClass:"safe-area-inset-bottom"},[i("v-uni-view",{staticClass:"u-bottom-height"})],1),i("v-uni-view",{staticClass:"safe-area-inset-bottom u-bottom-fixed"},[i("v-uni-view",{staticClass:"app-menu main-between"},[i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.activity_loading,expression:"activity_loading"}],staticClass:"menu-btn dir-top-nowrap main-center cross-center",on:{click:function(e){e=t.$handleEvent(e),t.toActivity(e)}}},["activity"===t.active?i("v-uni-image",{class:t.theme+"-m-back "+t.theme,attrs:{src:"./../image/activity-active.png"},on:{load:function(e){e=t.$handleEvent(e),t.activityLoad(e)}}}):i("v-uni-image",{attrs:{src:"./../image/activity.png"},on:{load:function(e){e=t.$handleEvent(e),t.activityLoad(e)}}}),i("v-uni-view",{class:["activity"===t.active?t.activeClass:""]},[t._v("活动")])],1),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.order_loading,expression:"order_loading"}],staticClass:"menu-btn dir-top-nowrap main-center cross-center",on:{click:function(e){e=t.$handleEvent(e),t.toOrder(e)}}},["order"===t.active?i("v-uni-image",{class:t.theme+"-m-back "+t.theme,attrs:{src:"./../image/order-active.png"},on:{load:function(e){e=t.$handleEvent(e),t.orderLoad(e)}}}):i("v-uni-image",{attrs:{src:"./../image/order.png"},on:{load:function(e){e=t.$handleEvent(e),t.orderLoad(e)}}}),i("v-uni-view",{class:["order"===t.active?t.activeClass:""]},[t._v("订单")])],1),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.me_loading,expression:"me_loading"}],staticClass:"menu-btn dir-top-nowrap main-center cross-center",on:{click:function(e){e=t.$handleEvent(e),t.toMe(e)}}},["me"===t.active?i("v-uni-image",{class:t.theme+"-m-back "+t.theme,attrs:{src:"./../image/me-active.png"},on:{load:function(e){e=t.$handleEvent(e),t.meLoad(e)}}}):i("v-uni-image",{attrs:{src:"./../image/me.png"},on:{load:function(e){e=t.$handleEvent(e),t.meLoad(e)}}}),i("v-uni-view",{class:["me"===t.active?t.activeClass:""]},[t._v("我的")])],1)],1)],1)],1)},n=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n})},"5d89":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{class:[t.shadow?"main-between app-nav shadow":"main-between app-nav"],style:[{"line-height":(t.setHeight?t.setHeight:90)+"rpx","font-size":(t.fontSize?t.fontSize:28)+"rpx",height:(t.setHeight?t.setHeight:90)+"rpx",top:t.setTop>0?"calc("+t.setTop+"rpx + var(--window-top))":"var(--window-top)",backgroundColor:""+(t.background?t.background:"#fff")}]},t._l(t.tabList,function(e){return i("v-uni-view",{key:e.id,staticClass:"box-grow-1 nav-item",style:[{borderBottom:(t.border?1:0)+"rpx solid #e2e2e2"}],attrs:{"data-id":e.id},on:{click:function(e){e=t.$handleEvent(e),t.handleClick(e)}}},[i("v-uni-text",{class:[e.id==t.activeItem?"active-text "+t.theme+"-m-text "+t.theme:""],style:[{height:(t.setHeight?t.setHeight:90)+"rpx",padding:"0 "+t.padding+"rpx"}]},[t._v(t._s(e.name))])],1)}),1),i("v-uni-view",{style:[{height:(t.placeHeight?t.placeHeight:90)+"rpx"}]})],1)},n=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n})},"607e":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-layout",[i("v-uni-image",{staticClass:"banner",attrs:{src:t.setting.banner}}),i("v-uni-view",{staticClass:"nav-area"},[i("v-uni-view",{staticClass:"nav main-center cross-center",class:t.getTheme+"-m-back "+t.getTheme},[t._l(t.tabList,function(e,a){return i("v-uni-view",{key:e.id,staticClass:"nav-item",on:{click:function(i){i=t.$handleEvent(i),t.tabStatus(e,a)}}},[i("v-uni-text",[t._v(t._s(e.name))])],1)}),i("v-uni-view",{staticClass:"active",class:t.getTheme+"-m-text "+t.getTheme,attrs:{animation:t.animationData}},[t._v(t._s(t.activeTabName))])],2)],1),i("v-uni-view",{staticClass:"placeholder"}),t.list.length>0?i("v-uni-view",t._l(t.list,function(e){return e.goods_count>0?i("v-uni-view",{key:e.id,staticClass:"list"},[i("v-uni-view",{staticClass:"title main-center dir-top-nowrap",class:t.getTheme+"-m-gradient "+t.getTheme},[i("v-uni-view",{staticClass:"title-text t-omit"},[t._v(t._s(e.title)),i("v-uni-image",{staticClass:"hot-icon",attrs:{src:"./../image/hot.png"}})],1),e.condition>0?i("v-uni-view",{staticClass:"sec-title-text t-omit"},[e.num-e.condition_count>0?i("v-uni-text",[t._v("还差"+t._s(e.num-e.condition_count)+t._s(1==e.condition?"人":"件商品")+"成团")]):i("v-uni-text",[t._v("已成团")]),t._v("，已"),1==e.condition?i("v-uni-text",[t._v("参")]):t._e(),t._v("团"+t._s(e.condition_count?e.condition_count:"0")+t._s(1==e.condition?"人":"件"))],1):t._e()],1),i("v-uni-view",{staticClass:"status-text",class:t.getTheme+"-m-text "+t.getTheme},[i("v-uni-view",{staticClass:"status-bg",class:t.getTheme+"-m-back "+t.getTheme}),t._v(t._s(e.statusText))],1),i("v-uni-view",{staticClass:"goods-list",on:{click:function(i){i=t.$handleEvent(i),t.toDetail(e)}}},[i("v-uni-view",{staticClass:"dir-left-nowrap"},t._l(e.communityGoods_4,function(t){return i("v-uni-view",{key:t.id,staticClass:"goods"},[i("v-uni-image",{attrs:{mode:"aspectFill",src:t.cover_pic}})],1)}),1),i("v-uni-image",{staticClass:"right-arrow",attrs:{src:"/static/image/icon/arrow-right.png"}})],1),i("v-uni-view",{staticClass:"main-between cross-center other"},[i("v-uni-view",[t._v("共"+t._s(e.goods_count)+"件商品")])],1)],1):t._e()}),1):i("v-uni-view",{staticClass:"empty-box"},[t.loading?t._e():i("v-uni-image",{attrs:{src:"/static/image/no-goods.png"}}),t.loading?t._e():i("span",[t._v("暂无"+t._s(0==t.activeTab?"未开始":1==t.activeTab?"进行中":2==t.activeTab?"已结束":"")+"活动")])],1)],1)},n=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n})},"6dae":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".text-center[data-v-38950a18]{text-align:center}.font-weight[data-v-38950a18]{font-weight:700}.page-width[data-v-38950a18]{width:100%}.goods-hover-class[data-v-38950a18]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-38950a18]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}uni-page-body[data-v-38950a18]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-38950a18]{width:100%}.u-hover-class[data-v-38950a18]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-38950a18]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.app-nav[data-v-38950a18]{color:#353535;width:100%;position:fixed;left:0;background-color:#fff;z-index:11}.app-nav .nav-item[data-v-38950a18]{text-align:center}.app-nav .nav-item uni-text[data-v-38950a18]{display:inline-block}.app-nav .active-text[data-v-38950a18]{border-bottom:%?4?% solid}.app-nav.shadow[data-v-38950a18]{-webkit-box-shadow:0 %?2?% %?10?% rgba(0,0,0,.06);box-shadow:0 %?2?% %?10?% rgba(0,0,0,.06)}.default-m-text[data-v-38950a18]{color:#ff4544}.blue-m-text[data-v-38950a18]{color:#446dfd}body.?%PAGE?%[data-v-38950a18]{background:#f7f7f7}",""])},"7fd0":function(t,e,i){"use strict";i.r(e);var a=i("5d89"),n=i("86a7");for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);i("2e6e");var s=i("2877"),r=Object(s["a"])(n["default"],a["a"],a["b"],!1,null,"38950a18",null);e["default"]=r.exports},"86a7":function(t,e,i){"use strict";i.r(e);var a=i("93b4"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);e["default"]=n.a},"8fba":function(t,e,i){var a=i("42e6");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("64355834",a,!0,{sourceMap:!1,shadowMode:!1})},"93b2":function(t,e,i){"use strict";i.r(e);var a=i("46d6"),n=i("44b7");for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);i("a89c");var s=i("2877"),r=Object(s["a"])(n["default"],a["a"],a["b"],!1,null,"24384935",null);e["default"]=r.exports},"93b4":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"app-tab-nav",props:{background:String,setTop:{type:[Number,String]},padding:{default:45,type:[Number,String]},setHeight:Number,placeHeight:Number,fontSize:Number,theme:{default:"default",type:String},border:{default:!0,type:Boolean},shadow:{default:!0,type:Boolean},activeItem:{type:[Number,String]},tabList:Array},methods:{handleClick:function(t){this.$emit("click",t)}}};e.default=a},"980d":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".text-center[data-v-24384935]{text-align:center}.font-weight[data-v-24384935]{font-weight:700}.page-width[data-v-24384935]{width:100%}.goods-hover-class[data-v-24384935]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-24384935]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}uni-page-body[data-v-24384935]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-24384935]{width:100%}.u-hover-class[data-v-24384935]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-24384935]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.u-bottom-fixed[data-v-24384935]{position:fixed;bottom:0;left:0;width:100%;z-index:1500;background-color:#fff}.u-bottom-height[data-v-24384935]{height:%?90?%}.app-menu[data-v-24384935]{height:%?90?%;width:100%;background-color:#fff;font-size:%?22?%;border-top:%?2?% solid #e2e2e2}.app-menu .menu-btn[data-v-24384935]{width:%?200?%;color:#666;text-align:center;height:%?90?%}.app-menu .menu-btn uni-image[data-v-24384935]{width:%?40?%;height:%?40?%;margin-bottom:%?3?%}body.?%PAGE?%[data-v-24384935]{background:#f7f7f7}",""])},a89c:function(t,e,i){"use strict";var a=i("2acd"),n=i.n(a);n.a},d097:function(t,e,i){"use strict";i.r(e);var a=i("e0d8"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);e["default"]=n.a},e0d8:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i("2f62"),n=r(i("93b2")),o=r(i("7fd0")),s=r(i("409e"));function r(t){return t&&t.__esModule?t:{default:t}}function c(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,a)}return i}function d(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?c(i,!0).forEach(function(e){u(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):c(i).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function u(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var l={data:function(){return{tabList:[{id:-1,name:"全部"},{id:1,name:"进行中"},{id:0,name:"未开始"},{id:2,name:"已结束"}],activeTab:-1,activeTabName:"全部",list:[],setting:{},widthRate:1,id:0,loading:!1,more:!1,page:1,first:!0,poster:"",longitude:"",latitude:"",middleman:{},middleman_id:"",animation:{},animationData:{}}},components:{"app-tab-nav":o.default,"app-menu":n.default,appShareQrCode:s.default},computed:d({},(0,a.mapGetters)("mallConfig",{getTheme:"getTheme"}),{},(0,a.mapState)({stock:function(t){return t.mallConfig.__wxapp_img.stock},bonusImg:function(t){return t.mallConfig.__wxapp_img.bonus},userInfo:function(t){return t.user.info}})),onShow:function(){var t=this;if(t.animation=uni.createAnimation({duration:400,timingFunction:"linear"}),t.first)return!1;uni.getStorage({key:"middleman_info",success:function(e){e.data&&e.data.id>0&&(t.middleman_id=e.data.user_id),t.getList()},fail:function(){t.getList()}})},onLoad:function(){var t=this;uni.getSystemInfo({success:function(e){var i=2*e.windowWidth;t.widthRate=i/750}}),t.$jwx.isWechat()?t.$jwx.getLocation({success:function(e){uni.hideLoading(),t.longitude=e.longitude,t.latitude=e.latitude,t.$showLoading({type:"global",text:"加载中..."}),t.getSetting()},fail:function(){uni.showToast({title:"请开启手机位置权限",icon:"none",duration:1e3})}}):uni.getLocation({success:function(e){uni.hideLoading(),t.longitude=e.longitude,t.latitude=e.latitude,t.$showLoading({type:"global",text:"加载中..."}),t.getSetting()},fail:function(t){uni.showModal({title:"提示",content:"定位失败，确保定位服务已开启",success:function(t){if(t.confirm)window.location.reload();else if(t.cancel){var e=getCurrentPages();e.length>1?uni.navigateBack():uni.navigateTo({url:"pages/index/index"})}}})}})},onReachBottom:function(){this.more&&(this.page++,this.getMore(),this.more=!1)},methods:{getMore:function(){var t=this;t.loading=!0;var e={longitude:t.longitude,latitude:t.latitude,page:t.page,status:t.activeTab};t.middleman_id>0&&(e.middleman_id=t.middleman_id),t.$request({url:t.$api.community.list,data:e}).then(function(e){if(t.loading=!1,t.first=!1,t.$hideLoading(),uni.hideLoading(),0===e.code){for(var i in 20===e.list.length?t.more=!0:t.more=!1,e.list)0==e.list[i].goods_count&&e.list.splice(i,1);for(var a in t.list=t.list.concat(e.list),t.list)"已结束"===t.list[a].status_name?t.list[a].statusText="活动结束":"进行中"===t.list[a].status_name?t.list[a].statusText=t.list[a].end_at+"结束":"未开始"===t.list[a].status_name&&(t.list[a].statusText=t.list[a].start_at+"开始")}else uni.showToast({title:e.msg,icon:"none",duration:1e3})}).catch(function(){t.loading=!1,uni.hideLoading(),t.$hideLoading()})},toDetail:function(t){uni.navigateTo({url:"/plugins/community/activity/activity?id="+t.id+"&title="+t.title})},tabStatus:function(t,e){var i=this;if(i.loading)return!1;i.list=[],i.page=1,i.activeTab=t.id,i.activeTabName=t.name;var a=88*+i.widthRate*e;i.animation.translate(a,0).step(),i.animationData=i.animation.export(),i.getList()},getSetting:function(){var t=this;t.$showLoading({type:"global",text:"加载中..."}),t.$request({url:t.$api.community.setting}).then(function(e){0===e.code?(t.setting=e.data,uni.getStorage({key:"middleman_info",success:function(e){e.data&&e.data.id>0&&(t.middleman_id=e.data.user_id),t.getList()},fail:function(){t.getList()}})):(t.$hideLoading(),uni.showToast({title:e.msg,icon:"none",duration:1e3}))}).catch(function(){t.$hideLoading()})},getList:function(){var t=this;t.loading=!0;var e={longitude:t.longitude,latitude:t.latitude,status:t.activeTab};t.middleman_id>0&&(e.middleman_id=t.middleman_id),t.$request({url:t.$api.community.list,data:e,method:"post"}).then(function(e){if(t.loading=!1,t.first=!1,t.$hideLoading(),uni.hideLoading(),0===e.code){for(var i in 20===e.list.length?t.more=!0:t.more=!1,e.list)0==e.list[i].goods_count&&e.list.splice(i,1);for(var a in t.list=e.list,t.list)"已结束"===t.list[a].status_name?t.list[a].statusText="活动结束":"进行中"===t.list[a].status_name?t.list[a].statusText=t.list[a].end_at+"结束":"未开始"===t.list[a].status_name&&(t.list[a].statusText=t.list[a].start_at+"开始");e.removeStorage&&uni.removeStorage({key:"middleman_info"})}else uni.showToast({title:e.msg,icon:"none",duration:1e3})}).catch(function(){t.loading=!1,uni.hideLoading(),t.$hideLoading()})}}};e.default=l},e1437:function(t,e,i){"use strict";var a=i("8fba"),n=i.n(a);n.a}}]);